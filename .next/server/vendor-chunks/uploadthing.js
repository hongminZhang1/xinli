"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/uploadthing";
exports.ids = ["vendor-chunks/uploadthing"];
exports.modules = {

/***/ "(rsc)/./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js":
/*!****************************************************************!*\
  !*** ./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logDeprecationWarning: () => (/* binding */ logDeprecationWarning)\n/* harmony export */ });\n//#region src/_internal/deprecations.ts\nconst logDeprecationWarning = (message)=>{\n    console.warn(`⚠️ [uploadthing][deprecated] ${message}`);\n};\n//#endregion\n //# sourceMappingURL=deprecations-pLmw6Ytd.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9kZXByZWNhdGlvbnMtcExtdzZZdGQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHVDQUF1QztBQUN2QyxNQUFNQSx3QkFBd0IsQ0FBQ0M7SUFDOUJDLFFBQVFDLElBQUksQ0FBQyxDQUFDLDZCQUE2QixFQUFFRixRQUFRLENBQUM7QUFDdkQ7QUFFQSxZQUFZO0FBQ3FCLENBQ2pDLGlEQUFpRCIsInNvdXJjZXMiOlsid2VicGFjazovL3hpbmxpLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvZGVwcmVjYXRpb25zLXBMbXc2WXRkLmpzPzk1ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9faW50ZXJuYWwvZGVwcmVjYXRpb25zLnRzXG5jb25zdCBsb2dEZXByZWNhdGlvbldhcm5pbmcgPSAobWVzc2FnZSkgPT4ge1xuXHRjb25zb2xlLndhcm4oYOKaoO+4jyBbdXBsb2FkdGhpbmddW2RlcHJlY2F0ZWRdICR7bWVzc2FnZX1gKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgbG9nRGVwcmVjYXRpb25XYXJuaW5nIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXByZWNhdGlvbnMtcExtdzZZdGQuanMubWFwIl0sIm5hbWVzIjpbImxvZ0RlcHJlY2F0aW9uV2FybmluZyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwid2FybiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/package-DpScpvTA.js":
/*!***********************************************************!*\
  !*** ./node_modules/uploadthing/dist/package-DpScpvTA.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n//#region package.json\nvar version = \"7.7.4\";\n//#endregion\n //# sourceMappingURL=package-DpScpvTA.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9wYWNrYWdlLURwU2NwdlRBLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxzQkFBc0I7QUFDdEIsSUFBSUEsVUFBVTtBQUVkLFlBQVk7QUFDTyxDQUNuQiw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94aW5saS8uL25vZGVfbW9kdWxlcy91cGxvYWR0aGluZy9kaXN0L3BhY2thZ2UtRHBTY3B2VEEuanM/MjIyMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gcGFja2FnZS5qc29uXG52YXIgdmVyc2lvbiA9IFwiNy43LjRcIjtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyB2ZXJzaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWNrYWdlLURwU2NwdlRBLmpzLm1hcCJdLCJuYW1lcyI6WyJ2ZXJzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/package-DpScpvTA.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/shared-schemas-BmG5ARoX.js":
/*!******************************************************************!*\
  !*** ./node_modules/uploadthing/dist/shared-schemas-BmG5ARoX.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionType: () => (/* binding */ ActionType),\n/* harmony export */   CallbackResultResponse: () => (/* binding */ CallbackResultResponse),\n/* harmony export */   MetadataFetchResponse: () => (/* binding */ MetadataFetchResponse),\n/* harmony export */   MetadataFetchStreamPart: () => (/* binding */ MetadataFetchStreamPart),\n/* harmony export */   UploadActionPayload: () => (/* binding */ UploadActionPayload),\n/* harmony export */   UploadThingHook: () => (/* binding */ UploadThingHook),\n/* harmony export */   UploadThingToken: () => (/* binding */ UploadThingToken),\n/* harmony export */   UploadedFileData: () => (/* binding */ UploadedFileData)\n/* harmony export */ });\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uploadthing/shared */ \"(rsc)/./node_modules/@uploadthing/shared/dist/index.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/./node_modules/effect/dist/esm/Schema.js\");\n\n\n//#region src/_internal/shared-schemas.ts\nconst ContentDispositionSchema = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Literal(..._uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.ValidContentDispositions);\nconst ACLSchema = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Literal(..._uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.ValidACLs);\n/**\n* Valid options for the `?actionType` query param\n*/ const ActionType = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Literal(\"upload\");\n/**\n* Valid options for the `uploadthing-hook` header\n* for requests coming from UT server\n*/ const UploadThingHook = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Literal(\"callback\", \"error\");\n/**\n* =============================================================================\n* =========================== Configuration ===================================\n* =============================================================================\n*/ const DecodeString = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.transform(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayFromSelf, effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String, {\n    decode: (data)=>new TextDecoder().decode(data),\n    encode: (data)=>new TextEncoder().encode(data)\n});\nconst ParsedToken = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Struct({\n    apiKey: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Redacted(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.startsWith(\"sk_\"))),\n    appId: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    regions: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.NonEmptyArray(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String),\n    ingestHost: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.optionalWith({\n        default: ()=>\"ingest.uploadthing.com\"\n    }))\n});\nconst UploadThingToken = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayFromBase64.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.compose(DecodeString), effect_Schema__WEBPACK_IMPORTED_MODULE_0__.compose(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.parseJson(ParsedToken)));\n/**\n* =============================================================================\n* ======================== File Type Hierarchy ===============================\n* =============================================================================\n*/ /**\n* Properties from the web File object, this is what the client sends when initiating an upload\n*/ var FileUploadData = class extends effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Class(\"FileUploadData\")({\n    name: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    size: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Number,\n    type: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    lastModified: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Number.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.optional)\n}) {\n};\n/**\n* `.middleware()` can add a customId to the incoming file data\n*/ var FileUploadDataWithCustomId = class extends FileUploadData.extend(\"FileUploadDataWithCustomId\")({\n    customId: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.NullOr(effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String)\n}) {\n};\n/**\n* When files are uploaded, we get back\n* - a key\n* - URLs for the file\n* - the hash (md5-hex) of the uploaded file's contents\n*/ var UploadedFileData = class extends FileUploadDataWithCustomId.extend(\"UploadedFileData\")({\n    key: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    url: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    appUrl: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    ufsUrl: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    fileHash: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String\n}) {\n};\nvar MetadataFetchStreamPart = class extends effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Class(\"MetadataFetchStreamPart\")({\n    payload: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    signature: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String,\n    hook: UploadThingHook\n}) {\n};\nvar MetadataFetchResponse = class extends effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Class(\"MetadataFetchResponse\")({\n    ok: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Boolean\n}) {\n};\nvar CallbackResultResponse = class extends effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Class(\"CallbackResultResponse\")({\n    ok: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Boolean\n}) {\n};\n/**\n* =============================================================================\n* ======================== Client Action Payloads ============================\n* =============================================================================\n*/ var UploadActionPayload = class extends effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Class(\"UploadActionPayload\")({\n    files: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Array(FileUploadData),\n    input: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Unknown\n}) {\n};\n//#endregion\n //# sourceMappingURL=shared-schemas-BmG5ARoX.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9zaGFyZWQtc2NoZW1hcy1CbUc1QVJvWC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTBFO0FBQ3ZDO0FBRW5DLHlDQUF5QztBQUN6QyxNQUFNRywyQkFBMkJELGtEQUFTLElBQUlELHlFQUF3QkE7QUFDdEUsTUFBTUksWUFBWUgsa0RBQVMsSUFBSUYsMERBQVNBO0FBQ3hDOztBQUVBLEdBQ0EsTUFBTU0sYUFBYUosa0RBQVMsQ0FBQztBQUM3Qjs7O0FBR0EsR0FDQSxNQUFNSyxrQkFBa0JMLGtEQUFTLENBQUMsWUFBWTtBQUM5Qzs7OztBQUlBLEdBQ0EsTUFBTU0sZUFBZU4sb0RBQVcsQ0FBQ0EsNkRBQW9CLEVBQUVBLGlEQUFRLEVBQUU7SUFDaEVVLFFBQVEsQ0FBQ0MsT0FBUyxJQUFJQyxjQUFjRixNQUFNLENBQUNDO0lBQzNDRSxRQUFRLENBQUNGLE9BQVMsSUFBSUcsY0FBY0QsTUFBTSxDQUFDRjtBQUM1QztBQUNBLE1BQU1JLGNBQWNmLGlEQUFRLENBQUM7SUFDNUJpQixRQUFRakIsbURBQVUsQ0FBQ0EsaURBQVEsQ0FBQ21CLElBQUksQ0FBQ25CLHFEQUFZLENBQUM7SUFDOUNxQixPQUFPckIsaURBQVE7SUFDZnNCLFNBQVN0Qix3REFBZSxDQUFDQSxpREFBUTtJQUNqQ3dCLFlBQVl4QixpREFBUSxDQUFDbUIsSUFBSSxDQUFDbkIsdURBQWMsQ0FBQztRQUFFMEIsU0FBUyxJQUFNO0lBQXlCO0FBQ3BGO0FBQ0EsTUFBTUMsbUJBQW1CM0IsK0RBQXNCLENBQUNtQixJQUFJLENBQUNuQixrREFBUyxDQUFDTSxlQUFlTixrREFBUyxDQUFDQSxvREFBVyxDQUFDZTtBQUNwRzs7OztBQUlBLEdBQ0E7O0FBRUEsR0FDQSxJQUFJZ0IsaUJBQWlCLGNBQWMvQixnREFBTyxDQUFDLGtCQUFrQjtJQUM1RGlDLE1BQU1qQyxpREFBUTtJQUNka0MsTUFBTWxDLGlEQUFRO0lBQ2RvQyxNQUFNcEMsaURBQVE7SUFDZHFDLGNBQWNyQyxpREFBUSxDQUFDbUIsSUFBSSxDQUFDbkIsbURBQVU7QUFDdkM7QUFBSTtBQUNKOztBQUVBLEdBQ0EsSUFBSXVDLDZCQUE2QixjQUFjUixlQUFlUyxNQUFNLENBQUMsOEJBQThCO0lBQUVDLFVBQVV6QyxpREFBUSxDQUFDQSxpREFBUTtBQUFFO0FBQUk7QUFDdEk7Ozs7O0FBS0EsR0FDQSxJQUFJMkMsbUJBQW1CLGNBQWNKLDJCQUEyQkMsTUFBTSxDQUFDLG9CQUFvQjtJQUMxRkksS0FBSzVDLGlEQUFRO0lBQ2I2QyxLQUFLN0MsaURBQVE7SUFDYjhDLFFBQVE5QyxpREFBUTtJQUNoQitDLFFBQVEvQyxpREFBUTtJQUNoQmdELFVBQVVoRCxpREFBUTtBQUNuQjtBQUFJO0FBQ0osSUFBSWlELDBCQUEwQixjQUFjakQsZ0RBQU8sQ0FBQywyQkFBMkI7SUFDOUVrRCxTQUFTbEQsaURBQVE7SUFDakJtRCxXQUFXbkQsaURBQVE7SUFDbkJvRCxNQUFNL0M7QUFDUDtBQUFJO0FBQ0osSUFBSWdELHdCQUF3QixjQUFjckQsZ0RBQU8sQ0FBQyx5QkFBeUI7SUFBRXNELElBQUl0RCxrREFBUztBQUFDO0FBQUk7QUFDL0YsSUFBSXdELHlCQUF5QixjQUFjeEQsZ0RBQU8sQ0FBQywwQkFBMEI7SUFBRXNELElBQUl0RCxrREFBUztBQUFDO0FBQUk7QUFDakc7Ozs7QUFJQSxHQUNBLElBQUl5RCxzQkFBc0IsY0FBY3pELGdEQUFPLENBQUMsdUJBQXVCO0lBQ3RFMEQsT0FBTzFELGdEQUFPLENBQUMrQjtJQUNmNkIsT0FBTzVELGtEQUFTO0FBQ2pCO0FBQUk7QUFFSixZQUFZO0FBQzRKLENBQ3hLLG1EQUFtRCIsInNvdXJjZXMiOlsid2VicGFjazovL3hpbmxpLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3Qvc2hhcmVkLXNjaGVtYXMtQm1HNUFSb1guanM/NmM0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZEFDTHMsIFZhbGlkQ29udGVudERpc3Bvc2l0aW9ucyB9IGZyb20gXCJAdXBsb2FkdGhpbmcvc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBTIGZyb20gXCJlZmZlY3QvU2NoZW1hXCI7XG5cbi8vI3JlZ2lvbiBzcmMvX2ludGVybmFsL3NoYXJlZC1zY2hlbWFzLnRzXG5jb25zdCBDb250ZW50RGlzcG9zaXRpb25TY2hlbWEgPSBTLkxpdGVyYWwoLi4uVmFsaWRDb250ZW50RGlzcG9zaXRpb25zKTtcbmNvbnN0IEFDTFNjaGVtYSA9IFMuTGl0ZXJhbCguLi5WYWxpZEFDTHMpO1xuLyoqXG4qIFZhbGlkIG9wdGlvbnMgZm9yIHRoZSBgP2FjdGlvblR5cGVgIHF1ZXJ5IHBhcmFtXG4qL1xuY29uc3QgQWN0aW9uVHlwZSA9IFMuTGl0ZXJhbChcInVwbG9hZFwiKTtcbi8qKlxuKiBWYWxpZCBvcHRpb25zIGZvciB0aGUgYHVwbG9hZHRoaW5nLWhvb2tgIGhlYWRlclxuKiBmb3IgcmVxdWVzdHMgY29taW5nIGZyb20gVVQgc2VydmVyXG4qL1xuY29uc3QgVXBsb2FkVGhpbmdIb29rID0gUy5MaXRlcmFsKFwiY2FsbGJhY2tcIiwgXCJlcnJvclwiKTtcbi8qKlxuKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ29uZmlndXJhdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmNvbnN0IERlY29kZVN0cmluZyA9IFMudHJhbnNmb3JtKFMuVWludDhBcnJheUZyb21TZWxmLCBTLlN0cmluZywge1xuXHRkZWNvZGU6IChkYXRhKSA9PiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZGF0YSksXG5cdGVuY29kZTogKGRhdGEpID0+IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShkYXRhKVxufSk7XG5jb25zdCBQYXJzZWRUb2tlbiA9IFMuU3RydWN0KHtcblx0YXBpS2V5OiBTLlJlZGFjdGVkKFMuU3RyaW5nLnBpcGUoUy5zdGFydHNXaXRoKFwic2tfXCIpKSksXG5cdGFwcElkOiBTLlN0cmluZyxcblx0cmVnaW9uczogUy5Ob25FbXB0eUFycmF5KFMuU3RyaW5nKSxcblx0aW5nZXN0SG9zdDogUy5TdHJpbmcucGlwZShTLm9wdGlvbmFsV2l0aCh7IGRlZmF1bHQ6ICgpID0+IFwiaW5nZXN0LnVwbG9hZHRoaW5nLmNvbVwiIH0pKVxufSk7XG5jb25zdCBVcGxvYWRUaGluZ1Rva2VuID0gUy5VaW50OEFycmF5RnJvbUJhc2U2NC5waXBlKFMuY29tcG9zZShEZWNvZGVTdHJpbmcpLCBTLmNvbXBvc2UoUy5wYXJzZUpzb24oUGFyc2VkVG9rZW4pKSk7XG4vKipcbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiogPT09PT09PT09PT09PT09PT09PT09PT09IEZpbGUgVHlwZSBIaWVyYXJjaHkgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbi8qKlxuKiBQcm9wZXJ0aWVzIGZyb20gdGhlIHdlYiBGaWxlIG9iamVjdCwgdGhpcyBpcyB3aGF0IHRoZSBjbGllbnQgc2VuZHMgd2hlbiBpbml0aWF0aW5nIGFuIHVwbG9hZFxuKi9cbnZhciBGaWxlVXBsb2FkRGF0YSA9IGNsYXNzIGV4dGVuZHMgUy5DbGFzcyhcIkZpbGVVcGxvYWREYXRhXCIpKHtcblx0bmFtZTogUy5TdHJpbmcsXG5cdHNpemU6IFMuTnVtYmVyLFxuXHR0eXBlOiBTLlN0cmluZyxcblx0bGFzdE1vZGlmaWVkOiBTLk51bWJlci5waXBlKFMub3B0aW9uYWwpXG59KSB7fTtcbi8qKlxuKiBgLm1pZGRsZXdhcmUoKWAgY2FuIGFkZCBhIGN1c3RvbUlkIHRvIHRoZSBpbmNvbWluZyBmaWxlIGRhdGFcbiovXG52YXIgRmlsZVVwbG9hZERhdGFXaXRoQ3VzdG9tSWQgPSBjbGFzcyBleHRlbmRzIEZpbGVVcGxvYWREYXRhLmV4dGVuZChcIkZpbGVVcGxvYWREYXRhV2l0aEN1c3RvbUlkXCIpKHsgY3VzdG9tSWQ6IFMuTnVsbE9yKFMuU3RyaW5nKSB9KSB7fTtcbi8qKlxuKiBXaGVuIGZpbGVzIGFyZSB1cGxvYWRlZCwgd2UgZ2V0IGJhY2tcbiogLSBhIGtleVxuKiAtIFVSTHMgZm9yIHRoZSBmaWxlXG4qIC0gdGhlIGhhc2ggKG1kNS1oZXgpIG9mIHRoZSB1cGxvYWRlZCBmaWxlJ3MgY29udGVudHNcbiovXG52YXIgVXBsb2FkZWRGaWxlRGF0YSA9IGNsYXNzIGV4dGVuZHMgRmlsZVVwbG9hZERhdGFXaXRoQ3VzdG9tSWQuZXh0ZW5kKFwiVXBsb2FkZWRGaWxlRGF0YVwiKSh7XG5cdGtleTogUy5TdHJpbmcsXG5cdHVybDogUy5TdHJpbmcsXG5cdGFwcFVybDogUy5TdHJpbmcsXG5cdHVmc1VybDogUy5TdHJpbmcsXG5cdGZpbGVIYXNoOiBTLlN0cmluZ1xufSkge307XG52YXIgTWV0YWRhdGFGZXRjaFN0cmVhbVBhcnQgPSBjbGFzcyBleHRlbmRzIFMuQ2xhc3MoXCJNZXRhZGF0YUZldGNoU3RyZWFtUGFydFwiKSh7XG5cdHBheWxvYWQ6IFMuU3RyaW5nLFxuXHRzaWduYXR1cmU6IFMuU3RyaW5nLFxuXHRob29rOiBVcGxvYWRUaGluZ0hvb2tcbn0pIHt9O1xudmFyIE1ldGFkYXRhRmV0Y2hSZXNwb25zZSA9IGNsYXNzIGV4dGVuZHMgUy5DbGFzcyhcIk1ldGFkYXRhRmV0Y2hSZXNwb25zZVwiKSh7IG9rOiBTLkJvb2xlYW4gfSkge307XG52YXIgQ2FsbGJhY2tSZXN1bHRSZXNwb25zZSA9IGNsYXNzIGV4dGVuZHMgUy5DbGFzcyhcIkNhbGxiYWNrUmVzdWx0UmVzcG9uc2VcIikoeyBvazogUy5Cb29sZWFuIH0pIHt9O1xuLyoqXG4qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qID09PT09PT09PT09PT09PT09PT09PT09PSBDbGllbnQgQWN0aW9uIFBheWxvYWRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG52YXIgVXBsb2FkQWN0aW9uUGF5bG9hZCA9IGNsYXNzIGV4dGVuZHMgUy5DbGFzcyhcIlVwbG9hZEFjdGlvblBheWxvYWRcIikoe1xuXHRmaWxlczogUy5BcnJheShGaWxlVXBsb2FkRGF0YSksXG5cdGlucHV0OiBTLlVua25vd25cbn0pIHt9O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFjdGlvblR5cGUsIENhbGxiYWNrUmVzdWx0UmVzcG9uc2UsIE1ldGFkYXRhRmV0Y2hSZXNwb25zZSwgTWV0YWRhdGFGZXRjaFN0cmVhbVBhcnQsIFVwbG9hZEFjdGlvblBheWxvYWQsIFVwbG9hZFRoaW5nSG9vaywgVXBsb2FkVGhpbmdUb2tlbiwgVXBsb2FkZWRGaWxlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhcmVkLXNjaGVtYXMtQm1HNUFSb1guanMubWFwIl0sIm5hbWVzIjpbIlZhbGlkQUNMcyIsIlZhbGlkQ29udGVudERpc3Bvc2l0aW9ucyIsIlMiLCJDb250ZW50RGlzcG9zaXRpb25TY2hlbWEiLCJMaXRlcmFsIiwiQUNMU2NoZW1hIiwiQWN0aW9uVHlwZSIsIlVwbG9hZFRoaW5nSG9vayIsIkRlY29kZVN0cmluZyIsInRyYW5zZm9ybSIsIlVpbnQ4QXJyYXlGcm9tU2VsZiIsIlN0cmluZyIsImRlY29kZSIsImRhdGEiLCJUZXh0RGVjb2RlciIsImVuY29kZSIsIlRleHRFbmNvZGVyIiwiUGFyc2VkVG9rZW4iLCJTdHJ1Y3QiLCJhcGlLZXkiLCJSZWRhY3RlZCIsInBpcGUiLCJzdGFydHNXaXRoIiwiYXBwSWQiLCJyZWdpb25zIiwiTm9uRW1wdHlBcnJheSIsImluZ2VzdEhvc3QiLCJvcHRpb25hbFdpdGgiLCJkZWZhdWx0IiwiVXBsb2FkVGhpbmdUb2tlbiIsIlVpbnQ4QXJyYXlGcm9tQmFzZTY0IiwiY29tcG9zZSIsInBhcnNlSnNvbiIsIkZpbGVVcGxvYWREYXRhIiwiQ2xhc3MiLCJuYW1lIiwic2l6ZSIsIk51bWJlciIsInR5cGUiLCJsYXN0TW9kaWZpZWQiLCJvcHRpb25hbCIsIkZpbGVVcGxvYWREYXRhV2l0aEN1c3RvbUlkIiwiZXh0ZW5kIiwiY3VzdG9tSWQiLCJOdWxsT3IiLCJVcGxvYWRlZEZpbGVEYXRhIiwia2V5IiwidXJsIiwiYXBwVXJsIiwidWZzVXJsIiwiZmlsZUhhc2giLCJNZXRhZGF0YUZldGNoU3RyZWFtUGFydCIsInBheWxvYWQiLCJzaWduYXR1cmUiLCJob29rIiwiTWV0YWRhdGFGZXRjaFJlc3BvbnNlIiwib2siLCJCb29sZWFuIiwiQ2FsbGJhY2tSZXN1bHRSZXNwb25zZSIsIlVwbG9hZEFjdGlvblBheWxvYWQiLCJmaWxlcyIsIkFycmF5IiwiaW5wdXQiLCJVbmtub3duIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/shared-schemas-BmG5ARoX.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/upload-builder-BlFOAnsv.js":
/*!******************************************************************!*\
  !*** ./node_modules/uploadthing/dist/upload-builder-BlFOAnsv.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdapterArguments: () => (/* binding */ AdapterArguments),\n/* harmony export */   ApiUrl: () => (/* binding */ ApiUrl),\n/* harmony export */   IngestUrl: () => (/* binding */ IngestUrl),\n/* harmony export */   UTFiles: () => (/* binding */ UTFiles),\n/* harmony export */   UTRegion: () => (/* binding */ UTRegion),\n/* harmony export */   UTToken: () => (/* binding */ UTToken),\n/* harmony export */   UfsAppIdLocation: () => (/* binding */ UfsAppIdLocation),\n/* harmony export */   UfsHost: () => (/* binding */ UfsHost),\n/* harmony export */   configProvider: () => (/* binding */ configProvider),\n/* harmony export */   createBuilder: () => (/* binding */ createBuilder),\n/* harmony export */   createRequestHandler: () => (/* binding */ createRequestHandler),\n/* harmony export */   extractRouterConfig: () => (/* binding */ extractRouterConfig),\n/* harmony export */   logHttpClientError: () => (/* binding */ logHttpClientError),\n/* harmony export */   logHttpClientResponse: () => (/* binding */ logHttpClientResponse),\n/* harmony export */   makeAdapterHandler: () => (/* binding */ makeAdapterHandler),\n/* harmony export */   makeRuntime: () => (/* binding */ makeRuntime)\n/* harmony export */ });\n/* harmony import */ var _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./package-DpScpvTA.js */ \"(rsc)/./node_modules/uploadthing/dist/package-DpScpvTA.js\");\n/* harmony import */ var _deprecations_pLmw6Ytd_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./deprecations-pLmw6Ytd.js */ \"(rsc)/./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js\");\n/* harmony import */ var _shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared-schemas-BmG5ARoX.js */ \"(rsc)/./node_modules/uploadthing/dist/shared-schemas-BmG5ARoX.js\");\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uploadthing/shared */ \"(rsc)/./node_modules/@uploadthing/shared/dist/index.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var _effect_platform_HttpApp__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @effect/platform/HttpApp */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpApp.js\");\n/* harmony import */ var _effect_platform_HttpBody__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @effect/platform/HttpBody */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpBody.js\");\n/* harmony import */ var _effect_platform_HttpClient__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @effect/platform/HttpClient */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpClient.js\");\n/* harmony import */ var _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @effect/platform/HttpClientRequest */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpClientRequest.js\");\n/* harmony import */ var _effect_platform_HttpClientResponse__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @effect/platform/HttpClientResponse */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js\");\n/* harmony import */ var _effect_platform_HttpClientResponse__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @effect/platform/HttpClientResponse */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpClientResponse.js\");\n/* harmony import */ var _effect_platform_HttpRouter__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @effect/platform/HttpRouter */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpRouter.js\");\n/* harmony import */ var _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @effect/platform/HttpServerRequest */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpServerRequest.js\");\n/* harmony import */ var _effect_platform_HttpServerResponse__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @effect/platform/HttpServerResponse */ \"(rsc)/./node_modules/@effect/platform/dist/esm/HttpServerResponse.js\");\n/* harmony import */ var effect_Config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Config */ \"(rsc)/./node_modules/effect/dist/esm/Config.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effect/Context */ \"(rsc)/./node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Match__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! effect/Match */ \"(rsc)/./node_modules/effect/dist/esm/Match.js\");\n/* harmony import */ var effect_Redacted__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! effect/Redacted */ \"(rsc)/./node_modules/effect/dist/esm/Redacted.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/./node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/ConfigProvider */ \"(rsc)/./node_modules/effect/dist/esm/ConfigProvider.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/./node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var effect_ConfigError__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/ConfigError */ \"(rsc)/./node_modules/effect/dist/esm/ConfigError.js\");\n/* harmony import */ var effect_Either__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Either */ \"(rsc)/./node_modules/effect/dist/esm/Either.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/./node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Logger__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Logger */ \"(rsc)/./node_modules/effect/dist/esm/Logger.js\");\n/* harmony import */ var effect_LogLevel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/LogLevel */ \"(rsc)/./node_modules/effect/dist/esm/LogLevel.js\");\n/* harmony import */ var effect_Cause__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! effect/Cause */ \"(rsc)/./node_modules/effect/dist/esm/Cause.js\");\n/* harmony import */ var effect_Data__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Data */ \"(rsc)/./node_modules/effect/dist/esm/Data.js\");\n/* harmony import */ var effect_Runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! effect/Runtime */ \"(rsc)/./node_modules/effect/dist/esm/Runtime.js\");\n/* harmony import */ var _effect_platform_FetchHttpClient__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @effect/platform/FetchHttpClient */ \"(rsc)/./node_modules/@effect/platform/dist/esm/FetchHttpClient.js\");\n/* harmony import */ var _effect_platform_Headers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @effect/platform/Headers */ \"(rsc)/./node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/./node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_ManagedRuntime__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effect/ManagedRuntime */ \"(rsc)/./node_modules/effect/dist/esm/ManagedRuntime.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/_internal/config.ts\n/**\n* Merge in `import.meta.env` to the built-in `process.env` provider\n* Prefix keys with `UPLOADTHING_` so we can reference just the name.\n* @example\n* process.env.UPLOADTHING_TOKEN = \"foo\"\n* Config.string(\"token\"); // Config<\"foo\">\n*/ const envProvider = effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__.fromEnv().pipe(effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__.orElse(()=>effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__.fromMap(new Map(Object.entries((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.filterDefinedObjectValues)( null ?? {}))), {\n        pathDelim: \"_\"\n    })), effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__.nested(\"uploadthing\"), effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__.constantCase);\n/**\n* Config provider that merges the options from the object\n* and environment variables prefixed with `UPLOADTHING_`.\n* @remarks Options take precedence over environment variables.\n*/ const configProvider = (options)=>effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__.fromJson(options ?? {}).pipe(effect_ConfigProvider__WEBPACK_IMPORTED_MODULE_0__.orElse(()=>envProvider));\nconst IsDevelopment = effect_Config__WEBPACK_IMPORTED_MODULE_2__.boolean(\"isDev\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.orElse(()=>effect_Config__WEBPACK_IMPORTED_MODULE_2__.succeed(typeof process !== \"undefined\" ? \"development\" : void 0).pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.map((_)=>_ === \"development\"))), effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(false));\nconst UTToken = effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Config(\"token\", _shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.UploadThingToken).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchTags({\n    ConfigError: (e)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n            code: e._op === \"InvalidData\" ? \"INVALID_SERVER_CONFIG\" : \"MISSING_ENV\",\n            message: e._op === \"InvalidData\" ? \"Invalid token. A token is a base64 encoded JSON object matching { apiKey: string, appId: string, regions: string[] }.\" : \"Missing token. Please set the `UPLOADTHING_TOKEN` environment variable or provide a token manually through config.\",\n            cause: e\n        })\n}));\nconst ApiUrl = effect_Config__WEBPACK_IMPORTED_MODULE_2__.string(\"apiUrl\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(\"https://api.uploadthing.com\"), effect_Config__WEBPACK_IMPORTED_MODULE_2__.mapAttempt((_)=>new URL(_)), effect_Config__WEBPACK_IMPORTED_MODULE_2__.map((url)=>url.href.replace(/\\/$/, \"\")));\nconst IngestUrl = effect_Effect__WEBPACK_IMPORTED_MODULE_5__.fn(function*(preferredRegion) {\n    const { regions, ingestHost } = yield* UTToken;\n    const region = preferredRegion ? regions.find((r)=>r === preferredRegion) ?? regions[0] : regions[0];\n    return yield* effect_Config__WEBPACK_IMPORTED_MODULE_2__.string(\"ingestUrl\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(`https://${region}.${ingestHost}`), effect_Config__WEBPACK_IMPORTED_MODULE_2__.mapAttempt((_)=>new URL(_)), effect_Config__WEBPACK_IMPORTED_MODULE_2__.map((url)=>url.href.replace(/\\/$/, \"\")));\n});\nconst UtfsHost = effect_Config__WEBPACK_IMPORTED_MODULE_2__.string(\"utfsHost\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(\"utfs.io\"));\nconst UfsHost = effect_Config__WEBPACK_IMPORTED_MODULE_2__.string(\"ufsHost\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(\"ufs.sh\"));\nconst UfsAppIdLocation = effect_Config__WEBPACK_IMPORTED_MODULE_2__.literal(\"subdomain\", \"path\")(\"ufsAppIdLocation\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(\"subdomain\"));\n//#endregion\n//#region src/_internal/error-formatter.ts\nfunction defaultErrorFormatter(error) {\n    return {\n        message: error.message\n    };\n}\nfunction formatError(error, router) {\n    const firstSlug = Object.keys(router)[0];\n    const errorFormatter = firstSlug ? router[firstSlug]?.errorFormatter ?? defaultErrorFormatter : defaultErrorFormatter;\n    return errorFormatter(error);\n}\n//#endregion\n//#region src/_internal/jsonl.ts\nconst handleJsonLineStream = (schema, onChunk)=>(stream)=>{\n        let buf = \"\";\n        return stream.pipe(effect_Stream__WEBPACK_IMPORTED_MODULE_6__.decodeText(), effect_Stream__WEBPACK_IMPORTED_MODULE_6__.mapEffect((chunk)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n                buf += chunk;\n                const parts = buf.split(\"\\n\");\n                const validChunks = [];\n                for (const part of parts)try {\n                    validChunks.push(JSON.parse(part));\n                    buf = buf.slice(part.length + 1);\n                } catch  {}\n                yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Received chunks\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"chunk\", chunk), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"parsedChunks\", validChunks), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"buf\", buf));\n                return validChunks;\n            })), effect_Stream__WEBPACK_IMPORTED_MODULE_6__.mapEffect(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.decodeUnknown(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Array(schema))), effect_Stream__WEBPACK_IMPORTED_MODULE_6__.mapEffect(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach((part)=>onChunk(part))), effect_Stream__WEBPACK_IMPORTED_MODULE_6__.runDrain, effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withLogSpan(\"handleJsonLineStream\"));\n    };\n//#endregion\n//#region src/_internal/logger.ts\n/**\n* Config.logLevel counter-intuitively accepts LogLevel[\"label\"]\n* instead of a literal, ripping it and changing to accept literal\n* Effect 4.0 will change this to accept a literal and then we can\n* remove this and go back to the built-in validator.\n*/ const ConfigLogLevel = (name)=>{\n    const config = effect_Config__WEBPACK_IMPORTED_MODULE_2__.mapOrFail(effect_Config__WEBPACK_IMPORTED_MODULE_2__.string(), (literal)=>{\n        const level = effect_LogLevel__WEBPACK_IMPORTED_MODULE_7__.allLevels.find((level$1)=>level$1._tag === literal);\n        return level === void 0 ? effect_Either__WEBPACK_IMPORTED_MODULE_8__.left(effect_ConfigError__WEBPACK_IMPORTED_MODULE_9__.InvalidData([], `Expected a log level but received ${literal}`)) : effect_Either__WEBPACK_IMPORTED_MODULE_8__.right(level);\n    });\n    return name === void 0 ? config : effect_Config__WEBPACK_IMPORTED_MODULE_2__.nested(config, name);\n};\nconst withMinimalLogLevel = ConfigLogLevel(\"logLevel\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(effect_LogLevel__WEBPACK_IMPORTED_MODULE_7__.Info), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.andThen((level)=>effect_Logger__WEBPACK_IMPORTED_MODULE_10__.minimumLogLevel(level)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tapError((e)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(\"Invalid log level\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"error\", e))), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchTag(\"ConfigError\", (e)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n        code: \"INVALID_SERVER_CONFIG\",\n        message: \"Invalid server configuration\",\n        cause: e\n    })), effect_Layer__WEBPACK_IMPORTED_MODULE_11__.unwrapEffect);\nconst LogFormat = effect_Config__WEBPACK_IMPORTED_MODULE_2__.literal(\"json\", \"logFmt\", \"structured\", \"pretty\")(\"logFormat\");\nconst withLogFormat = effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n    const isDev = yield* IsDevelopment;\n    const logFormat = yield* LogFormat.pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(isDev ? \"pretty\" : \"json\"));\n    return effect_Logger__WEBPACK_IMPORTED_MODULE_10__[logFormat];\n}).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchTag(\"ConfigError\", (e)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n        code: \"INVALID_SERVER_CONFIG\",\n        message: \"Invalid server configuration\",\n        cause: e\n    })), effect_Layer__WEBPACK_IMPORTED_MODULE_11__.unwrapEffect);\nconst logHttpClientResponse = (message, opts)=>{\n    const mixin = opts?.mixin ?? \"json\";\n    const level = effect_LogLevel__WEBPACK_IMPORTED_MODULE_7__.fromLiteral(opts?.level ?? \"Debug\");\n    return (response)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(mixin !== \"None\" ? response[mixin] : effect_Effect__WEBPACK_IMPORTED_MODULE_5__[\"void\"], ()=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logWithLevel(level, `${message} (${response.status})`).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"response\", response)));\n};\nconst logHttpClientError = (message)=>(err)=>err._tag === \"ResponseError\" ? logHttpClientResponse(message, {\n            level: \"Error\"\n        })(err.response) : effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(message).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"error\", err));\n//#endregion\n//#region src/_internal/parser.ts\nvar ParserError = class extends effect_Data__WEBPACK_IMPORTED_MODULE_12__.TaggedError(\"ParserError\") {\n    constructor(...args){\n        super(...args);\n        this.message = \"Input validation failed. The original error with it's validation issues is in the error cause.\";\n    }\n};\nfunction getParseFn(parser) {\n    if (\"parseAsync\" in parser && typeof parser.parseAsync === \"function\") /**\n\t* Zod\n\t* TODO (next major): Consider wrapping ZodError in ParserError\n\t*/ return parser.parseAsync;\n    if (effect_Schema__WEBPACK_IMPORTED_MODULE_3__.isSchema(parser)) /**\n\t* Effect Schema\n\t*/ return (value)=>effect_Schema__WEBPACK_IMPORTED_MODULE_3__.decodeUnknownPromise(parser)(value).catch((error)=>{\n            throw new ParserError({\n                cause: effect_Cause__WEBPACK_IMPORTED_MODULE_13__.squash(error[effect_Runtime__WEBPACK_IMPORTED_MODULE_14__.FiberFailureCauseId])\n            });\n        });\n    if (\"~standard\" in parser) /**\n\t* Standard Schema\n\t* TODO (next major): Consider moving this to the top of the function\n\t*/ return async (value)=>{\n        const result = await parser[\"~standard\"].validate(value);\n        if (result.issues) throw new ParserError({\n            cause: result.issues\n        });\n        return result.value;\n    };\n    throw new Error(\"Invalid parser\");\n}\n//#endregion\n//#region src/_internal/route-config.ts\nvar FileSizeMismatch = class extends effect_Data__WEBPACK_IMPORTED_MODULE_12__.Error {\n    constructor(type, max, actual){\n        const reason = `You uploaded a ${type} file that was ${(0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.bytesToFileSize)(actual)}, but the limit for that type is ${max}`;\n        super({\n            reason\n        });\n        this._tag = \"FileSizeMismatch\";\n        this.name = \"FileSizeMismatchError\";\n    }\n};\nvar FileCountMismatch = class extends effect_Data__WEBPACK_IMPORTED_MODULE_12__.Error {\n    constructor(type, boundtype, bound, actual){\n        const reason = `You uploaded ${actual} file(s) of type '${type}', but the ${boundtype} for that type is ${bound}`;\n        super({\n            reason\n        });\n        this._tag = \"FileCountMismatch\";\n        this.name = \"FileCountMismatchError\";\n    }\n};\nconst assertFilesMeetConfig = (files, routeConfig)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n        const counts = {};\n        for (const file of files){\n            const type = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.matchFileType)(file, (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.objectKeys)(routeConfig));\n            counts[type] = (counts[type] ?? 0) + 1;\n            const sizeLimit = routeConfig[type]?.maxFileSize;\n            if (!sizeLimit) return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.InvalidRouteConfigError(type, \"maxFileSize\");\n            const sizeLimitBytes = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.fileSizeToBytes)(sizeLimit);\n            if (file.size > sizeLimitBytes) return yield* new FileSizeMismatch(type, sizeLimit, file.size);\n        }\n        for(const _key in counts){\n            const key = _key;\n            const config = routeConfig[key];\n            if (!config) return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.InvalidRouteConfigError(key);\n            const count = counts[key];\n            const min = config.minFileCount;\n            const max = config.maxFileCount;\n            if (min > max) return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"Invalid config during file count - minFileCount > maxFileCount\",\n                cause: `minFileCount must be less than maxFileCount for key ${key}. got: ${min} > ${max}`\n            });\n            if (count != null && count < min) return yield* new FileCountMismatch(key, \"minimum\", min, count);\n            if (count != null && count > max) return yield* new FileCountMismatch(key, \"maximum\", max, count);\n        }\n        return null;\n    });\nconst extractRouterConfig = (router)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.objectKeys)(router), (slug)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.fillInputRouteConfig)(router[slug].routerConfig), (config)=>({\n                slug,\n                config\n            })));\n//#endregion\n//#region src/_internal/runtime.ts\nconst makeRuntime = (fetch, config)=>{\n    const fetchHttpClient = effect_Layer__WEBPACK_IMPORTED_MODULE_11__.provideMerge(_effect_platform_FetchHttpClient__WEBPACK_IMPORTED_MODULE_15__.layer, effect_Layer__WEBPACK_IMPORTED_MODULE_11__.succeed(_effect_platform_FetchHttpClient__WEBPACK_IMPORTED_MODULE_15__.Fetch, fetch));\n    const withRedactedHeaders = effect_Layer__WEBPACK_IMPORTED_MODULE_11__.effectDiscard(effect_FiberRef__WEBPACK_IMPORTED_MODULE_16__.update(_effect_platform_Headers__WEBPACK_IMPORTED_MODULE_17__.currentRedactedNames, (_)=>_.concat([\n            \"x-uploadthing-api-key\"\n        ])));\n    const layer = effect_Layer__WEBPACK_IMPORTED_MODULE_11__.provide(effect_Layer__WEBPACK_IMPORTED_MODULE_11__.mergeAll(withLogFormat, withMinimalLogLevel, fetchHttpClient, withRedactedHeaders), effect_Layer__WEBPACK_IMPORTED_MODULE_11__.setConfigProvider(configProvider(config)));\n    return effect_ManagedRuntime__WEBPACK_IMPORTED_MODULE_18__.make(layer);\n};\n//#endregion\n//#region src/_internal/types.ts\n/**\n* Marker used to select the region based on the incoming request\n*/ const UTRegion = Symbol(\"uploadthing-region-symbol\");\n/**\n* Marker used to append a `customId` to the incoming file data in `.middleware()`\n* @example\n* ```ts\n* .middleware((opts) => {\n*   return {\n*     [UTFiles]: opts.files.map((file) => ({\n*       ...file,\n*       customId: generateId(),\n*     }))\n*   };\n* })\n* ```\n*/ const UTFiles = Symbol(\"uploadthing-custom-id-symbol\");\n//#endregion\n//#region src/_internal/handler.ts\nvar AdapterArguments = class extends effect_Context__WEBPACK_IMPORTED_MODULE_19__.Tag(\"uploadthing/AdapterArguments\")() {\n};\n/**\n* Create a request handler adapter for any framework or server library.\n* Refer to the existing adapters for examples on how to use this function.\n* @public\n*\n* @param makeAdapterArgs - Function that takes the args from your framework and returns an Effect that resolves to the adapter args.\n* These args are passed to the `.middleware`, `.onUploadComplete`, and `.onUploadError` hooks.\n* @param toRequest - Function that takes the args from your framework and returns an Effect that resolves to a web Request object.\n* @param opts - The router config and other options that are normally passed to `createRequestHandler` of official adapters\n* @param beAdapter - [Optional] The adapter name of the adapter, used for telemetry purposes\n* @returns A function that takes the args from your framework and returns a promise that resolves to a Response object.\n*/ const makeAdapterHandler = (makeAdapterArgs, toRequest, opts, beAdapter)=>{\n    const managed = makeRuntime(opts.config?.fetch, opts.config);\n    const handle = effect_Effect__WEBPACK_IMPORTED_MODULE_5__.promise(()=>managed.runtime().then(_effect_platform_HttpApp__WEBPACK_IMPORTED_MODULE_20__.toWebHandlerRuntime));\n    const app = (...args)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.promise(()=>managed.runPromise(createRequestHandler(opts, beAdapter ?? \"custom\"))), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.provideServiceEffect(AdapterArguments, makeAdapterArgs(...args)));\n    return async (...args)=>{\n        const result = await handle.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.ap(app(...args)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.ap(toRequest(...args)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withLogSpan(\"requestHandler\"), managed.runPromise);\n        return result;\n    };\n};\nconst createRequestHandler = (opts, beAdapter)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n        const isDevelopment = yield* IsDevelopment;\n        const routerConfig = yield* extractRouterConfig(opts.router);\n        const handleDaemon = (()=>{\n            if (opts.config?.handleDaemonPromise) return opts.config.handleDaemonPromise;\n            return isDevelopment ? \"void\" : \"await\";\n        })();\n        if (isDevelopment && handleDaemon === \"await\") return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n            code: \"INVALID_SERVER_CONFIG\",\n            message: 'handleDaemonPromise: \"await\" is forbidden in development.'\n        });\n        const GET = effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n            return yield* _effect_platform_HttpServerResponse__WEBPACK_IMPORTED_MODULE_21__.json(routerConfig);\n        });\n        const POST = effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n            const { \"uploadthing-hook\": uploadthingHook, \"x-uploadthing-package\": fePackage, \"x-uploadthing-version\": clientVersion } = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.schemaHeaders(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Struct({\n                \"uploadthing-hook\": _shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.UploadThingHook.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.optional),\n                \"x-uploadthing-package\": effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.optionalWith({\n                    default: ()=>\"unknown\"\n                })),\n                \"x-uploadthing-version\": effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.optionalWith({\n                    default: ()=>_package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__.version\n                }))\n            }));\n            if (clientVersion !== _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__.version) {\n                const serverVersion = _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__.version;\n                yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logWarning(\"Client version mismatch. Things may not work as expected, please sync your versions to ensure compatibility.\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs({\n                    clientVersion,\n                    serverVersion\n                }));\n            }\n            const { slug, actionType } = yield* _effect_platform_HttpRouter__WEBPACK_IMPORTED_MODULE_24__.schemaParams(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Struct({\n                actionType: _shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.ActionType.pipe(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.optional),\n                slug: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String\n            }));\n            const uploadable = opts.router[slug];\n            if (!uploadable) {\n                const msg = `No file route found for slug ${slug}`;\n                yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(msg);\n                return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                    code: \"NOT_FOUND\",\n                    message: msg\n                });\n            }\n            const { body, fiber } = yield* effect_Match__WEBPACK_IMPORTED_MODULE_25__.value({\n                actionType,\n                uploadthingHook\n            }).pipe(effect_Match__WEBPACK_IMPORTED_MODULE_25__.when({\n                actionType: \"upload\",\n                uploadthingHook: void 0\n            }, ()=>handleUploadAction({\n                    uploadable,\n                    fePackage,\n                    beAdapter,\n                    slug\n                })), effect_Match__WEBPACK_IMPORTED_MODULE_25__.when({\n                actionType: void 0,\n                uploadthingHook: \"callback\"\n            }, ()=>handleCallbackRequest({\n                    uploadable,\n                    fePackage,\n                    beAdapter\n                })), effect_Match__WEBPACK_IMPORTED_MODULE_25__.when({\n                actionType: void 0,\n                uploadthingHook: \"error\"\n            }, ()=>handleErrorRequest({\n                    uploadable\n                })), effect_Match__WEBPACK_IMPORTED_MODULE_25__.orElse(()=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.succeed({\n                    body: null,\n                    fiber: null\n                })));\n            if (fiber) {\n                yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Running fiber as daemon\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"handleDaemon\", handleDaemon));\n                if (handleDaemon === \"void\") {} else if (handleDaemon === \"await\") yield* fiber.await;\n                else if (typeof handleDaemon === \"function\") handleDaemon(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.runPromise(fiber.await));\n            }\n            yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Sending response\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"body\", body));\n            return yield* _effect_platform_HttpServerResponse__WEBPACK_IMPORTED_MODULE_21__.json(body);\n        }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchTags({\n            ParseError: (e)=>_effect_platform_HttpServerResponse__WEBPACK_IMPORTED_MODULE_21__.json(formatError(new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                    code: \"BAD_REQUEST\",\n                    message: \"Invalid input\",\n                    cause: e.message\n                }), opts.router), {\n                    status: 400\n                }),\n            UploadThingError: (e)=>_effect_platform_HttpServerResponse__WEBPACK_IMPORTED_MODULE_21__.json(formatError(e, opts.router), {\n                    status: (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.getStatusCodeFromError)(e)\n                })\n        }));\n        const appendResponseHeaders = effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map(_effect_platform_HttpServerResponse__WEBPACK_IMPORTED_MODULE_21__.setHeader(\"x-uploadthing-version\", _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__.version));\n        return _effect_platform_HttpRouter__WEBPACK_IMPORTED_MODULE_24__.empty.pipe(_effect_platform_HttpRouter__WEBPACK_IMPORTED_MODULE_24__.get(\"*\", GET), _effect_platform_HttpRouter__WEBPACK_IMPORTED_MODULE_24__.post(\"*\", POST), _effect_platform_HttpRouter__WEBPACK_IMPORTED_MODULE_24__.use(appendResponseHeaders));\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withLogSpan(\"createRequestHandler\"));\nconst handleErrorRequest = (opts)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n        const { uploadable } = opts;\n        const request = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.HttpServerRequest;\n        const { apiKey } = yield* UTToken;\n        const verified = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.verifySignature)((yield* request.text), request.headers[\"x-uploadthing-signature\"] ?? null, apiKey);\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(`Signature verified: ${verified}`);\n        if (!verified) {\n            yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(\"Invalid signature\");\n            return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"Invalid signature\"\n            });\n        }\n        const requestInput = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.schemaBodyJson(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Struct({\n            fileKey: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String,\n            error: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String\n        }));\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Handling error callback request with input:\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"json\", requestInput));\n        const adapterArgs = yield* AdapterArguments;\n        const fiber = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tryPromise({\n            try: async ()=>uploadable.onUploadError({\n                    ...adapterArgs,\n                    error: new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                        code: \"UPLOAD_FAILED\",\n                        message: `Upload failed for ${requestInput.fileKey}: ${requestInput.error}`\n                    }),\n                    fileKey: requestInput.fileKey\n                }),\n            catch: (error)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                    code: \"INTERNAL_SERVER_ERROR\",\n                    message: \"Failed to run onUploadError\",\n                    cause: error\n                })\n        }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tapError((error)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(\"Failed to run onUploadError. You probably shouldn't be throwing errors here.\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"error\", error)))).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.ignoreLogged, effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forkDaemon);\n        return {\n            body: null,\n            fiber\n        };\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withLogSpan(\"handleErrorRequest\"));\nconst handleCallbackRequest = (opts)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n        const { uploadable, fePackage, beAdapter } = opts;\n        const request = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.HttpServerRequest;\n        const { apiKey } = yield* UTToken;\n        const verified = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.verifySignature)((yield* request.text), request.headers[\"x-uploadthing-signature\"] ?? null, apiKey);\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(`Signature verified: ${verified}`);\n        if (!verified) {\n            yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(\"Invalid signature\");\n            return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"Invalid signature\"\n            });\n        }\n        const requestInput = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.schemaBodyJson(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Struct({\n            status: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String,\n            file: _shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.UploadedFileData,\n            origin: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String,\n            metadata: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Record({\n                key: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String,\n                value: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Unknown\n            })\n        }));\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Handling callback request with input:\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"json\", requestInput));\n        /**\n\t* Run `.onUploadComplete` as a daemon to prevent the\n\t* request from UT to potentially timeout.\n\t*/ const fiber = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n            const adapterArgs = yield* AdapterArguments;\n            const serverData = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tryPromise({\n                try: async ()=>uploadable.onUploadComplete({\n                        ...adapterArgs,\n                        file: {\n                            ...requestInput.file,\n                            get url () {\n                                (0,_deprecations_pLmw6Ytd_js__WEBPACK_IMPORTED_MODULE_26__.logDeprecationWarning)(\"`file.url` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead.\");\n                                return requestInput.file.url;\n                            },\n                            get appUrl () {\n                                (0,_deprecations_pLmw6Ytd_js__WEBPACK_IMPORTED_MODULE_26__.logDeprecationWarning)(\"`file.appUrl` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead.\");\n                                return requestInput.file.appUrl;\n                            }\n                        },\n                        metadata: requestInput.metadata\n                    }),\n                catch: (error)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                        code: \"INTERNAL_SERVER_ERROR\",\n                        message: \"Failed to run onUploadComplete. You probably shouldn't be throwing errors here.\",\n                        cause: error\n                    })\n            });\n            const payload = {\n                fileKey: requestInput.file.key,\n                callbackData: serverData ?? null\n            };\n            yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"'onUploadComplete' callback finished. Sending response to UploadThing:\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"callbackData\", payload));\n            const httpClient = (yield* _effect_platform_HttpClient__WEBPACK_IMPORTED_MODULE_27__.HttpClient).pipe(_effect_platform_HttpClient__WEBPACK_IMPORTED_MODULE_27__.filterStatusOk);\n            yield* _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.post(`/callback-result`).pipe(_effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.prependUrl(requestInput.origin), _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.setHeaders({\n                \"x-uploadthing-api-key\": effect_Redacted__WEBPACK_IMPORTED_MODULE_29__.value(apiKey),\n                \"x-uploadthing-version\": _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__.version,\n                \"x-uploadthing-be-adapter\": beAdapter,\n                \"x-uploadthing-fe-package\": fePackage\n            }), _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.bodyJson(payload), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(httpClient.execute), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tapError(logHttpClientError(\"Failed to register callback result\")), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(_effect_platform_HttpClientResponse__WEBPACK_IMPORTED_MODULE_30__.schemaBodyJson(_shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.CallbackResultResponse)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tap(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.log(\"Sent callback result to UploadThing\")), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.scoped);\n        }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.ignoreLogged, effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forkDaemon);\n        return {\n            body: null,\n            fiber\n        };\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withLogSpan(\"handleCallbackRequest\"));\nconst runRouteMiddleware = (opts)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n        const { json: { files, input }, uploadable } = opts;\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Running middleware\");\n        const adapterArgs = yield* AdapterArguments;\n        const metadata = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tryPromise({\n            try: async ()=>uploadable.middleware({\n                    ...adapterArgs,\n                    input,\n                    files\n                }),\n            catch: (error)=>error instanceof _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError ? error : new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                    code: \"INTERNAL_SERVER_ERROR\",\n                    message: \"Failed to run middleware\",\n                    cause: error\n                })\n        });\n        if (metadata[UTFiles] && metadata[UTFiles].length !== files.length) {\n            const msg = `Expected files override to have the same length as original files, got ${metadata[UTFiles].length} but expected ${files.length}`;\n            yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(msg);\n            return yield* new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"Files override must have the same length as files\",\n                cause: msg\n            });\n        }\n        const filesWithCustomIds = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(files, (file, idx)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n                const theirs = metadata[UTFiles]?.[idx];\n                if (theirs && theirs.size !== file.size) yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logWarning(\"File size mismatch. Reverting to original size\");\n                return {\n                    name: theirs?.name ?? file.name,\n                    size: file.size,\n                    type: file.type,\n                    customId: theirs?.customId,\n                    lastModified: theirs?.lastModified ?? Date.now()\n                };\n            }));\n        return {\n            metadata,\n            filesWithCustomIds,\n            preferredRegion: metadata[UTRegion]\n        };\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withLogSpan(\"runRouteMiddleware\"));\nconst handleUploadAction = (opts)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n        const httpClient = (yield* _effect_platform_HttpClient__WEBPACK_IMPORTED_MODULE_27__.HttpClient).pipe(_effect_platform_HttpClient__WEBPACK_IMPORTED_MODULE_27__.filterStatusOk);\n        const { uploadable, fePackage, beAdapter, slug } = opts;\n        const json = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.schemaBodyJson(_shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.UploadActionPayload);\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Handling upload request\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"json\", json));\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Parsing user input\");\n        const parsedInput = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tryPromise({\n            try: ()=>getParseFn(uploadable.inputParser)(json.input),\n            catch: (error)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                    code: \"BAD_REQUEST\",\n                    message: \"Invalid input\",\n                    cause: error\n                })\n        });\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Input parsed successfully\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"input\", parsedInput));\n        const { metadata, filesWithCustomIds, preferredRegion } = yield* runRouteMiddleware({\n            json: {\n                input: parsedInput,\n                files: json.files\n            },\n            uploadable\n        });\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Parsing route config\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"routerConfig\", uploadable.routerConfig));\n        const parsedConfig = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.fillInputRouteConfig)(uploadable.routerConfig).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchTag(\"InvalidRouteConfig\", (err)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"Invalid route config\",\n                cause: err\n            })));\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Route config parsed successfully\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"routeConfig\", parsedConfig));\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Validating files meet the config requirements\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"files\", json.files));\n        yield* assertFilesMeetConfig(json.files, parsedConfig).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.mapError((e)=>new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: `Invalid config: ${e._tag}`,\n                cause: \"reason\" in e ? e.reason : e.message\n            })));\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Files validated.\");\n        const fileUploadRequests = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(filesWithCustomIds, (file)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.matchFileType)(file, (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.objectKeys)(parsedConfig)), (type)=>({\n                    name: file.name,\n                    size: file.size,\n                    type: file.type || type,\n                    lastModified: file.lastModified,\n                    customId: file.customId,\n                    contentDisposition: parsedConfig[type]?.contentDisposition ?? \"inline\",\n                    acl: parsedConfig[type]?.acl\n                }))).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchTags({\n            InvalidFileType: (e)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.die(e),\n            UnknownFileType: (e)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.die(e)\n        }));\n        const routeOptions = uploadable.routeOptions;\n        const { apiKey, appId } = yield* UTToken;\n        const ingestUrl = yield* IngestUrl(preferredRegion);\n        const isDev = yield* IsDevelopment;\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logDebug(\"Generating presigned URLs\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"fileUploadRequests\", fileUploadRequests), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"ingestUrl\", ingestUrl));\n        const presignedUrls = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(fileUploadRequests, (file)=>effect_Effect__WEBPACK_IMPORTED_MODULE_5__.gen(function*() {\n                const key = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.generateKey)(file, appId, routeOptions.getFileHashParts);\n                const url = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.generateSignedURL)(`${ingestUrl}/${key}`, apiKey, {\n                    ttlInSeconds: routeOptions.presignedURLTTL,\n                    data: {\n                        \"x-ut-identifier\": appId,\n                        \"x-ut-file-name\": file.name,\n                        \"x-ut-file-size\": file.size,\n                        \"x-ut-file-type\": file.type,\n                        \"x-ut-slug\": slug,\n                        \"x-ut-custom-id\": file.customId,\n                        \"x-ut-content-disposition\": file.contentDisposition,\n                        \"x-ut-acl\": file.acl\n                    }\n                });\n                return {\n                    url,\n                    key\n                };\n            }), {\n            concurrency: \"unbounded\"\n        });\n        const serverReq = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.HttpServerRequest;\n        const requestUrl = yield* _effect_platform_HttpServerRequest__WEBPACK_IMPORTED_MODULE_22__.toURL(serverReq);\n        const devHookRequest = yield* effect_Config__WEBPACK_IMPORTED_MODULE_2__.string(\"callbackUrl\").pipe(effect_Config__WEBPACK_IMPORTED_MODULE_2__.withDefault(requestUrl.origin + requestUrl.pathname), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map((url)=>_effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.post(url).pipe(_effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.appendUrlParam(\"slug\", slug))));\n        const metadataRequest = _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.post(\"/route-metadata\").pipe(_effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.prependUrl(ingestUrl), _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.setHeaders({\n            \"x-uploadthing-api-key\": effect_Redacted__WEBPACK_IMPORTED_MODULE_29__.value(apiKey),\n            \"x-uploadthing-version\": _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__.version,\n            \"x-uploadthing-be-adapter\": beAdapter,\n            \"x-uploadthing-fe-package\": fePackage\n        }), _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.bodyJson({\n            fileKeys: presignedUrls.map(({ key })=>key),\n            metadata,\n            isDev,\n            callbackUrl: devHookRequest.url,\n            callbackSlug: slug,\n            awaitServerData: routeOptions.awaitServerData ?? true\n        }), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(httpClient.execute));\n        const handleDevStreamError = effect_Effect__WEBPACK_IMPORTED_MODULE_5__.fn(\"handleDevStreamError\")(function*(err, chunk) {\n            const schema = effect_Schema__WEBPACK_IMPORTED_MODULE_3__.parseJson(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Struct({\n                file: _shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.UploadedFileData\n            }));\n            const parsedChunk = yield* effect_Schema__WEBPACK_IMPORTED_MODULE_3__.decodeUnknown(schema)(chunk);\n            const key = parsedChunk.file.key;\n            yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logError(\"Failed to forward callback request from dev stream\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs({\n                fileKey: key,\n                error: err.message\n            }));\n            const httpResponse = yield* _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.post(\"/callback-result\").pipe(_effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.prependUrl(ingestUrl), _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.setHeaders({\n                \"x-uploadthing-api-key\": effect_Redacted__WEBPACK_IMPORTED_MODULE_29__.value(apiKey),\n                \"x-uploadthing-version\": _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_23__.version,\n                \"x-uploadthing-be-adapter\": beAdapter,\n                \"x-uploadthing-fe-package\": fePackage\n            }), _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.bodyJson({\n                fileKey: key,\n                error: `Failed to forward callback request from dev stream: ${err.message}`\n            }), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(httpClient.execute));\n            yield* logHttpClientResponse(\"Reported callback error to UploadThing\")(httpResponse);\n        });\n        const fiber = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__[\"if\"](isDev, {\n            onTrue: ()=>metadataRequest.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tapBoth({\n                    onSuccess: logHttpClientResponse(\"Registered metadata\", {\n                        mixin: \"None\"\n                    }),\n                    onFailure: logHttpClientError(\"Failed to register metadata\")\n                }), _effect_platform_HttpClientResponse__WEBPACK_IMPORTED_MODULE_31__.stream, handleJsonLineStream(_shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.MetadataFetchStreamPart, (chunk)=>devHookRequest.pipe(_effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.setHeaders({\n                        \"uploadthing-hook\": chunk.hook,\n                        \"x-uploadthing-signature\": chunk.signature\n                    }), _effect_platform_HttpClientRequest__WEBPACK_IMPORTED_MODULE_28__.setBody(_effect_platform_HttpBody__WEBPACK_IMPORTED_MODULE_32__.text(chunk.payload, \"application/json\")), httpClient.execute, effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tap(logHttpClientResponse(\"Successfully forwarded callback request from dev stream\")), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchTag(\"ResponseError\", (err)=>handleDevStreamError(err, chunk.payload)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(chunk), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.asVoid, effect_Effect__WEBPACK_IMPORTED_MODULE_5__.ignoreLogged, effect_Effect__WEBPACK_IMPORTED_MODULE_5__.scoped))),\n            onFalse: ()=>metadataRequest.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tapBoth({\n                    onSuccess: logHttpClientResponse(\"Registered metadata\"),\n                    onFailure: logHttpClientError(\"Failed to register metadata\")\n                }), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(_effect_platform_HttpClientResponse__WEBPACK_IMPORTED_MODULE_30__.schemaBodyJson(_shared_schemas_BmG5ARoX_js__WEBPACK_IMPORTED_MODULE_4__.MetadataFetchResponse)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.scoped)\n        }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forkDaemon);\n        const presigneds = presignedUrls.map((p, i)=>({\n                url: p.url,\n                key: p.key,\n                name: fileUploadRequests[i].name,\n                customId: fileUploadRequests[i].customId ?? null\n            }));\n        yield* effect_Effect__WEBPACK_IMPORTED_MODULE_5__.logInfo(\"Sending presigned URLs to client\").pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.annotateLogs(\"presignedUrls\", presigneds));\n        return {\n            body: presigneds,\n            fiber\n        };\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withLogSpan(\"handleUploadAction\"));\n//#endregion\n//#region src/_internal/upload-builder.ts\nfunction internalCreateBuilder(initDef = {}) {\n    const _def = {\n        $types: {},\n        routerConfig: {\n            image: {\n                maxFileSize: \"4MB\"\n            }\n        },\n        routeOptions: {\n            awaitServerData: true\n        },\n        inputParser: {\n            parseAsync: ()=>Promise.resolve(void 0),\n            _input: void 0,\n            _output: void 0\n        },\n        middleware: ()=>({}),\n        onUploadError: ()=>{},\n        onUploadComplete: ()=>void 0,\n        errorFormatter: initDef.errorFormatter ?? defaultErrorFormatter,\n        ...initDef\n    };\n    return {\n        input (userParser) {\n            return internalCreateBuilder({\n                ..._def,\n                inputParser: userParser\n            });\n        },\n        middleware (userMiddleware) {\n            return internalCreateBuilder({\n                ..._def,\n                middleware: userMiddleware\n            });\n        },\n        onUploadComplete (userUploadComplete) {\n            return {\n                ..._def,\n                onUploadComplete: userUploadComplete\n            };\n        },\n        onUploadError (userOnUploadError) {\n            return internalCreateBuilder({\n                ..._def,\n                onUploadError: userOnUploadError\n            });\n        }\n    };\n}\n/**\n* Create a builder for your backend adapter.\n* Refer to the existing adapters for examples on how to use this function.\n* @public\n*\n* @param opts - Options for the builder\n* @returns A file route builder for making UploadThing file routes\n*/ function createBuilder(opts) {\n    return (input, config)=>{\n        return internalCreateBuilder({\n            routerConfig: input,\n            routeOptions: config ?? {},\n            ...opts\n        });\n    };\n}\n//#endregion\n //# sourceMappingURL=upload-builder-BlFOAnsv.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC91cGxvYWQtYnVpbGRlci1CbEZPQW5zdi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ21CO0FBQ3lJO0FBQzJEO0FBQy9OO0FBQ1k7QUFDRTtBQUNJO0FBQ2M7QUFDRTtBQUNoQjtBQUNjO0FBQ0U7QUFDbEM7QUFDRTtBQUNKO0FBQ007QUFDVDtBQUNxQjtBQUNoQjtBQUNVO0FBQ1I7QUFDSjtBQUNFO0FBQ0k7QUFDTjtBQUNGO0FBQ007QUFDMEI7QUFDaEI7QUFDUjtBQUNZO0FBRXhELGlDQUFpQztBQUNqQzs7Ozs7O0FBTUEsR0FDQSxNQUFNa0QsY0FBY2QsMERBQXNCLEdBQUdnQixJQUFJLENBQUNoQix5REFBcUIsQ0FBQyxJQUFNQSwwREFBc0IsQ0FBQyxJQUFJbUIsSUFBSUMsT0FBT0MsT0FBTyxDQUFDMUMsOEVBQXlCQSxDQUFDLEtBQWdCMkMsSUFBSSxDQUFDLE1BQU07UUFBRUMsV0FBVztJQUFJLEtBQUt2Qix5REFBcUIsQ0FBQyxnQkFBZ0JBLCtEQUEyQjtBQUN4UTs7OztBQUlBLEdBQ0EsTUFBTTBCLGlCQUFpQixDQUFDQyxVQUFZM0IsMkRBQXVCLENBQUMyQixXQUFXLENBQUMsR0FBR1gsSUFBSSxDQUFDaEIseURBQXFCLENBQUMsSUFBTWM7QUFDNUcsTUFBTWUsZ0JBQWdCbEMsa0RBQWMsQ0FBQyxTQUFTcUIsSUFBSSxDQUFDckIsaURBQWEsQ0FBQyxJQUFNQSxrREFBYyxDQUFDLE9BQU9xQyxZQUFZLGNBaER6RyxnQkFnRDhJLEtBQUssR0FBR2hCLElBQUksQ0FBQ3JCLDhDQUFVLENBQUMsQ0FBQ3VDLElBQU1BLE1BQU0sa0JBQWtCdkMsc0RBQWtCLENBQUM7QUFDeE4sTUFBTXlDLFVBQVVyQyxpREFBUSxDQUFDLFNBQVMzQix5RUFBZ0JBLEVBQUU0QyxJQUFJLENBQUM5QixvREFBZ0Is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Z0JBQ1BqRCxhQUFhd0Q7WUFDZDtRQUNEO1FBQ0FqRSxZQUFXa0UsY0FBYztZQUN4QixPQUFPVixzQkFBc0I7Z0JBQzVCLEdBQUdFLElBQUk7Z0JBQ1AxRCxZQUFZa0U7WUFDYjtRQUNEO1FBQ0FqRixrQkFBaUJrRixrQkFBa0I7WUFDbEMsT0FBTztnQkFDTixHQUFHVCxJQUFJO2dCQUNQekUsa0JBQWtCa0Y7WUFDbkI7UUFDRDtRQUNBMUYsZUFBYzJGLGlCQUFpQjtZQUM5QixPQUFPWixzQkFBc0I7Z0JBQzVCLEdBQUdFLElBQUk7Z0JBQ1BqRixlQUFlMkY7WUFDaEI7UUFDRDtJQUNEO0FBQ0Q7QUFDQTs7Ozs7OztBQU9BLEdBQ0EsU0FBU0MsY0FBY2xPLElBQUk7SUFDMUIsT0FBTyxDQUFDNEosT0FBT2xMO1FBQ2QsT0FBTzJPLHNCQUFzQjtZQUM1QmxLLGNBQWN5RztZQUNkbUIsY0FBY3JNLFVBQVUsQ0FBQztZQUN6QixHQUFHc0IsSUFBSTtRQUNSO0lBQ0Q7QUFDRDtBQUVBLFlBQVk7QUFDZ1AsQ0FDNVAsbURBQW1EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veGlubGkvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC91cGxvYWQtYnVpbGRlci1CbEZPQW5zdi5qcz9kYTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi9wYWNrYWdlLURwU2NwdlRBLmpzXCI7XG5pbXBvcnQgeyBsb2dEZXByZWNhdGlvbldhcm5pbmcgfSBmcm9tIFwiLi9kZXByZWNhdGlvbnMtcExtdzZZdGQuanNcIjtcbmltcG9ydCB7IEFjdGlvblR5cGUsIENhbGxiYWNrUmVzdWx0UmVzcG9uc2UsIE1ldGFkYXRhRmV0Y2hSZXNwb25zZSwgTWV0YWRhdGFGZXRjaFN0cmVhbVBhcnQsIFVwbG9hZEFjdGlvblBheWxvYWQsIFVwbG9hZFRoaW5nSG9vaywgVXBsb2FkVGhpbmdUb2tlbiwgVXBsb2FkZWRGaWxlRGF0YSB9IGZyb20gXCIuL3NoYXJlZC1zY2hlbWFzLUJtRzVBUm9YLmpzXCI7XG5pbXBvcnQgeyBJbnZhbGlkUm91dGVDb25maWdFcnJvciwgVXBsb2FkVGhpbmdFcnJvciwgYnl0ZXNUb0ZpbGVTaXplLCBmaWxlU2l6ZVRvQnl0ZXMsIGZpbGxJbnB1dFJvdXRlQ29uZmlnLCBmaWx0ZXJEZWZpbmVkT2JqZWN0VmFsdWVzLCBnZW5lcmF0ZUtleSwgZ2VuZXJhdGVTaWduZWRVUkwsIGdldFN0YXR1c0NvZGVGcm9tRXJyb3IsIG1hdGNoRmlsZVR5cGUsIG9iamVjdEtleXMsIHZlcmlmeVNpZ25hdHVyZSB9IGZyb20gXCJAdXBsb2FkdGhpbmcvc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEh0dHBBcHAgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwcFwiO1xuaW1wb3J0ICogYXMgSHR0cEJvZHkgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEJvZHlcIjtcbmltcG9ydCAqIGFzIEh0dHBDbGllbnQgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cENsaWVudFwiO1xuaW1wb3J0ICogYXMgSHR0cENsaWVudFJlcXVlc3QgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cENsaWVudFJlcXVlc3RcIjtcbmltcG9ydCAqIGFzIEh0dHBDbGllbnRSZXNwb25zZSBmcm9tIFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQ2xpZW50UmVzcG9uc2VcIjtcbmltcG9ydCAqIGFzIEh0dHBSb3V0ZXIgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFJvdXRlclwiO1xuaW1wb3J0ICogYXMgSHR0cFNlcnZlclJlcXVlc3QgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFNlcnZlclJlcXVlc3RcIjtcbmltcG9ydCAqIGFzIEh0dHBTZXJ2ZXJSZXNwb25zZSBmcm9tIFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwU2VydmVyUmVzcG9uc2VcIjtcbmltcG9ydCAqIGFzIENvbmZpZyBmcm9tIFwiZWZmZWN0L0NvbmZpZ1wiO1xuaW1wb3J0ICogYXMgQ29udGV4dCBmcm9tIFwiZWZmZWN0L0NvbnRleHRcIjtcbmltcG9ydCAqIGFzIE1hdGNoIGZyb20gXCJlZmZlY3QvTWF0Y2hcIjtcbmltcG9ydCAqIGFzIFJlZGFjdGVkIGZyb20gXCJlZmZlY3QvUmVkYWN0ZWRcIjtcbmltcG9ydCAqIGFzIFMgZnJvbSBcImVmZmVjdC9TY2hlbWFcIjtcbmltcG9ydCAqIGFzIENvbmZpZ1Byb3ZpZGVyIGZyb20gXCJlZmZlY3QvQ29uZmlnUHJvdmlkZXJcIjtcbmltcG9ydCAqIGFzIFN0cmVhbSBmcm9tIFwiZWZmZWN0L1N0cmVhbVwiO1xuaW1wb3J0ICogYXMgQ29uZmlnRXJyb3IgZnJvbSBcImVmZmVjdC9Db25maWdFcnJvclwiO1xuaW1wb3J0ICogYXMgRWl0aGVyJDEgZnJvbSBcImVmZmVjdC9FaXRoZXJcIjtcbmltcG9ydCAqIGFzIExheWVyIGZyb20gXCJlZmZlY3QvTGF5ZXJcIjtcbmltcG9ydCAqIGFzIExvZ2dlciBmcm9tIFwiZWZmZWN0L0xvZ2dlclwiO1xuaW1wb3J0ICogYXMgTG9nTGV2ZWwgZnJvbSBcImVmZmVjdC9Mb2dMZXZlbFwiO1xuaW1wb3J0ICogYXMgQ2F1c2UgZnJvbSBcImVmZmVjdC9DYXVzZVwiO1xuaW1wb3J0ICogYXMgRGF0YSBmcm9tIFwiZWZmZWN0L0RhdGFcIjtcbmltcG9ydCAqIGFzIFJ1bnRpbWUgZnJvbSBcImVmZmVjdC9SdW50aW1lXCI7XG5pbXBvcnQgKiBhcyBGZXRjaEh0dHBDbGllbnQgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vRmV0Y2hIdHRwQ2xpZW50XCI7XG5pbXBvcnQgKiBhcyBIZWFkZXJzIGZyb20gXCJAZWZmZWN0L3BsYXRmb3JtL0hlYWRlcnNcIjtcbmltcG9ydCAqIGFzIEZpYmVyUmVmIGZyb20gXCJlZmZlY3QvRmliZXJSZWZcIjtcbmltcG9ydCAqIGFzIE1hbmFnZWRSdW50aW1lIGZyb20gXCJlZmZlY3QvTWFuYWdlZFJ1bnRpbWVcIjtcblxuLy8jcmVnaW9uIHNyYy9faW50ZXJuYWwvY29uZmlnLnRzXG4vKipcbiogTWVyZ2UgaW4gYGltcG9ydC5tZXRhLmVudmAgdG8gdGhlIGJ1aWx0LWluIGBwcm9jZXNzLmVudmAgcHJvdmlkZXJcbiogUHJlZml4IGtleXMgd2l0aCBgVVBMT0FEVEhJTkdfYCBzbyB3ZSBjYW4gcmVmZXJlbmNlIGp1c3QgdGhlIG5hbWUuXG4qIEBleGFtcGxlXG4qIHByb2Nlc3MuZW52LlVQTE9BRFRISU5HX1RPS0VOID0gXCJmb29cIlxuKiBDb25maWcuc3RyaW5nKFwidG9rZW5cIik7IC8vIENvbmZpZzxcImZvb1wiPlxuKi9cbmNvbnN0IGVudlByb3ZpZGVyID0gQ29uZmlnUHJvdmlkZXIuZnJvbUVudigpLnBpcGUoQ29uZmlnUHJvdmlkZXIub3JFbHNlKCgpID0+IENvbmZpZ1Byb3ZpZGVyLmZyb21NYXAobmV3IE1hcChPYmplY3QuZW50cmllcyhmaWx0ZXJEZWZpbmVkT2JqZWN0VmFsdWVzKGltcG9ydC5tZXRhPy5lbnYgPz8ge30pKSksIHsgcGF0aERlbGltOiBcIl9cIiB9KSksIENvbmZpZ1Byb3ZpZGVyLm5lc3RlZChcInVwbG9hZHRoaW5nXCIpLCBDb25maWdQcm92aWRlci5jb25zdGFudENhc2UpO1xuLyoqXG4qIENvbmZpZyBwcm92aWRlciB0aGF0IG1lcmdlcyB0aGUgb3B0aW9ucyBmcm9tIHRoZSBvYmplY3RcbiogYW5kIGVudmlyb25tZW50IHZhcmlhYmxlcyBwcmVmaXhlZCB3aXRoIGBVUExPQURUSElOR19gLlxuKiBAcmVtYXJrcyBPcHRpb25zIHRha2UgcHJlY2VkZW5jZSBvdmVyIGVudmlyb25tZW50IHZhcmlhYmxlcy5cbiovXG5jb25zdCBjb25maWdQcm92aWRlciA9IChvcHRpb25zKSA9PiBDb25maWdQcm92aWRlci5mcm9tSnNvbihvcHRpb25zID8/IHt9KS5waXBlKENvbmZpZ1Byb3ZpZGVyLm9yRWxzZSgoKSA9PiBlbnZQcm92aWRlcikpO1xuY29uc3QgSXNEZXZlbG9wbWVudCA9IENvbmZpZy5ib29sZWFuKFwiaXNEZXZcIikucGlwZShDb25maWcub3JFbHNlKCgpID0+IENvbmZpZy5zdWNjZWVkKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgOiB2b2lkIDApLnBpcGUoQ29uZmlnLm1hcCgoXykgPT4gXyA9PT0gXCJkZXZlbG9wbWVudFwiKSkpLCBDb25maWcud2l0aERlZmF1bHQoZmFsc2UpKTtcbmNvbnN0IFVUVG9rZW4gPSBTLkNvbmZpZyhcInRva2VuXCIsIFVwbG9hZFRoaW5nVG9rZW4pLnBpcGUoRWZmZWN0LmNhdGNoVGFncyh7IENvbmZpZ0Vycm9yOiAoZSkgPT4gbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRjb2RlOiBlLl9vcCA9PT0gXCJJbnZhbGlkRGF0YVwiID8gXCJJTlZBTElEX1NFUlZFUl9DT05GSUdcIiA6IFwiTUlTU0lOR19FTlZcIixcblx0bWVzc2FnZTogZS5fb3AgPT09IFwiSW52YWxpZERhdGFcIiA/IFwiSW52YWxpZCB0b2tlbi4gQSB0b2tlbiBpcyBhIGJhc2U2NCBlbmNvZGVkIEpTT04gb2JqZWN0IG1hdGNoaW5nIHsgYXBpS2V5OiBzdHJpbmcsIGFwcElkOiBzdHJpbmcsIHJlZ2lvbnM6IHN0cmluZ1tdIH0uXCIgOiBcIk1pc3NpbmcgdG9rZW4uIFBsZWFzZSBzZXQgdGhlIGBVUExPQURUSElOR19UT0tFTmAgZW52aXJvbm1lbnQgdmFyaWFibGUgb3IgcHJvdmlkZSBhIHRva2VuIG1hbnVhbGx5IHRocm91Z2ggY29uZmlnLlwiLFxuXHRjYXVzZTogZVxufSkgfSkpO1xuY29uc3QgQXBpVXJsID0gQ29uZmlnLnN0cmluZyhcImFwaVVybFwiKS5waXBlKENvbmZpZy53aXRoRGVmYXVsdChcImh0dHBzOi8vYXBpLnVwbG9hZHRoaW5nLmNvbVwiKSwgQ29uZmlnLm1hcEF0dGVtcHQoKF8pID0+IG5ldyBVUkwoXykpLCBDb25maWcubWFwKCh1cmwpID0+IHVybC5ocmVmLnJlcGxhY2UoL1xcLyQvLCBcIlwiKSkpO1xuY29uc3QgSW5nZXN0VXJsID0gRWZmZWN0LmZuKGZ1bmN0aW9uKiAocHJlZmVycmVkUmVnaW9uKSB7XG5cdGNvbnN0IHsgcmVnaW9ucywgaW5nZXN0SG9zdCB9ID0geWllbGQqIFVUVG9rZW47XG5cdGNvbnN0IHJlZ2lvbiA9IHByZWZlcnJlZFJlZ2lvbiA/IHJlZ2lvbnMuZmluZCgocikgPT4gciA9PT0gcHJlZmVycmVkUmVnaW9uKSA/PyByZWdpb25zWzBdIDogcmVnaW9uc1swXTtcblx0cmV0dXJuIHlpZWxkKiBDb25maWcuc3RyaW5nKFwiaW5nZXN0VXJsXCIpLnBpcGUoQ29uZmlnLndpdGhEZWZhdWx0KGBodHRwczovLyR7cmVnaW9ufS4ke2luZ2VzdEhvc3R9YCksIENvbmZpZy5tYXBBdHRlbXB0KChfKSA9PiBuZXcgVVJMKF8pKSwgQ29uZmlnLm1hcCgodXJsKSA9PiB1cmwuaHJlZi5yZXBsYWNlKC9cXC8kLywgXCJcIikpKTtcbn0pO1xuY29uc3QgVXRmc0hvc3QgPSBDb25maWcuc3RyaW5nKFwidXRmc0hvc3RcIikucGlwZShDb25maWcud2l0aERlZmF1bHQoXCJ1dGZzLmlvXCIpKTtcbmNvbnN0IFVmc0hvc3QgPSBDb25maWcuc3RyaW5nKFwidWZzSG9zdFwiKS5waXBlKENvbmZpZy53aXRoRGVmYXVsdChcInVmcy5zaFwiKSk7XG5jb25zdCBVZnNBcHBJZExvY2F0aW9uID0gQ29uZmlnLmxpdGVyYWwoXCJzdWJkb21haW5cIiwgXCJwYXRoXCIpKFwidWZzQXBwSWRMb2NhdGlvblwiKS5waXBlKENvbmZpZy53aXRoRGVmYXVsdChcInN1YmRvbWFpblwiKSk7XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9faW50ZXJuYWwvZXJyb3ItZm9ybWF0dGVyLnRzXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JGb3JtYXR0ZXIoZXJyb3IpIHtcblx0cmV0dXJuIHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xufVxuZnVuY3Rpb24gZm9ybWF0RXJyb3IoZXJyb3IsIHJvdXRlcikge1xuXHRjb25zdCBmaXJzdFNsdWcgPSBPYmplY3Qua2V5cyhyb3V0ZXIpWzBdO1xuXHRjb25zdCBlcnJvckZvcm1hdHRlciA9IGZpcnN0U2x1ZyA/IHJvdXRlcltmaXJzdFNsdWddPy5lcnJvckZvcm1hdHRlciA/PyBkZWZhdWx0RXJyb3JGb3JtYXR0ZXIgOiBkZWZhdWx0RXJyb3JGb3JtYXR0ZXI7XG5cdHJldHVybiBlcnJvckZvcm1hdHRlcihlcnJvcik7XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9faW50ZXJuYWwvanNvbmwudHNcbmNvbnN0IGhhbmRsZUpzb25MaW5lU3RyZWFtID0gKHNjaGVtYSwgb25DaHVuaykgPT4gKHN0cmVhbSkgPT4ge1xuXHRsZXQgYnVmID0gXCJcIjtcblx0cmV0dXJuIHN0cmVhbS5waXBlKFN0cmVhbS5kZWNvZGVUZXh0KCksIFN0cmVhbS5tYXBFZmZlY3QoKGNodW5rKSA9PiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG5cdFx0YnVmICs9IGNodW5rO1xuXHRcdGNvbnN0IHBhcnRzID0gYnVmLnNwbGl0KFwiXFxuXCIpO1xuXHRcdGNvbnN0IHZhbGlkQ2h1bmtzID0gW107XG5cdFx0Zm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB0cnkge1xuXHRcdFx0dmFsaWRDaHVua3MucHVzaChKU09OLnBhcnNlKHBhcnQpKTtcblx0XHRcdGJ1ZiA9IGJ1Zi5zbGljZShwYXJ0Lmxlbmd0aCArIDEpO1xuXHRcdH0gY2F0Y2gge31cblx0XHR5aWVsZCogRWZmZWN0LmxvZ0RlYnVnKFwiUmVjZWl2ZWQgY2h1bmtzXCIpLnBpcGUoRWZmZWN0LmFubm90YXRlTG9ncyhcImNodW5rXCIsIGNodW5rKSwgRWZmZWN0LmFubm90YXRlTG9ncyhcInBhcnNlZENodW5rc1wiLCB2YWxpZENodW5rcyksIEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJidWZcIiwgYnVmKSk7XG5cdFx0cmV0dXJuIHZhbGlkQ2h1bmtzO1xuXHR9KSksIFN0cmVhbS5tYXBFZmZlY3QoUy5kZWNvZGVVbmtub3duKFMuQXJyYXkoc2NoZW1hKSkpLCBTdHJlYW0ubWFwRWZmZWN0KEVmZmVjdC5mb3JFYWNoKChwYXJ0KSA9PiBvbkNodW5rKHBhcnQpKSksIFN0cmVhbS5ydW5EcmFpbiwgRWZmZWN0LndpdGhMb2dTcGFuKFwiaGFuZGxlSnNvbkxpbmVTdHJlYW1cIikpO1xufTtcblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL19pbnRlcm5hbC9sb2dnZXIudHNcbi8qKlxuKiBDb25maWcubG9nTGV2ZWwgY291bnRlci1pbnR1aXRpdmVseSBhY2NlcHRzIExvZ0xldmVsW1wibGFiZWxcIl1cbiogaW5zdGVhZCBvZiBhIGxpdGVyYWwsIHJpcHBpbmcgaXQgYW5kIGNoYW5naW5nIHRvIGFjY2VwdCBsaXRlcmFsXG4qIEVmZmVjdCA0LjAgd2lsbCBjaGFuZ2UgdGhpcyB0byBhY2NlcHQgYSBsaXRlcmFsIGFuZCB0aGVuIHdlIGNhblxuKiByZW1vdmUgdGhpcyBhbmQgZ28gYmFjayB0byB0aGUgYnVpbHQtaW4gdmFsaWRhdG9yLlxuKi9cbmNvbnN0IENvbmZpZ0xvZ0xldmVsID0gKG5hbWUpID0+IHtcblx0Y29uc3QgY29uZmlnID0gQ29uZmlnLm1hcE9yRmFpbChDb25maWcuc3RyaW5nKCksIChsaXRlcmFsKSA9PiB7XG5cdFx0Y29uc3QgbGV2ZWwgPSBMb2dMZXZlbC5hbGxMZXZlbHMuZmluZCgobGV2ZWwkMSkgPT4gbGV2ZWwkMS5fdGFnID09PSBsaXRlcmFsKTtcblx0XHRyZXR1cm4gbGV2ZWwgPT09IHZvaWQgMCA/IEVpdGhlciQxLmxlZnQoQ29uZmlnRXJyb3IuSW52YWxpZERhdGEoW10sIGBFeHBlY3RlZCBhIGxvZyBsZXZlbCBidXQgcmVjZWl2ZWQgJHtsaXRlcmFsfWApKSA6IEVpdGhlciQxLnJpZ2h0KGxldmVsKTtcblx0fSk7XG5cdHJldHVybiBuYW1lID09PSB2b2lkIDAgPyBjb25maWcgOiBDb25maWcubmVzdGVkKGNvbmZpZywgbmFtZSk7XG59O1xuY29uc3Qgd2l0aE1pbmltYWxMb2dMZXZlbCA9IENvbmZpZ0xvZ0xldmVsKFwibG9nTGV2ZWxcIikucGlwZShDb25maWcud2l0aERlZmF1bHQoTG9nTGV2ZWwuSW5mbyksIEVmZmVjdC5hbmRUaGVuKChsZXZlbCkgPT4gTG9nZ2VyLm1pbmltdW1Mb2dMZXZlbChsZXZlbCkpLCBFZmZlY3QudGFwRXJyb3IoKGUpID0+IEVmZmVjdC5sb2dFcnJvcihcIkludmFsaWQgbG9nIGxldmVsXCIpLnBpcGUoRWZmZWN0LmFubm90YXRlTG9ncyhcImVycm9yXCIsIGUpKSksIEVmZmVjdC5jYXRjaFRhZyhcIkNvbmZpZ0Vycm9yXCIsIChlKSA9PiBuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG5cdGNvZGU6IFwiSU5WQUxJRF9TRVJWRVJfQ09ORklHXCIsXG5cdG1lc3NhZ2U6IFwiSW52YWxpZCBzZXJ2ZXIgY29uZmlndXJhdGlvblwiLFxuXHRjYXVzZTogZVxufSkpLCBMYXllci51bndyYXBFZmZlY3QpO1xuY29uc3QgTG9nRm9ybWF0ID0gQ29uZmlnLmxpdGVyYWwoXCJqc29uXCIsIFwibG9nRm10XCIsIFwic3RydWN0dXJlZFwiLCBcInByZXR0eVwiKShcImxvZ0Zvcm1hdFwiKTtcbmNvbnN0IHdpdGhMb2dGb3JtYXQgPSBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG5cdGNvbnN0IGlzRGV2ID0geWllbGQqIElzRGV2ZWxvcG1lbnQ7XG5cdGNvbnN0IGxvZ0Zvcm1hdCA9IHlpZWxkKiBMb2dGb3JtYXQucGlwZShDb25maWcud2l0aERlZmF1bHQoaXNEZXYgPyBcInByZXR0eVwiIDogXCJqc29uXCIpKTtcblx0cmV0dXJuIExvZ2dlcltsb2dGb3JtYXRdO1xufSkucGlwZShFZmZlY3QuY2F0Y2hUYWcoXCJDb25maWdFcnJvclwiLCAoZSkgPT4gbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRjb2RlOiBcIklOVkFMSURfU0VSVkVSX0NPTkZJR1wiLFxuXHRtZXNzYWdlOiBcIkludmFsaWQgc2VydmVyIGNvbmZpZ3VyYXRpb25cIixcblx0Y2F1c2U6IGVcbn0pKSwgTGF5ZXIudW53cmFwRWZmZWN0KTtcbmNvbnN0IGxvZ0h0dHBDbGllbnRSZXNwb25zZSA9IChtZXNzYWdlLCBvcHRzKSA9PiB7XG5cdGNvbnN0IG1peGluID0gb3B0cz8ubWl4aW4gPz8gXCJqc29uXCI7XG5cdGNvbnN0IGxldmVsID0gTG9nTGV2ZWwuZnJvbUxpdGVyYWwob3B0cz8ubGV2ZWwgPz8gXCJEZWJ1Z1wiKTtcblx0cmV0dXJuIChyZXNwb25zZSkgPT4gRWZmZWN0LmZsYXRNYXAobWl4aW4gIT09IFwiTm9uZVwiID8gcmVzcG9uc2VbbWl4aW5dIDogRWZmZWN0LnZvaWQsICgpID0+IEVmZmVjdC5sb2dXaXRoTGV2ZWwobGV2ZWwsIGAke21lc3NhZ2V9ICgke3Jlc3BvbnNlLnN0YXR1c30pYCkucGlwZShFZmZlY3QuYW5ub3RhdGVMb2dzKFwicmVzcG9uc2VcIiwgcmVzcG9uc2UpKSk7XG59O1xuY29uc3QgbG9nSHR0cENsaWVudEVycm9yID0gKG1lc3NhZ2UpID0+IChlcnIpID0+IGVyci5fdGFnID09PSBcIlJlc3BvbnNlRXJyb3JcIiA/IGxvZ0h0dHBDbGllbnRSZXNwb25zZShtZXNzYWdlLCB7IGxldmVsOiBcIkVycm9yXCIgfSkoZXJyLnJlc3BvbnNlKSA6IEVmZmVjdC5sb2dFcnJvcihtZXNzYWdlKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJlcnJvclwiLCBlcnIpKTtcblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL19pbnRlcm5hbC9wYXJzZXIudHNcbnZhciBQYXJzZXJFcnJvciA9IGNsYXNzIGV4dGVuZHMgRGF0YS5UYWdnZWRFcnJvcihcIlBhcnNlckVycm9yXCIpIHtcblx0bWVzc2FnZSA9IFwiSW5wdXQgdmFsaWRhdGlvbiBmYWlsZWQuIFRoZSBvcmlnaW5hbCBlcnJvciB3aXRoIGl0J3MgdmFsaWRhdGlvbiBpc3N1ZXMgaXMgaW4gdGhlIGVycm9yIGNhdXNlLlwiO1xufTtcbmZ1bmN0aW9uIGdldFBhcnNlRm4ocGFyc2VyKSB7XG5cdGlmIChcInBhcnNlQXN5bmNcIiBpbiBwYXJzZXIgJiYgdHlwZW9mIHBhcnNlci5wYXJzZUFzeW5jID09PSBcImZ1bmN0aW9uXCIpXG4gLyoqXG5cdCogWm9kXG5cdCogVE9ETyAobmV4dCBtYWpvcik6IENvbnNpZGVyIHdyYXBwaW5nIFpvZEVycm9yIGluIFBhcnNlckVycm9yXG5cdCovXG5cdHJldHVybiBwYXJzZXIucGFyc2VBc3luYztcblx0aWYgKFMuaXNTY2hlbWEocGFyc2VyKSlcbiAvKipcblx0KiBFZmZlY3QgU2NoZW1hXG5cdCovXG5cdHJldHVybiAodmFsdWUpID0+IFMuZGVjb2RlVW5rbm93blByb21pc2UocGFyc2VyKSh2YWx1ZSkuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0dGhyb3cgbmV3IFBhcnNlckVycm9yKHsgY2F1c2U6IENhdXNlLnNxdWFzaChlcnJvcltSdW50aW1lLkZpYmVyRmFpbHVyZUNhdXNlSWRdKSB9KTtcblx0fSk7XG5cdGlmIChcIn5zdGFuZGFyZFwiIGluIHBhcnNlcilcbiAvKipcblx0KiBTdGFuZGFyZCBTY2hlbWFcblx0KiBUT0RPIChuZXh0IG1ham9yKTogQ29uc2lkZXIgbW92aW5nIHRoaXMgdG8gdGhlIHRvcCBvZiB0aGUgZnVuY3Rpb25cblx0Ki9cblx0cmV0dXJuIGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBhcnNlcltcIn5zdGFuZGFyZFwiXS52YWxpZGF0ZSh2YWx1ZSk7XG5cdFx0aWYgKHJlc3VsdC5pc3N1ZXMpIHRocm93IG5ldyBQYXJzZXJFcnJvcih7IGNhdXNlOiByZXN1bHQuaXNzdWVzIH0pO1xuXHRcdHJldHVybiByZXN1bHQudmFsdWU7XG5cdH07XG5cdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyc2VyXCIpO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvX2ludGVybmFsL3JvdXRlLWNvbmZpZy50c1xudmFyIEZpbGVTaXplTWlzbWF0Y2ggPSBjbGFzcyBleHRlbmRzIERhdGEuRXJyb3Ige1xuXHRfdGFnID0gXCJGaWxlU2l6ZU1pc21hdGNoXCI7XG5cdG5hbWUgPSBcIkZpbGVTaXplTWlzbWF0Y2hFcnJvclwiO1xuXHRjb25zdHJ1Y3Rvcih0eXBlLCBtYXgsIGFjdHVhbCkge1xuXHRcdGNvbnN0IHJlYXNvbiA9IGBZb3UgdXBsb2FkZWQgYSAke3R5cGV9IGZpbGUgdGhhdCB3YXMgJHtieXRlc1RvRmlsZVNpemUoYWN0dWFsKX0sIGJ1dCB0aGUgbGltaXQgZm9yIHRoYXQgdHlwZSBpcyAke21heH1gO1xuXHRcdHN1cGVyKHsgcmVhc29uIH0pO1xuXHR9XG59O1xudmFyIEZpbGVDb3VudE1pc21hdGNoID0gY2xhc3MgZXh0ZW5kcyBEYXRhLkVycm9yIHtcblx0X3RhZyA9IFwiRmlsZUNvdW50TWlzbWF0Y2hcIjtcblx0bmFtZSA9IFwiRmlsZUNvdW50TWlzbWF0Y2hFcnJvclwiO1xuXHRjb25zdHJ1Y3Rvcih0eXBlLCBib3VuZHR5cGUsIGJvdW5kLCBhY3R1YWwpIHtcblx0XHRjb25zdCByZWFzb24gPSBgWW91IHVwbG9hZGVkICR7YWN0dWFsfSBmaWxlKHMpIG9mIHR5cGUgJyR7dHlwZX0nLCBidXQgdGhlICR7Ym91bmR0eXBlfSBmb3IgdGhhdCB0eXBlIGlzICR7Ym91bmR9YDtcblx0XHRzdXBlcih7IHJlYXNvbiB9KTtcblx0fVxufTtcbmNvbnN0IGFzc2VydEZpbGVzTWVldENvbmZpZyA9IChmaWxlcywgcm91dGVDb25maWcpID0+IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcblx0Y29uc3QgY291bnRzID0ge307XG5cdGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuXHRcdGNvbnN0IHR5cGUgPSB5aWVsZCogbWF0Y2hGaWxlVHlwZShmaWxlLCBvYmplY3RLZXlzKHJvdXRlQ29uZmlnKSk7XG5cdFx0Y291bnRzW3R5cGVdID0gKGNvdW50c1t0eXBlXSA/PyAwKSArIDE7XG5cdFx0Y29uc3Qgc2l6ZUxpbWl0ID0gcm91dGVDb25maWdbdHlwZV0/Lm1heEZpbGVTaXplO1xuXHRcdGlmICghc2l6ZUxpbWl0KSByZXR1cm4geWllbGQqIG5ldyBJbnZhbGlkUm91dGVDb25maWdFcnJvcih0eXBlLCBcIm1heEZpbGVTaXplXCIpO1xuXHRcdGNvbnN0IHNpemVMaW1pdEJ5dGVzID0geWllbGQqIGZpbGVTaXplVG9CeXRlcyhzaXplTGltaXQpO1xuXHRcdGlmIChmaWxlLnNpemUgPiBzaXplTGltaXRCeXRlcykgcmV0dXJuIHlpZWxkKiBuZXcgRmlsZVNpemVNaXNtYXRjaCh0eXBlLCBzaXplTGltaXQsIGZpbGUuc2l6ZSk7XG5cdH1cblx0Zm9yIChjb25zdCBfa2V5IGluIGNvdW50cykge1xuXHRcdGNvbnN0IGtleSA9IF9rZXk7XG5cdFx0Y29uc3QgY29uZmlnID0gcm91dGVDb25maWdba2V5XTtcblx0XHRpZiAoIWNvbmZpZykgcmV0dXJuIHlpZWxkKiBuZXcgSW52YWxpZFJvdXRlQ29uZmlnRXJyb3Ioa2V5KTtcblx0XHRjb25zdCBjb3VudCA9IGNvdW50c1trZXldO1xuXHRcdGNvbnN0IG1pbiA9IGNvbmZpZy5taW5GaWxlQ291bnQ7XG5cdFx0Y29uc3QgbWF4ID0gY29uZmlnLm1heEZpbGVDb3VudDtcblx0XHRpZiAobWluID4gbWF4KSByZXR1cm4geWllbGQqIG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcblx0XHRcdGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcblx0XHRcdG1lc3NhZ2U6IFwiSW52YWxpZCBjb25maWcgZHVyaW5nIGZpbGUgY291bnQgLSBtaW5GaWxlQ291bnQgPiBtYXhGaWxlQ291bnRcIixcblx0XHRcdGNhdXNlOiBgbWluRmlsZUNvdW50IG11c3QgYmUgbGVzcyB0aGFuIG1heEZpbGVDb3VudCBmb3Iga2V5ICR7a2V5fS4gZ290OiAke21pbn0gPiAke21heH1gXG5cdFx0fSk7XG5cdFx0aWYgKGNvdW50ICE9IG51bGwgJiYgY291bnQgPCBtaW4pIHJldHVybiB5aWVsZCogbmV3IEZpbGVDb3VudE1pc21hdGNoKGtleSwgXCJtaW5pbXVtXCIsIG1pbiwgY291bnQpO1xuXHRcdGlmIChjb3VudCAhPSBudWxsICYmIGNvdW50ID4gbWF4KSByZXR1cm4geWllbGQqIG5ldyBGaWxlQ291bnRNaXNtYXRjaChrZXksIFwibWF4aW11bVwiLCBtYXgsIGNvdW50KTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn0pO1xuY29uc3QgZXh0cmFjdFJvdXRlckNvbmZpZyA9IChyb3V0ZXIpID0+IEVmZmVjdC5mb3JFYWNoKG9iamVjdEtleXMocm91dGVyKSwgKHNsdWcpID0+IEVmZmVjdC5tYXAoZmlsbElucHV0Um91dGVDb25maWcocm91dGVyW3NsdWddLnJvdXRlckNvbmZpZyksIChjb25maWcpID0+ICh7XG5cdHNsdWcsXG5cdGNvbmZpZ1xufSkpKTtcblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL19pbnRlcm5hbC9ydW50aW1lLnRzXG5jb25zdCBtYWtlUnVudGltZSA9IChmZXRjaCwgY29uZmlnKSA9PiB7XG5cdGNvbnN0IGZldGNoSHR0cENsaWVudCA9IExheWVyLnByb3ZpZGVNZXJnZShGZXRjaEh0dHBDbGllbnQubGF5ZXIsIExheWVyLnN1Y2NlZWQoRmV0Y2hIdHRwQ2xpZW50LkZldGNoLCBmZXRjaCkpO1xuXHRjb25zdCB3aXRoUmVkYWN0ZWRIZWFkZXJzID0gTGF5ZXIuZWZmZWN0RGlzY2FyZChGaWJlclJlZi51cGRhdGUoSGVhZGVycy5jdXJyZW50UmVkYWN0ZWROYW1lcywgKF8pID0+IF8uY29uY2F0KFtcIngtdXBsb2FkdGhpbmctYXBpLWtleVwiXSkpKTtcblx0Y29uc3QgbGF5ZXIgPSBMYXllci5wcm92aWRlKExheWVyLm1lcmdlQWxsKHdpdGhMb2dGb3JtYXQsIHdpdGhNaW5pbWFsTG9nTGV2ZWwsIGZldGNoSHR0cENsaWVudCwgd2l0aFJlZGFjdGVkSGVhZGVycyksIExheWVyLnNldENvbmZpZ1Byb3ZpZGVyKGNvbmZpZ1Byb3ZpZGVyKGNvbmZpZykpKTtcblx0cmV0dXJuIE1hbmFnZWRSdW50aW1lLm1ha2UobGF5ZXIpO1xufTtcblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL19pbnRlcm5hbC90eXBlcy50c1xuLyoqXG4qIE1hcmtlciB1c2VkIHRvIHNlbGVjdCB0aGUgcmVnaW9uIGJhc2VkIG9uIHRoZSBpbmNvbWluZyByZXF1ZXN0XG4qL1xuY29uc3QgVVRSZWdpb24gPSBTeW1ib2woXCJ1cGxvYWR0aGluZy1yZWdpb24tc3ltYm9sXCIpO1xuLyoqXG4qIE1hcmtlciB1c2VkIHRvIGFwcGVuZCBhIGBjdXN0b21JZGAgdG8gdGhlIGluY29taW5nIGZpbGUgZGF0YSBpbiBgLm1pZGRsZXdhcmUoKWBcbiogQGV4YW1wbGVcbiogYGBgdHNcbiogLm1pZGRsZXdhcmUoKG9wdHMpID0+IHtcbiogICByZXR1cm4ge1xuKiAgICAgW1VURmlsZXNdOiBvcHRzLmZpbGVzLm1hcCgoZmlsZSkgPT4gKHtcbiogICAgICAgLi4uZmlsZSxcbiogICAgICAgY3VzdG9tSWQ6IGdlbmVyYXRlSWQoKSxcbiogICAgIH0pKVxuKiAgIH07XG4qIH0pXG4qIGBgYFxuKi9cbmNvbnN0IFVURmlsZXMgPSBTeW1ib2woXCJ1cGxvYWR0aGluZy1jdXN0b20taWQtc3ltYm9sXCIpO1xuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvX2ludGVybmFsL2hhbmRsZXIudHNcbnZhciBBZGFwdGVyQXJndW1lbnRzID0gY2xhc3MgZXh0ZW5kcyBDb250ZXh0LlRhZyhcInVwbG9hZHRoaW5nL0FkYXB0ZXJBcmd1bWVudHNcIikoKSB7fTtcbi8qKlxuKiBDcmVhdGUgYSByZXF1ZXN0IGhhbmRsZXIgYWRhcHRlciBmb3IgYW55IGZyYW1ld29yayBvciBzZXJ2ZXIgbGlicmFyeS5cbiogUmVmZXIgdG8gdGhlIGV4aXN0aW5nIGFkYXB0ZXJzIGZvciBleGFtcGxlcyBvbiBob3cgdG8gdXNlIHRoaXMgZnVuY3Rpb24uXG4qIEBwdWJsaWNcbipcbiogQHBhcmFtIG1ha2VBZGFwdGVyQXJncyAtIEZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIGFyZ3MgZnJvbSB5b3VyIGZyYW1ld29yayBhbmQgcmV0dXJucyBhbiBFZmZlY3QgdGhhdCByZXNvbHZlcyB0byB0aGUgYWRhcHRlciBhcmdzLlxuKiBUaGVzZSBhcmdzIGFyZSBwYXNzZWQgdG8gdGhlIGAubWlkZGxld2FyZWAsIGAub25VcGxvYWRDb21wbGV0ZWAsIGFuZCBgLm9uVXBsb2FkRXJyb3JgIGhvb2tzLlxuKiBAcGFyYW0gdG9SZXF1ZXN0IC0gRnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgYXJncyBmcm9tIHlvdXIgZnJhbWV3b3JrIGFuZCByZXR1cm5zIGFuIEVmZmVjdCB0aGF0IHJlc29sdmVzIHRvIGEgd2ViIFJlcXVlc3Qgb2JqZWN0LlxuKiBAcGFyYW0gb3B0cyAtIFRoZSByb3V0ZXIgY29uZmlnIGFuZCBvdGhlciBvcHRpb25zIHRoYXQgYXJlIG5vcm1hbGx5IHBhc3NlZCB0byBgY3JlYXRlUmVxdWVzdEhhbmRsZXJgIG9mIG9mZmljaWFsIGFkYXB0ZXJzXG4qIEBwYXJhbSBiZUFkYXB0ZXIgLSBbT3B0aW9uYWxdIFRoZSBhZGFwdGVyIG5hbWUgb2YgdGhlIGFkYXB0ZXIsIHVzZWQgZm9yIHRlbGVtZXRyeSBwdXJwb3Nlc1xuKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIGFyZ3MgZnJvbSB5b3VyIGZyYW1ld29yayBhbmQgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIFJlc3BvbnNlIG9iamVjdC5cbiovXG5jb25zdCBtYWtlQWRhcHRlckhhbmRsZXIgPSAobWFrZUFkYXB0ZXJBcmdzLCB0b1JlcXVlc3QsIG9wdHMsIGJlQWRhcHRlcikgPT4ge1xuXHRjb25zdCBtYW5hZ2VkID0gbWFrZVJ1bnRpbWUob3B0cy5jb25maWc/LmZldGNoLCBvcHRzLmNvbmZpZyk7XG5cdGNvbnN0IGhhbmRsZSA9IEVmZmVjdC5wcm9taXNlKCgpID0+IG1hbmFnZWQucnVudGltZSgpLnRoZW4oSHR0cEFwcC50b1dlYkhhbmRsZXJSdW50aW1lKSk7XG5cdGNvbnN0IGFwcCA9ICguLi5hcmdzKSA9PiBFZmZlY3QubWFwKEVmZmVjdC5wcm9taXNlKCgpID0+IG1hbmFnZWQucnVuUHJvbWlzZShjcmVhdGVSZXF1ZXN0SGFuZGxlcihvcHRzLCBiZUFkYXB0ZXIgPz8gXCJjdXN0b21cIikpKSwgRWZmZWN0LnByb3ZpZGVTZXJ2aWNlRWZmZWN0KEFkYXB0ZXJBcmd1bWVudHMsIG1ha2VBZGFwdGVyQXJncyguLi5hcmdzKSkpO1xuXHRyZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGUucGlwZShFZmZlY3QuYXAoYXBwKC4uLmFyZ3MpKSwgRWZmZWN0LmFwKHRvUmVxdWVzdCguLi5hcmdzKSksIEVmZmVjdC53aXRoTG9nU3BhbihcInJlcXVlc3RIYW5kbGVyXCIpLCBtYW5hZ2VkLnJ1blByb21pc2UpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG59O1xuY29uc3QgY3JlYXRlUmVxdWVzdEhhbmRsZXIgPSAob3B0cywgYmVBZGFwdGVyKSA9PiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG5cdGNvbnN0IGlzRGV2ZWxvcG1lbnQgPSB5aWVsZCogSXNEZXZlbG9wbWVudDtcblx0Y29uc3Qgcm91dGVyQ29uZmlnID0geWllbGQqIGV4dHJhY3RSb3V0ZXJDb25maWcob3B0cy5yb3V0ZXIpO1xuXHRjb25zdCBoYW5kbGVEYWVtb24gPSAoKCkgPT4ge1xuXHRcdGlmIChvcHRzLmNvbmZpZz8uaGFuZGxlRGFlbW9uUHJvbWlzZSkgcmV0dXJuIG9wdHMuY29uZmlnLmhhbmRsZURhZW1vblByb21pc2U7XG5cdFx0cmV0dXJuIGlzRGV2ZWxvcG1lbnQgPyBcInZvaWRcIiA6IFwiYXdhaXRcIjtcblx0fSkoKTtcblx0aWYgKGlzRGV2ZWxvcG1lbnQgJiYgaGFuZGxlRGFlbW9uID09PSBcImF3YWl0XCIpIHJldHVybiB5aWVsZCogbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRcdGNvZGU6IFwiSU5WQUxJRF9TRVJWRVJfQ09ORklHXCIsXG5cdFx0bWVzc2FnZTogXCJoYW5kbGVEYWVtb25Qcm9taXNlOiBcXFwiYXdhaXRcXFwiIGlzIGZvcmJpZGRlbiBpbiBkZXZlbG9wbWVudC5cIlxuXHR9KTtcblx0Y29uc3QgR0VUID0gRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuXHRcdHJldHVybiB5aWVsZCogSHR0cFNlcnZlclJlc3BvbnNlLmpzb24ocm91dGVyQ29uZmlnKTtcblx0fSk7XG5cdGNvbnN0IFBPU1QgPSBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG5cdFx0Y29uc3QgeyBcInVwbG9hZHRoaW5nLWhvb2tcIjogdXBsb2FkdGhpbmdIb29rLCBcIngtdXBsb2FkdGhpbmctcGFja2FnZVwiOiBmZVBhY2thZ2UsIFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCI6IGNsaWVudFZlcnNpb24gfSA9IHlpZWxkKiBIdHRwU2VydmVyUmVxdWVzdC5zY2hlbWFIZWFkZXJzKFMuU3RydWN0KHtcblx0XHRcdFwidXBsb2FkdGhpbmctaG9va1wiOiBVcGxvYWRUaGluZ0hvb2sucGlwZShTLm9wdGlvbmFsKSxcblx0XHRcdFwieC11cGxvYWR0aGluZy1wYWNrYWdlXCI6IFMuU3RyaW5nLnBpcGUoUy5vcHRpb25hbFdpdGgoeyBkZWZhdWx0OiAoKSA9PiBcInVua25vd25cIiB9KSksXG5cdFx0XHRcIngtdXBsb2FkdGhpbmctdmVyc2lvblwiOiBTLlN0cmluZy5waXBlKFMub3B0aW9uYWxXaXRoKHsgZGVmYXVsdDogKCkgPT4gdmVyc2lvbiB9KSlcblx0XHR9KSk7XG5cdFx0aWYgKGNsaWVudFZlcnNpb24gIT09IHZlcnNpb24pIHtcblx0XHRcdGNvbnN0IHNlcnZlclZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdFx0eWllbGQqIEVmZmVjdC5sb2dXYXJuaW5nKFwiQ2xpZW50IHZlcnNpb24gbWlzbWF0Y2guIFRoaW5ncyBtYXkgbm90IHdvcmsgYXMgZXhwZWN0ZWQsIHBsZWFzZSBzeW5jIHlvdXIgdmVyc2lvbnMgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkuXCIpLnBpcGUoRWZmZWN0LmFubm90YXRlTG9ncyh7XG5cdFx0XHRcdGNsaWVudFZlcnNpb24sXG5cdFx0XHRcdHNlcnZlclZlcnNpb25cblx0XHRcdH0pKTtcblx0XHR9XG5cdFx0Y29uc3QgeyBzbHVnLCBhY3Rpb25UeXBlIH0gPSB5aWVsZCogSHR0cFJvdXRlci5zY2hlbWFQYXJhbXMoUy5TdHJ1Y3Qoe1xuXHRcdFx0YWN0aW9uVHlwZTogQWN0aW9uVHlwZS5waXBlKFMub3B0aW9uYWwpLFxuXHRcdFx0c2x1ZzogUy5TdHJpbmdcblx0XHR9KSk7XG5cdFx0Y29uc3QgdXBsb2FkYWJsZSA9IG9wdHMucm91dGVyW3NsdWddO1xuXHRcdGlmICghdXBsb2FkYWJsZSkge1xuXHRcdFx0Y29uc3QgbXNnID0gYE5vIGZpbGUgcm91dGUgZm91bmQgZm9yIHNsdWcgJHtzbHVnfWA7XG5cdFx0XHR5aWVsZCogRWZmZWN0LmxvZ0Vycm9yKG1zZyk7XG5cdFx0XHRyZXR1cm4geWllbGQqIG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcblx0XHRcdFx0Y29kZTogXCJOT1RfRk9VTkRcIixcblx0XHRcdFx0bWVzc2FnZTogbXNnXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Y29uc3QgeyBib2R5LCBmaWJlciB9ID0geWllbGQqIE1hdGNoLnZhbHVlKHtcblx0XHRcdGFjdGlvblR5cGUsXG5cdFx0XHR1cGxvYWR0aGluZ0hvb2tcblx0XHR9KS5waXBlKE1hdGNoLndoZW4oe1xuXHRcdFx0YWN0aW9uVHlwZTogXCJ1cGxvYWRcIixcblx0XHRcdHVwbG9hZHRoaW5nSG9vazogdm9pZCAwXG5cdFx0fSwgKCkgPT4gaGFuZGxlVXBsb2FkQWN0aW9uKHtcblx0XHRcdHVwbG9hZGFibGUsXG5cdFx0XHRmZVBhY2thZ2UsXG5cdFx0XHRiZUFkYXB0ZXIsXG5cdFx0XHRzbHVnXG5cdFx0fSkpLCBNYXRjaC53aGVuKHtcblx0XHRcdGFjdGlvblR5cGU6IHZvaWQgMCxcblx0XHRcdHVwbG9hZHRoaW5nSG9vazogXCJjYWxsYmFja1wiXG5cdFx0fSwgKCkgPT4gaGFuZGxlQ2FsbGJhY2tSZXF1ZXN0KHtcblx0XHRcdHVwbG9hZGFibGUsXG5cdFx0XHRmZVBhY2thZ2UsXG5cdFx0XHRiZUFkYXB0ZXJcblx0XHR9KSksIE1hdGNoLndoZW4oe1xuXHRcdFx0YWN0aW9uVHlwZTogdm9pZCAwLFxuXHRcdFx0dXBsb2FkdGhpbmdIb29rOiBcImVycm9yXCJcblx0XHR9LCAoKSA9PiBoYW5kbGVFcnJvclJlcXVlc3QoeyB1cGxvYWRhYmxlIH0pKSwgTWF0Y2gub3JFbHNlKCgpID0+IEVmZmVjdC5zdWNjZWVkKHtcblx0XHRcdGJvZHk6IG51bGwsXG5cdFx0XHRmaWJlcjogbnVsbFxuXHRcdH0pKSk7XG5cdFx0aWYgKGZpYmVyKSB7XG5cdFx0XHR5aWVsZCogRWZmZWN0LmxvZ0RlYnVnKFwiUnVubmluZyBmaWJlciBhcyBkYWVtb25cIikucGlwZShFZmZlY3QuYW5ub3RhdGVMb2dzKFwiaGFuZGxlRGFlbW9uXCIsIGhhbmRsZURhZW1vbikpO1xuXHRcdFx0aWYgKGhhbmRsZURhZW1vbiA9PT0gXCJ2b2lkXCIpIHt9IGVsc2UgaWYgKGhhbmRsZURhZW1vbiA9PT0gXCJhd2FpdFwiKSB5aWVsZCogZmliZXIuYXdhaXQ7XG5cdFx0XHRlbHNlIGlmICh0eXBlb2YgaGFuZGxlRGFlbW9uID09PSBcImZ1bmN0aW9uXCIpIGhhbmRsZURhZW1vbihFZmZlY3QucnVuUHJvbWlzZShmaWJlci5hd2FpdCkpO1xuXHRcdH1cblx0XHR5aWVsZCogRWZmZWN0LmxvZ0RlYnVnKFwiU2VuZGluZyByZXNwb25zZVwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJib2R5XCIsIGJvZHkpKTtcblx0XHRyZXR1cm4geWllbGQqIEh0dHBTZXJ2ZXJSZXNwb25zZS5qc29uKGJvZHkpO1xuXHR9KS5waXBlKEVmZmVjdC5jYXRjaFRhZ3Moe1xuXHRcdFBhcnNlRXJyb3I6IChlKSA9PiBIdHRwU2VydmVyUmVzcG9uc2UuanNvbihmb3JtYXRFcnJvcihuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG5cdFx0XHRjb2RlOiBcIkJBRF9SRVFVRVNUXCIsXG5cdFx0XHRtZXNzYWdlOiBcIkludmFsaWQgaW5wdXRcIixcblx0XHRcdGNhdXNlOiBlLm1lc3NhZ2Vcblx0XHR9KSwgb3B0cy5yb3V0ZXIpLCB7IHN0YXR1czogNDAwIH0pLFxuXHRcdFVwbG9hZFRoaW5nRXJyb3I6IChlKSA9PiBIdHRwU2VydmVyUmVzcG9uc2UuanNvbihmb3JtYXRFcnJvcihlLCBvcHRzLnJvdXRlciksIHsgc3RhdHVzOiBnZXRTdGF0dXNDb2RlRnJvbUVycm9yKGUpIH0pXG5cdH0pKTtcblx0Y29uc3QgYXBwZW5kUmVzcG9uc2VIZWFkZXJzID0gRWZmZWN0Lm1hcChIdHRwU2VydmVyUmVzcG9uc2Uuc2V0SGVhZGVyKFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCIsIHZlcnNpb24pKTtcblx0cmV0dXJuIEh0dHBSb3V0ZXIuZW1wdHkucGlwZShIdHRwUm91dGVyLmdldChcIipcIiwgR0VUKSwgSHR0cFJvdXRlci5wb3N0KFwiKlwiLCBQT1NUKSwgSHR0cFJvdXRlci51c2UoYXBwZW5kUmVzcG9uc2VIZWFkZXJzKSk7XG59KS5waXBlKEVmZmVjdC53aXRoTG9nU3BhbihcImNyZWF0ZVJlcXVlc3RIYW5kbGVyXCIpKTtcbmNvbnN0IGhhbmRsZUVycm9yUmVxdWVzdCA9IChvcHRzKSA9PiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG5cdGNvbnN0IHsgdXBsb2FkYWJsZSB9ID0gb3B0cztcblx0Y29uc3QgcmVxdWVzdCA9IHlpZWxkKiBIdHRwU2VydmVyUmVxdWVzdC5IdHRwU2VydmVyUmVxdWVzdDtcblx0Y29uc3QgeyBhcGlLZXkgfSA9IHlpZWxkKiBVVFRva2VuO1xuXHRjb25zdCB2ZXJpZmllZCA9IHlpZWxkKiB2ZXJpZnlTaWduYXR1cmUoeWllbGQqIHJlcXVlc3QudGV4dCwgcmVxdWVzdC5oZWFkZXJzW1wieC11cGxvYWR0aGluZy1zaWduYXR1cmVcIl0gPz8gbnVsbCwgYXBpS2V5KTtcblx0eWllbGQqIEVmZmVjdC5sb2dEZWJ1ZyhgU2lnbmF0dXJlIHZlcmlmaWVkOiAke3ZlcmlmaWVkfWApO1xuXHRpZiAoIXZlcmlmaWVkKSB7XG5cdFx0eWllbGQqIEVmZmVjdC5sb2dFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlXCIpO1xuXHRcdHJldHVybiB5aWVsZCogbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRcdFx0Y29kZTogXCJCQURfUkVRVUVTVFwiLFxuXHRcdFx0bWVzc2FnZTogXCJJbnZhbGlkIHNpZ25hdHVyZVwiXG5cdFx0fSk7XG5cdH1cblx0Y29uc3QgcmVxdWVzdElucHV0ID0geWllbGQqIEh0dHBTZXJ2ZXJSZXF1ZXN0LnNjaGVtYUJvZHlKc29uKFMuU3RydWN0KHtcblx0XHRmaWxlS2V5OiBTLlN0cmluZyxcblx0XHRlcnJvcjogUy5TdHJpbmdcblx0fSkpO1xuXHR5aWVsZCogRWZmZWN0LmxvZ0RlYnVnKFwiSGFuZGxpbmcgZXJyb3IgY2FsbGJhY2sgcmVxdWVzdCB3aXRoIGlucHV0OlwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJqc29uXCIsIHJlcXVlc3RJbnB1dCkpO1xuXHRjb25zdCBhZGFwdGVyQXJncyA9IHlpZWxkKiBBZGFwdGVyQXJndW1lbnRzO1xuXHRjb25zdCBmaWJlciA9IHlpZWxkKiBFZmZlY3QudHJ5UHJvbWlzZSh7XG5cdFx0dHJ5OiBhc3luYyAoKSA9PiB1cGxvYWRhYmxlLm9uVXBsb2FkRXJyb3Ioe1xuXHRcdFx0Li4uYWRhcHRlckFyZ3MsXG5cdFx0XHRlcnJvcjogbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRcdFx0XHRjb2RlOiBcIlVQTE9BRF9GQUlMRURcIixcblx0XHRcdFx0bWVzc2FnZTogYFVwbG9hZCBmYWlsZWQgZm9yICR7cmVxdWVzdElucHV0LmZpbGVLZXl9OiAke3JlcXVlc3RJbnB1dC5lcnJvcn1gXG5cdFx0XHR9KSxcblx0XHRcdGZpbGVLZXk6IHJlcXVlc3RJbnB1dC5maWxlS2V5XG5cdFx0fSksXG5cdFx0Y2F0Y2g6IChlcnJvcikgPT4gbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRcdFx0Y29kZTogXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIixcblx0XHRcdG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHJ1biBvblVwbG9hZEVycm9yXCIsXG5cdFx0XHRjYXVzZTogZXJyb3Jcblx0XHR9KVxuXHR9KS5waXBlKEVmZmVjdC50YXBFcnJvcigoZXJyb3IpID0+IEVmZmVjdC5sb2dFcnJvcihcIkZhaWxlZCB0byBydW4gb25VcGxvYWRFcnJvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBiZSB0aHJvd2luZyBlcnJvcnMgaGVyZS5cIikucGlwZShFZmZlY3QuYW5ub3RhdGVMb2dzKFwiZXJyb3JcIiwgZXJyb3IpKSkpLnBpcGUoRWZmZWN0Lmlnbm9yZUxvZ2dlZCwgRWZmZWN0LmZvcmtEYWVtb24pO1xuXHRyZXR1cm4ge1xuXHRcdGJvZHk6IG51bGwsXG5cdFx0ZmliZXJcblx0fTtcbn0pLnBpcGUoRWZmZWN0LndpdGhMb2dTcGFuKFwiaGFuZGxlRXJyb3JSZXF1ZXN0XCIpKTtcbmNvbnN0IGhhbmRsZUNhbGxiYWNrUmVxdWVzdCA9IChvcHRzKSA9PiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG5cdGNvbnN0IHsgdXBsb2FkYWJsZSwgZmVQYWNrYWdlLCBiZUFkYXB0ZXIgfSA9IG9wdHM7XG5cdGNvbnN0IHJlcXVlc3QgPSB5aWVsZCogSHR0cFNlcnZlclJlcXVlc3QuSHR0cFNlcnZlclJlcXVlc3Q7XG5cdGNvbnN0IHsgYXBpS2V5IH0gPSB5aWVsZCogVVRUb2tlbjtcblx0Y29uc3QgdmVyaWZpZWQgPSB5aWVsZCogdmVyaWZ5U2lnbmF0dXJlKHlpZWxkKiByZXF1ZXN0LnRleHQsIHJlcXVlc3QuaGVhZGVyc1tcIngtdXBsb2FkdGhpbmctc2lnbmF0dXJlXCJdID8/IG51bGwsIGFwaUtleSk7XG5cdHlpZWxkKiBFZmZlY3QubG9nRGVidWcoYFNpZ25hdHVyZSB2ZXJpZmllZDogJHt2ZXJpZmllZH1gKTtcblx0aWYgKCF2ZXJpZmllZCkge1xuXHRcdHlpZWxkKiBFZmZlY3QubG9nRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZVwiKTtcblx0XHRyZXR1cm4geWllbGQqIG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcblx0XHRcdGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcblx0XHRcdG1lc3NhZ2U6IFwiSW52YWxpZCBzaWduYXR1cmVcIlxuXHRcdH0pO1xuXHR9XG5cdGNvbnN0IHJlcXVlc3RJbnB1dCA9IHlpZWxkKiBIdHRwU2VydmVyUmVxdWVzdC5zY2hlbWFCb2R5SnNvbihTLlN0cnVjdCh7XG5cdFx0c3RhdHVzOiBTLlN0cmluZyxcblx0XHRmaWxlOiBVcGxvYWRlZEZpbGVEYXRhLFxuXHRcdG9yaWdpbjogUy5TdHJpbmcsXG5cdFx0bWV0YWRhdGE6IFMuUmVjb3JkKHtcblx0XHRcdGtleTogUy5TdHJpbmcsXG5cdFx0XHR2YWx1ZTogUy5Vbmtub3duXG5cdFx0fSlcblx0fSkpO1xuXHR5aWVsZCogRWZmZWN0LmxvZ0RlYnVnKFwiSGFuZGxpbmcgY2FsbGJhY2sgcmVxdWVzdCB3aXRoIGlucHV0OlwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJqc29uXCIsIHJlcXVlc3RJbnB1dCkpO1xuXHQvKipcblx0KiBSdW4gYC5vblVwbG9hZENvbXBsZXRlYCBhcyBhIGRhZW1vbiB0byBwcmV2ZW50IHRoZVxuXHQqIHJlcXVlc3QgZnJvbSBVVCB0byBwb3RlbnRpYWxseSB0aW1lb3V0LlxuXHQqL1xuXHRjb25zdCBmaWJlciA9IHlpZWxkKiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG5cdFx0Y29uc3QgYWRhcHRlckFyZ3MgPSB5aWVsZCogQWRhcHRlckFyZ3VtZW50cztcblx0XHRjb25zdCBzZXJ2ZXJEYXRhID0geWllbGQqIEVmZmVjdC50cnlQcm9taXNlKHtcblx0XHRcdHRyeTogYXN5bmMgKCkgPT4gdXBsb2FkYWJsZS5vblVwbG9hZENvbXBsZXRlKHtcblx0XHRcdFx0Li4uYWRhcHRlckFyZ3MsXG5cdFx0XHRcdGZpbGU6IHtcblx0XHRcdFx0XHQuLi5yZXF1ZXN0SW5wdXQuZmlsZSxcblx0XHRcdFx0XHRnZXQgdXJsKCkge1xuXHRcdFx0XHRcdFx0bG9nRGVwcmVjYXRpb25XYXJuaW5nKFwiYGZpbGUudXJsYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdXBsb2FkdGhpbmcgdjkuIFVzZSBgZmlsZS51ZnNVcmxgIGluc3RlYWQuXCIpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlcXVlc3RJbnB1dC5maWxlLnVybDtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGdldCBhcHBVcmwoKSB7XG5cdFx0XHRcdFx0XHRsb2dEZXByZWNhdGlvbldhcm5pbmcoXCJgZmlsZS5hcHBVcmxgIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB1cGxvYWR0aGluZyB2OS4gVXNlIGBmaWxlLnVmc1VybGAgaW5zdGVhZC5cIik7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVxdWVzdElucHV0LmZpbGUuYXBwVXJsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0bWV0YWRhdGE6IHJlcXVlc3RJbnB1dC5tZXRhZGF0YVxuXHRcdFx0fSksXG5cdFx0XHRjYXRjaDogKGVycm9yKSA9PiBuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG5cdFx0XHRcdGNvZGU6IFwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsXG5cdFx0XHRcdG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHJ1biBvblVwbG9hZENvbXBsZXRlLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGJlIHRocm93aW5nIGVycm9ycyBoZXJlLlwiLFxuXHRcdFx0XHRjYXVzZTogZXJyb3Jcblx0XHRcdH0pXG5cdFx0fSk7XG5cdFx0Y29uc3QgcGF5bG9hZCA9IHtcblx0XHRcdGZpbGVLZXk6IHJlcXVlc3RJbnB1dC5maWxlLmtleSxcblx0XHRcdGNhbGxiYWNrRGF0YTogc2VydmVyRGF0YSA/PyBudWxsXG5cdFx0fTtcblx0XHR5aWVsZCogRWZmZWN0LmxvZ0RlYnVnKFwiJ29uVXBsb2FkQ29tcGxldGUnIGNhbGxiYWNrIGZpbmlzaGVkLiBTZW5kaW5nIHJlc3BvbnNlIHRvIFVwbG9hZFRoaW5nOlwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJjYWxsYmFja0RhdGFcIiwgcGF5bG9hZCkpO1xuXHRcdGNvbnN0IGh0dHBDbGllbnQgPSAoeWllbGQqIEh0dHBDbGllbnQuSHR0cENsaWVudCkucGlwZShIdHRwQ2xpZW50LmZpbHRlclN0YXR1c09rKTtcblx0XHR5aWVsZCogSHR0cENsaWVudFJlcXVlc3QucG9zdChgL2NhbGxiYWNrLXJlc3VsdGApLnBpcGUoSHR0cENsaWVudFJlcXVlc3QucHJlcGVuZFVybChyZXF1ZXN0SW5wdXQub3JpZ2luKSwgSHR0cENsaWVudFJlcXVlc3Quc2V0SGVhZGVycyh7XG5cdFx0XHRcIngtdXBsb2FkdGhpbmctYXBpLWtleVwiOiBSZWRhY3RlZC52YWx1ZShhcGlLZXkpLFxuXHRcdFx0XCJ4LXVwbG9hZHRoaW5nLXZlcnNpb25cIjogdmVyc2lvbixcblx0XHRcdFwieC11cGxvYWR0aGluZy1iZS1hZGFwdGVyXCI6IGJlQWRhcHRlcixcblx0XHRcdFwieC11cGxvYWR0aGluZy1mZS1wYWNrYWdlXCI6IGZlUGFja2FnZVxuXHRcdH0pLCBIdHRwQ2xpZW50UmVxdWVzdC5ib2R5SnNvbihwYXlsb2FkKSwgRWZmZWN0LmZsYXRNYXAoaHR0cENsaWVudC5leGVjdXRlKSwgRWZmZWN0LnRhcEVycm9yKGxvZ0h0dHBDbGllbnRFcnJvcihcIkZhaWxlZCB0byByZWdpc3RlciBjYWxsYmFjayByZXN1bHRcIikpLCBFZmZlY3QuZmxhdE1hcChIdHRwQ2xpZW50UmVzcG9uc2Uuc2NoZW1hQm9keUpzb24oQ2FsbGJhY2tSZXN1bHRSZXNwb25zZSkpLCBFZmZlY3QudGFwKEVmZmVjdC5sb2coXCJTZW50IGNhbGxiYWNrIHJlc3VsdCB0byBVcGxvYWRUaGluZ1wiKSksIEVmZmVjdC5zY29wZWQpO1xuXHR9KS5waXBlKEVmZmVjdC5pZ25vcmVMb2dnZWQsIEVmZmVjdC5mb3JrRGFlbW9uKTtcblx0cmV0dXJuIHtcblx0XHRib2R5OiBudWxsLFxuXHRcdGZpYmVyXG5cdH07XG59KS5waXBlKEVmZmVjdC53aXRoTG9nU3BhbihcImhhbmRsZUNhbGxiYWNrUmVxdWVzdFwiKSk7XG5jb25zdCBydW5Sb3V0ZU1pZGRsZXdhcmUgPSAob3B0cykgPT4gRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuXHRjb25zdCB7IGpzb246IHsgZmlsZXMsIGlucHV0IH0sIHVwbG9hZGFibGUgfSA9IG9wdHM7XG5cdHlpZWxkKiBFZmZlY3QubG9nRGVidWcoXCJSdW5uaW5nIG1pZGRsZXdhcmVcIik7XG5cdGNvbnN0IGFkYXB0ZXJBcmdzID0geWllbGQqIEFkYXB0ZXJBcmd1bWVudHM7XG5cdGNvbnN0IG1ldGFkYXRhID0geWllbGQqIEVmZmVjdC50cnlQcm9taXNlKHtcblx0XHR0cnk6IGFzeW5jICgpID0+IHVwbG9hZGFibGUubWlkZGxld2FyZSh7XG5cdFx0XHQuLi5hZGFwdGVyQXJncyxcblx0XHRcdGlucHV0LFxuXHRcdFx0ZmlsZXNcblx0XHR9KSxcblx0XHRjYXRjaDogKGVycm9yKSA9PiBlcnJvciBpbnN0YW5jZW9mIFVwbG9hZFRoaW5nRXJyb3IgPyBlcnJvciA6IG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcblx0XHRcdGNvZGU6IFwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsXG5cdFx0XHRtZXNzYWdlOiBcIkZhaWxlZCB0byBydW4gbWlkZGxld2FyZVwiLFxuXHRcdFx0Y2F1c2U6IGVycm9yXG5cdFx0fSlcblx0fSk7XG5cdGlmIChtZXRhZGF0YVtVVEZpbGVzXSAmJiBtZXRhZGF0YVtVVEZpbGVzXS5sZW5ndGggIT09IGZpbGVzLmxlbmd0aCkge1xuXHRcdGNvbnN0IG1zZyA9IGBFeHBlY3RlZCBmaWxlcyBvdmVycmlkZSB0byBoYXZlIHRoZSBzYW1lIGxlbmd0aCBhcyBvcmlnaW5hbCBmaWxlcywgZ290ICR7bWV0YWRhdGFbVVRGaWxlc10ubGVuZ3RofSBidXQgZXhwZWN0ZWQgJHtmaWxlcy5sZW5ndGh9YDtcblx0XHR5aWVsZCogRWZmZWN0LmxvZ0Vycm9yKG1zZyk7XG5cdFx0cmV0dXJuIHlpZWxkKiBuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG5cdFx0XHRjb2RlOiBcIkJBRF9SRVFVRVNUXCIsXG5cdFx0XHRtZXNzYWdlOiBcIkZpbGVzIG92ZXJyaWRlIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGggYXMgZmlsZXNcIixcblx0XHRcdGNhdXNlOiBtc2dcblx0XHR9KTtcblx0fVxuXHRjb25zdCBmaWxlc1dpdGhDdXN0b21JZHMgPSB5aWVsZCogRWZmZWN0LmZvckVhY2goZmlsZXMsIChmaWxlLCBpZHgpID0+IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcblx0XHRjb25zdCB0aGVpcnMgPSBtZXRhZGF0YVtVVEZpbGVzXT8uW2lkeF07XG5cdFx0aWYgKHRoZWlycyAmJiB0aGVpcnMuc2l6ZSAhPT0gZmlsZS5zaXplKSB5aWVsZCogRWZmZWN0LmxvZ1dhcm5pbmcoXCJGaWxlIHNpemUgbWlzbWF0Y2guIFJldmVydGluZyB0byBvcmlnaW5hbCBzaXplXCIpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuYW1lOiB0aGVpcnM/Lm5hbWUgPz8gZmlsZS5uYW1lLFxuXHRcdFx0c2l6ZTogZmlsZS5zaXplLFxuXHRcdFx0dHlwZTogZmlsZS50eXBlLFxuXHRcdFx0Y3VzdG9tSWQ6IHRoZWlycz8uY3VzdG9tSWQsXG5cdFx0XHRsYXN0TW9kaWZpZWQ6IHRoZWlycz8ubGFzdE1vZGlmaWVkID8/IERhdGUubm93KClcblx0XHR9O1xuXHR9KSk7XG5cdHJldHVybiB7XG5cdFx0bWV0YWRhdGEsXG5cdFx0ZmlsZXNXaXRoQ3VzdG9tSWRzLFxuXHRcdHByZWZlcnJlZFJlZ2lvbjogbWV0YWRhdGFbVVRSZWdpb25dXG5cdH07XG59KS5waXBlKEVmZmVjdC53aXRoTG9nU3BhbihcInJ1blJvdXRlTWlkZGxld2FyZVwiKSk7XG5jb25zdCBoYW5kbGVVcGxvYWRBY3Rpb24gPSAob3B0cykgPT4gRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuXHRjb25zdCBodHRwQ2xpZW50ID0gKHlpZWxkKiBIdHRwQ2xpZW50Lkh0dHBDbGllbnQpLnBpcGUoSHR0cENsaWVudC5maWx0ZXJTdGF0dXNPayk7XG5cdGNvbnN0IHsgdXBsb2FkYWJsZSwgZmVQYWNrYWdlLCBiZUFkYXB0ZXIsIHNsdWcgfSA9IG9wdHM7XG5cdGNvbnN0IGpzb24gPSB5aWVsZCogSHR0cFNlcnZlclJlcXVlc3Quc2NoZW1hQm9keUpzb24oVXBsb2FkQWN0aW9uUGF5bG9hZCk7XG5cdHlpZWxkKiBFZmZlY3QubG9nRGVidWcoXCJIYW5kbGluZyB1cGxvYWQgcmVxdWVzdFwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJqc29uXCIsIGpzb24pKTtcblx0eWllbGQqIEVmZmVjdC5sb2dEZWJ1ZyhcIlBhcnNpbmcgdXNlciBpbnB1dFwiKTtcblx0Y29uc3QgcGFyc2VkSW5wdXQgPSB5aWVsZCogRWZmZWN0LnRyeVByb21pc2Uoe1xuXHRcdHRyeTogKCkgPT4gZ2V0UGFyc2VGbih1cGxvYWRhYmxlLmlucHV0UGFyc2VyKShqc29uLmlucHV0KSxcblx0XHRjYXRjaDogKGVycm9yKSA9PiBuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG5cdFx0XHRjb2RlOiBcIkJBRF9SRVFVRVNUXCIsXG5cdFx0XHRtZXNzYWdlOiBcIkludmFsaWQgaW5wdXRcIixcblx0XHRcdGNhdXNlOiBlcnJvclxuXHRcdH0pXG5cdH0pO1xuXHR5aWVsZCogRWZmZWN0LmxvZ0RlYnVnKFwiSW5wdXQgcGFyc2VkIHN1Y2Nlc3NmdWxseVwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJpbnB1dFwiLCBwYXJzZWRJbnB1dCkpO1xuXHRjb25zdCB7IG1ldGFkYXRhLCBmaWxlc1dpdGhDdXN0b21JZHMsIHByZWZlcnJlZFJlZ2lvbiB9ID0geWllbGQqIHJ1blJvdXRlTWlkZGxld2FyZSh7XG5cdFx0anNvbjoge1xuXHRcdFx0aW5wdXQ6IHBhcnNlZElucHV0LFxuXHRcdFx0ZmlsZXM6IGpzb24uZmlsZXNcblx0XHR9LFxuXHRcdHVwbG9hZGFibGVcblx0fSk7XG5cdHlpZWxkKiBFZmZlY3QubG9nRGVidWcoXCJQYXJzaW5nIHJvdXRlIGNvbmZpZ1wiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJyb3V0ZXJDb25maWdcIiwgdXBsb2FkYWJsZS5yb3V0ZXJDb25maWcpKTtcblx0Y29uc3QgcGFyc2VkQ29uZmlnID0geWllbGQqIGZpbGxJbnB1dFJvdXRlQ29uZmlnKHVwbG9hZGFibGUucm91dGVyQ29uZmlnKS5waXBlKEVmZmVjdC5jYXRjaFRhZyhcIkludmFsaWRSb3V0ZUNvbmZpZ1wiLCAoZXJyKSA9PiBuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG5cdFx0Y29kZTogXCJCQURfUkVRVUVTVFwiLFxuXHRcdG1lc3NhZ2U6IFwiSW52YWxpZCByb3V0ZSBjb25maWdcIixcblx0XHRjYXVzZTogZXJyXG5cdH0pKSk7XG5cdHlpZWxkKiBFZmZlY3QubG9nRGVidWcoXCJSb3V0ZSBjb25maWcgcGFyc2VkIHN1Y2Nlc3NmdWxseVwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJyb3V0ZUNvbmZpZ1wiLCBwYXJzZWRDb25maWcpKTtcblx0eWllbGQqIEVmZmVjdC5sb2dEZWJ1ZyhcIlZhbGlkYXRpbmcgZmlsZXMgbWVldCB0aGUgY29uZmlnIHJlcXVpcmVtZW50c1wiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJmaWxlc1wiLCBqc29uLmZpbGVzKSk7XG5cdHlpZWxkKiBhc3NlcnRGaWxlc01lZXRDb25maWcoanNvbi5maWxlcywgcGFyc2VkQ29uZmlnKS5waXBlKEVmZmVjdC5tYXBFcnJvcigoZSkgPT4gbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRcdGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcblx0XHRtZXNzYWdlOiBgSW52YWxpZCBjb25maWc6ICR7ZS5fdGFnfWAsXG5cdFx0Y2F1c2U6IFwicmVhc29uXCIgaW4gZSA/IGUucmVhc29uIDogZS5tZXNzYWdlXG5cdH0pKSk7XG5cdHlpZWxkKiBFZmZlY3QubG9nRGVidWcoXCJGaWxlcyB2YWxpZGF0ZWQuXCIpO1xuXHRjb25zdCBmaWxlVXBsb2FkUmVxdWVzdHMgPSB5aWVsZCogRWZmZWN0LmZvckVhY2goZmlsZXNXaXRoQ3VzdG9tSWRzLCAoZmlsZSkgPT4gRWZmZWN0Lm1hcChtYXRjaEZpbGVUeXBlKGZpbGUsIG9iamVjdEtleXMocGFyc2VkQ29uZmlnKSksICh0eXBlKSA9PiAoe1xuXHRcdG5hbWU6IGZpbGUubmFtZSxcblx0XHRzaXplOiBmaWxlLnNpemUsXG5cdFx0dHlwZTogZmlsZS50eXBlIHx8IHR5cGUsXG5cdFx0bGFzdE1vZGlmaWVkOiBmaWxlLmxhc3RNb2RpZmllZCxcblx0XHRjdXN0b21JZDogZmlsZS5jdXN0b21JZCxcblx0XHRjb250ZW50RGlzcG9zaXRpb246IHBhcnNlZENvbmZpZ1t0eXBlXT8uY29udGVudERpc3Bvc2l0aW9uID8/IFwiaW5saW5lXCIsXG5cdFx0YWNsOiBwYXJzZWRDb25maWdbdHlwZV0/LmFjbFxuXHR9KSkpLnBpcGUoRWZmZWN0LmNhdGNoVGFncyh7XG5cdFx0SW52YWxpZEZpbGVUeXBlOiAoZSkgPT4gRWZmZWN0LmRpZShlKSxcblx0XHRVbmtub3duRmlsZVR5cGU6IChlKSA9PiBFZmZlY3QuZGllKGUpXG5cdH0pKTtcblx0Y29uc3Qgcm91dGVPcHRpb25zID0gdXBsb2FkYWJsZS5yb3V0ZU9wdGlvbnM7XG5cdGNvbnN0IHsgYXBpS2V5LCBhcHBJZCB9ID0geWllbGQqIFVUVG9rZW47XG5cdGNvbnN0IGluZ2VzdFVybCA9IHlpZWxkKiBJbmdlc3RVcmwocHJlZmVycmVkUmVnaW9uKTtcblx0Y29uc3QgaXNEZXYgPSB5aWVsZCogSXNEZXZlbG9wbWVudDtcblx0eWllbGQqIEVmZmVjdC5sb2dEZWJ1ZyhcIkdlbmVyYXRpbmcgcHJlc2lnbmVkIFVSTHNcIikucGlwZShFZmZlY3QuYW5ub3RhdGVMb2dzKFwiZmlsZVVwbG9hZFJlcXVlc3RzXCIsIGZpbGVVcGxvYWRSZXF1ZXN0cyksIEVmZmVjdC5hbm5vdGF0ZUxvZ3MoXCJpbmdlc3RVcmxcIiwgaW5nZXN0VXJsKSk7XG5cdGNvbnN0IHByZXNpZ25lZFVybHMgPSB5aWVsZCogRWZmZWN0LmZvckVhY2goZmlsZVVwbG9hZFJlcXVlc3RzLCAoZmlsZSkgPT4gRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuXHRcdGNvbnN0IGtleSA9IHlpZWxkKiBnZW5lcmF0ZUtleShmaWxlLCBhcHBJZCwgcm91dGVPcHRpb25zLmdldEZpbGVIYXNoUGFydHMpO1xuXHRcdGNvbnN0IHVybCA9IHlpZWxkKiBnZW5lcmF0ZVNpZ25lZFVSTChgJHtpbmdlc3RVcmx9LyR7a2V5fWAsIGFwaUtleSwge1xuXHRcdFx0dHRsSW5TZWNvbmRzOiByb3V0ZU9wdGlvbnMucHJlc2lnbmVkVVJMVFRMLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcIngtdXQtaWRlbnRpZmllclwiOiBhcHBJZCxcblx0XHRcdFx0XCJ4LXV0LWZpbGUtbmFtZVwiOiBmaWxlLm5hbWUsXG5cdFx0XHRcdFwieC11dC1maWxlLXNpemVcIjogZmlsZS5zaXplLFxuXHRcdFx0XHRcIngtdXQtZmlsZS10eXBlXCI6IGZpbGUudHlwZSxcblx0XHRcdFx0XCJ4LXV0LXNsdWdcIjogc2x1Zyxcblx0XHRcdFx0XCJ4LXV0LWN1c3RvbS1pZFwiOiBmaWxlLmN1c3RvbUlkLFxuXHRcdFx0XHRcIngtdXQtY29udGVudC1kaXNwb3NpdGlvblwiOiBmaWxlLmNvbnRlbnREaXNwb3NpdGlvbixcblx0XHRcdFx0XCJ4LXV0LWFjbFwiOiBmaWxlLmFjbFxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybiB7XG5cdFx0XHR1cmwsXG5cdFx0XHRrZXlcblx0XHR9O1xuXHR9KSwgeyBjb25jdXJyZW5jeTogXCJ1bmJvdW5kZWRcIiB9KTtcblx0Y29uc3Qgc2VydmVyUmVxID0geWllbGQqIEh0dHBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0O1xuXHRjb25zdCByZXF1ZXN0VXJsID0geWllbGQqIEh0dHBTZXJ2ZXJSZXF1ZXN0LnRvVVJMKHNlcnZlclJlcSk7XG5cdGNvbnN0IGRldkhvb2tSZXF1ZXN0ID0geWllbGQqIENvbmZpZy5zdHJpbmcoXCJjYWxsYmFja1VybFwiKS5waXBlKENvbmZpZy53aXRoRGVmYXVsdChyZXF1ZXN0VXJsLm9yaWdpbiArIHJlcXVlc3RVcmwucGF0aG5hbWUpLCBFZmZlY3QubWFwKCh1cmwpID0+IEh0dHBDbGllbnRSZXF1ZXN0LnBvc3QodXJsKS5waXBlKEh0dHBDbGllbnRSZXF1ZXN0LmFwcGVuZFVybFBhcmFtKFwic2x1Z1wiLCBzbHVnKSkpKTtcblx0Y29uc3QgbWV0YWRhdGFSZXF1ZXN0ID0gSHR0cENsaWVudFJlcXVlc3QucG9zdChcIi9yb3V0ZS1tZXRhZGF0YVwiKS5waXBlKEh0dHBDbGllbnRSZXF1ZXN0LnByZXBlbmRVcmwoaW5nZXN0VXJsKSwgSHR0cENsaWVudFJlcXVlc3Quc2V0SGVhZGVycyh7XG5cdFx0XCJ4LXVwbG9hZHRoaW5nLWFwaS1rZXlcIjogUmVkYWN0ZWQudmFsdWUoYXBpS2V5KSxcblx0XHRcIngtdXBsb2FkdGhpbmctdmVyc2lvblwiOiB2ZXJzaW9uLFxuXHRcdFwieC11cGxvYWR0aGluZy1iZS1hZGFwdGVyXCI6IGJlQWRhcHRlcixcblx0XHRcIngtdXBsb2FkdGhpbmctZmUtcGFja2FnZVwiOiBmZVBhY2thZ2Vcblx0fSksIEh0dHBDbGllbnRSZXF1ZXN0LmJvZHlKc29uKHtcblx0XHRmaWxlS2V5czogcHJlc2lnbmVkVXJscy5tYXAoKHsga2V5IH0pID0+IGtleSksXG5cdFx0bWV0YWRhdGEsXG5cdFx0aXNEZXYsXG5cdFx0Y2FsbGJhY2tVcmw6IGRldkhvb2tSZXF1ZXN0LnVybCxcblx0XHRjYWxsYmFja1NsdWc6IHNsdWcsXG5cdFx0YXdhaXRTZXJ2ZXJEYXRhOiByb3V0ZU9wdGlvbnMuYXdhaXRTZXJ2ZXJEYXRhID8/IHRydWVcblx0fSksIEVmZmVjdC5mbGF0TWFwKGh0dHBDbGllbnQuZXhlY3V0ZSkpO1xuXHRjb25zdCBoYW5kbGVEZXZTdHJlYW1FcnJvciA9IEVmZmVjdC5mbihcImhhbmRsZURldlN0cmVhbUVycm9yXCIpKGZ1bmN0aW9uKiAoZXJyLCBjaHVuaykge1xuXHRcdGNvbnN0IHNjaGVtYSA9IFMucGFyc2VKc29uKFMuU3RydWN0KHsgZmlsZTogVXBsb2FkZWRGaWxlRGF0YSB9KSk7XG5cdFx0Y29uc3QgcGFyc2VkQ2h1bmsgPSB5aWVsZCogUy5kZWNvZGVVbmtub3duKHNjaGVtYSkoY2h1bmspO1xuXHRcdGNvbnN0IGtleSA9IHBhcnNlZENodW5rLmZpbGUua2V5O1xuXHRcdHlpZWxkKiBFZmZlY3QubG9nRXJyb3IoXCJGYWlsZWQgdG8gZm9yd2FyZCBjYWxsYmFjayByZXF1ZXN0IGZyb20gZGV2IHN0cmVhbVwiKS5waXBlKEVmZmVjdC5hbm5vdGF0ZUxvZ3Moe1xuXHRcdFx0ZmlsZUtleToga2V5LFxuXHRcdFx0ZXJyb3I6IGVyci5tZXNzYWdlXG5cdFx0fSkpO1xuXHRcdGNvbnN0IGh0dHBSZXNwb25zZSA9IHlpZWxkKiBIdHRwQ2xpZW50UmVxdWVzdC5wb3N0KFwiL2NhbGxiYWNrLXJlc3VsdFwiKS5waXBlKEh0dHBDbGllbnRSZXF1ZXN0LnByZXBlbmRVcmwoaW5nZXN0VXJsKSwgSHR0cENsaWVudFJlcXVlc3Quc2V0SGVhZGVycyh7XG5cdFx0XHRcIngtdXBsb2FkdGhpbmctYXBpLWtleVwiOiBSZWRhY3RlZC52YWx1ZShhcGlLZXkpLFxuXHRcdFx0XCJ4LXVwbG9hZHRoaW5nLXZlcnNpb25cIjogdmVyc2lvbixcblx0XHRcdFwieC11cGxvYWR0aGluZy1iZS1hZGFwdGVyXCI6IGJlQWRhcHRlcixcblx0XHRcdFwieC11cGxvYWR0aGluZy1mZS1wYWNrYWdlXCI6IGZlUGFja2FnZVxuXHRcdH0pLCBIdHRwQ2xpZW50UmVxdWVzdC5ib2R5SnNvbih7XG5cdFx0XHRmaWxlS2V5OiBrZXksXG5cdFx0XHRlcnJvcjogYEZhaWxlZCB0byBmb3J3YXJkIGNhbGxiYWNrIHJlcXVlc3QgZnJvbSBkZXYgc3RyZWFtOiAke2Vyci5tZXNzYWdlfWBcblx0XHR9KSwgRWZmZWN0LmZsYXRNYXAoaHR0cENsaWVudC5leGVjdXRlKSk7XG5cdFx0eWllbGQqIGxvZ0h0dHBDbGllbnRSZXNwb25zZShcIlJlcG9ydGVkIGNhbGxiYWNrIGVycm9yIHRvIFVwbG9hZFRoaW5nXCIpKGh0dHBSZXNwb25zZSk7XG5cdH0pO1xuXHRjb25zdCBmaWJlciA9IHlpZWxkKiBFZmZlY3QuaWYoaXNEZXYsIHtcblx0XHRvblRydWU6ICgpID0+IG1ldGFkYXRhUmVxdWVzdC5waXBlKEVmZmVjdC50YXBCb3RoKHtcblx0XHRcdG9uU3VjY2VzczogbG9nSHR0cENsaWVudFJlc3BvbnNlKFwiUmVnaXN0ZXJlZCBtZXRhZGF0YVwiLCB7IG1peGluOiBcIk5vbmVcIiB9KSxcblx0XHRcdG9uRmFpbHVyZTogbG9nSHR0cENsaWVudEVycm9yKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1ldGFkYXRhXCIpXG5cdFx0fSksIEh0dHBDbGllbnRSZXNwb25zZS5zdHJlYW0sIGhhbmRsZUpzb25MaW5lU3RyZWFtKE1ldGFkYXRhRmV0Y2hTdHJlYW1QYXJ0LCAoY2h1bmspID0+IGRldkhvb2tSZXF1ZXN0LnBpcGUoSHR0cENsaWVudFJlcXVlc3Quc2V0SGVhZGVycyh7XG5cdFx0XHRcInVwbG9hZHRoaW5nLWhvb2tcIjogY2h1bmsuaG9vayxcblx0XHRcdFwieC11cGxvYWR0aGluZy1zaWduYXR1cmVcIjogY2h1bmsuc2lnbmF0dXJlXG5cdFx0fSksIEh0dHBDbGllbnRSZXF1ZXN0LnNldEJvZHkoSHR0cEJvZHkudGV4dChjaHVuay5wYXlsb2FkLCBcImFwcGxpY2F0aW9uL2pzb25cIikpLCBodHRwQ2xpZW50LmV4ZWN1dGUsIEVmZmVjdC50YXAobG9nSHR0cENsaWVudFJlc3BvbnNlKFwiU3VjY2Vzc2Z1bGx5IGZvcndhcmRlZCBjYWxsYmFjayByZXF1ZXN0IGZyb20gZGV2IHN0cmVhbVwiKSksIEVmZmVjdC5jYXRjaFRhZyhcIlJlc3BvbnNlRXJyb3JcIiwgKGVycikgPT4gaGFuZGxlRGV2U3RyZWFtRXJyb3IoZXJyLCBjaHVuay5wYXlsb2FkKSksIEVmZmVjdC5hbm5vdGF0ZUxvZ3MoY2h1bmspLCBFZmZlY3QuYXNWb2lkLCBFZmZlY3QuaWdub3JlTG9nZ2VkLCBFZmZlY3Quc2NvcGVkKSkpLFxuXHRcdG9uRmFsc2U6ICgpID0+IG1ldGFkYXRhUmVxdWVzdC5waXBlKEVmZmVjdC50YXBCb3RoKHtcblx0XHRcdG9uU3VjY2VzczogbG9nSHR0cENsaWVudFJlc3BvbnNlKFwiUmVnaXN0ZXJlZCBtZXRhZGF0YVwiKSxcblx0XHRcdG9uRmFpbHVyZTogbG9nSHR0cENsaWVudEVycm9yKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1ldGFkYXRhXCIpXG5cdFx0fSksIEVmZmVjdC5mbGF0TWFwKEh0dHBDbGllbnRSZXNwb25zZS5zY2hlbWFCb2R5SnNvbihNZXRhZGF0YUZldGNoUmVzcG9uc2UpKSwgRWZmZWN0LnNjb3BlZClcblx0fSkucGlwZShFZmZlY3QuZm9ya0RhZW1vbik7XG5cdGNvbnN0IHByZXNpZ25lZHMgPSBwcmVzaWduZWRVcmxzLm1hcCgocCwgaSkgPT4gKHtcblx0XHR1cmw6IHAudXJsLFxuXHRcdGtleTogcC5rZXksXG5cdFx0bmFtZTogZmlsZVVwbG9hZFJlcXVlc3RzW2ldLm5hbWUsXG5cdFx0Y3VzdG9tSWQ6IGZpbGVVcGxvYWRSZXF1ZXN0c1tpXS5jdXN0b21JZCA/PyBudWxsXG5cdH0pKTtcblx0eWllbGQqIEVmZmVjdC5sb2dJbmZvKFwiU2VuZGluZyBwcmVzaWduZWQgVVJMcyB0byBjbGllbnRcIikucGlwZShFZmZlY3QuYW5ub3RhdGVMb2dzKFwicHJlc2lnbmVkVXJsc1wiLCBwcmVzaWduZWRzKSk7XG5cdHJldHVybiB7XG5cdFx0Ym9keTogcHJlc2lnbmVkcyxcblx0XHRmaWJlclxuXHR9O1xufSkucGlwZShFZmZlY3Qud2l0aExvZ1NwYW4oXCJoYW5kbGVVcGxvYWRBY3Rpb25cIikpO1xuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvX2ludGVybmFsL3VwbG9hZC1idWlsZGVyLnRzXG5mdW5jdGlvbiBpbnRlcm5hbENyZWF0ZUJ1aWxkZXIoaW5pdERlZiA9IHt9KSB7XG5cdGNvbnN0IF9kZWYgPSB7XG5cdFx0JHR5cGVzOiB7fSxcblx0XHRyb3V0ZXJDb25maWc6IHsgaW1hZ2U6IHsgbWF4RmlsZVNpemU6IFwiNE1CXCIgfSB9LFxuXHRcdHJvdXRlT3B0aW9uczogeyBhd2FpdFNlcnZlckRhdGE6IHRydWUgfSxcblx0XHRpbnB1dFBhcnNlcjoge1xuXHRcdFx0cGFyc2VBc3luYzogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCksXG5cdFx0XHRfaW5wdXQ6IHZvaWQgMCxcblx0XHRcdF9vdXRwdXQ6IHZvaWQgMFxuXHRcdH0sXG5cdFx0bWlkZGxld2FyZTogKCkgPT4gKHt9KSxcblx0XHRvblVwbG9hZEVycm9yOiAoKSA9PiB7fSxcblx0XHRvblVwbG9hZENvbXBsZXRlOiAoKSA9PiB2b2lkIDAsXG5cdFx0ZXJyb3JGb3JtYXR0ZXI6IGluaXREZWYuZXJyb3JGb3JtYXR0ZXIgPz8gZGVmYXVsdEVycm9yRm9ybWF0dGVyLFxuXHRcdC4uLmluaXREZWZcblx0fTtcblx0cmV0dXJuIHtcblx0XHRpbnB1dCh1c2VyUGFyc2VyKSB7XG5cdFx0XHRyZXR1cm4gaW50ZXJuYWxDcmVhdGVCdWlsZGVyKHtcblx0XHRcdFx0Li4uX2RlZixcblx0XHRcdFx0aW5wdXRQYXJzZXI6IHVzZXJQYXJzZXJcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0bWlkZGxld2FyZSh1c2VyTWlkZGxld2FyZSkge1xuXHRcdFx0cmV0dXJuIGludGVybmFsQ3JlYXRlQnVpbGRlcih7XG5cdFx0XHRcdC4uLl9kZWYsXG5cdFx0XHRcdG1pZGRsZXdhcmU6IHVzZXJNaWRkbGV3YXJlXG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdG9uVXBsb2FkQ29tcGxldGUodXNlclVwbG9hZENvbXBsZXRlKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHQuLi5fZGVmLFxuXHRcdFx0XHRvblVwbG9hZENvbXBsZXRlOiB1c2VyVXBsb2FkQ29tcGxldGVcblx0XHRcdH07XG5cdFx0fSxcblx0XHRvblVwbG9hZEVycm9yKHVzZXJPblVwbG9hZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gaW50ZXJuYWxDcmVhdGVCdWlsZGVyKHtcblx0XHRcdFx0Li4uX2RlZixcblx0XHRcdFx0b25VcGxvYWRFcnJvcjogdXNlck9uVXBsb2FkRXJyb3Jcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcbn1cbi8qKlxuKiBDcmVhdGUgYSBidWlsZGVyIGZvciB5b3VyIGJhY2tlbmQgYWRhcHRlci5cbiogUmVmZXIgdG8gdGhlIGV4aXN0aW5nIGFkYXB0ZXJzIGZvciBleGFtcGxlcyBvbiBob3cgdG8gdXNlIHRoaXMgZnVuY3Rpb24uXG4qIEBwdWJsaWNcbipcbiogQHBhcmFtIG9wdHMgLSBPcHRpb25zIGZvciB0aGUgYnVpbGRlclxuKiBAcmV0dXJucyBBIGZpbGUgcm91dGUgYnVpbGRlciBmb3IgbWFraW5nIFVwbG9hZFRoaW5nIGZpbGUgcm91dGVzXG4qL1xuZnVuY3Rpb24gY3JlYXRlQnVpbGRlcihvcHRzKSB7XG5cdHJldHVybiAoaW5wdXQsIGNvbmZpZykgPT4ge1xuXHRcdHJldHVybiBpbnRlcm5hbENyZWF0ZUJ1aWxkZXIoe1xuXHRcdFx0cm91dGVyQ29uZmlnOiBpbnB1dCxcblx0XHRcdHJvdXRlT3B0aW9uczogY29uZmlnID8/IHt9LFxuXHRcdFx0Li4ub3B0c1xuXHRcdH0pO1xuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFkYXB0ZXJBcmd1bWVudHMsIEFwaVVybCwgSW5nZXN0VXJsLCBVVEZpbGVzLCBVVFJlZ2lvbiwgVVRUb2tlbiwgVWZzQXBwSWRMb2NhdGlvbiwgVWZzSG9zdCwgY29uZmlnUHJvdmlkZXIsIGNyZWF0ZUJ1aWxkZXIsIGNyZWF0ZVJlcXVlc3RIYW5kbGVyLCBleHRyYWN0Um91dGVyQ29uZmlnLCBsb2dIdHRwQ2xpZW50RXJyb3IsIGxvZ0h0dHBDbGllbnRSZXNwb25zZSwgbWFrZUFkYXB0ZXJIYW5kbGVyLCBtYWtlUnVudGltZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2FkLWJ1aWxkZXItQmxGT0Fuc3YuanMubWFwIl0sIm5hbWVzIjpbInZlcnNpb24iLCJsb2dEZXByZWNhdGlvbldhcm5pbmciLCJBY3Rpb25UeXBlIiwiQ2FsbGJhY2tSZXN1bHRSZXNwb25zZSIsIk1ldGFkYXRhRmV0Y2hSZXNwb25zZSIsIk1ldGFkYXRhRmV0Y2hTdHJlYW1QYXJ0IiwiVXBsb2FkQWN0aW9uUGF5bG9hZCIsIlVwbG9hZFRoaW5nSG9vayIsIlVwbG9hZFRoaW5nVG9rZW4iLCJVcGxvYWRlZEZpbGVEYXRhIiwiSW52YWxpZFJvdXRlQ29uZmlnRXJyb3IiLCJVcGxvYWRUaGluZ0Vycm9yIiwiYnl0ZXNUb0ZpbGVTaXplIiwiZmlsZVNpemVUb0J5dGVzIiwiZmlsbElucHV0Um91dGVDb25maWciLCJmaWx0ZXJEZWZpbmVkT2JqZWN0VmFsdWVzIiwiZ2VuZXJhdGVLZXkiLCJnZW5lcmF0ZVNpZ25lZFVSTCIsImdldFN0YXR1c0NvZGVGcm9tRXJyb3IiLCJtYXRjaEZpbGVUeXBlIiwib2JqZWN0S2V5cyIsInZlcmlmeVNpZ25hdHVyZSIsIkVmZmVjdCIsIkh0dHBBcHAiLCJIdHRwQm9keSIsIkh0dHBDbGllbnQiLCJIdHRwQ2xpZW50UmVxdWVzdCIsIkh0dHBDbGllbnRSZXNwb25zZSIsIkh0dHBSb3V0ZXIiLCJIdHRwU2VydmVyUmVxdWVzdCIsIkh0dHBTZXJ2ZXJSZXNwb25zZSIsIkNvbmZpZyIsIkNvbnRleHQiLCJNYXRjaCIsIlJlZGFjdGVkIiwiUyIsIkNvbmZpZ1Byb3ZpZGVyIiwiU3RyZWFtIiwiQ29uZmlnRXJyb3IiLCJFaXRoZXIkMSIsIkxheWVyIiwiTG9nZ2VyIiwiTG9nTGV2ZWwiLCJDYXVzZSIsIkRhdGEiLCJSdW50aW1lIiwiRmV0Y2hIdHRwQ2xpZW50IiwiSGVhZGVycyIsIkZpYmVyUmVmIiwiTWFuYWdlZFJ1bnRpbWUiLCJlbnZQcm92aWRlciIsImZyb21FbnYiLCJwaXBlIiwib3JFbHNlIiwiZnJvbU1hcCIsIk1hcCIsIk9iamVjdCIsImVudHJpZXMiLCJlbnYiLCJwYXRoRGVsaW0iLCJuZXN0ZWQiLCJjb25zdGFudENhc2UiLCJjb25maWdQcm92aWRlciIsIm9wdGlvbnMiLCJmcm9tSnNvbiIsIklzRGV2ZWxvcG1lbnQiLCJib29sZWFuIiwic3VjY2VlZCIsInByb2Nlc3MiLCJtYXAiLCJfIiwid2l0aERlZmF1bHQiLCJVVFRva2VuIiwiY2F0Y2hUYWdzIiwiZSIsImNvZGUiLCJfb3AiLCJtZXNzYWdlIiwiY2F1c2UiLCJBcGlVcmwiLCJzdHJpbmciLCJtYXBBdHRlbXB0IiwiVVJMIiwidXJsIiwiaHJlZiIsInJlcGxhY2UiLCJJbmdlc3RVcmwiLCJmbiIsInByZWZlcnJlZFJlZ2lvbiIsInJlZ2lvbnMiLCJpbmdlc3RIb3N0IiwicmVnaW9uIiwiZmluZCIsInIiLCJVdGZzSG9zdCIsIlVmc0hvc3QiLCJVZnNBcHBJZExvY2F0aW9uIiwibGl0ZXJhbCIsImRlZmF1bHRFcnJvckZvcm1hdHRlciIsImVycm9yIiwiZm9ybWF0RXJyb3IiLCJyb3V0ZXIiLCJmaXJzdFNsdWciLCJrZXlzIiwiZXJyb3JGb3JtYXR0ZXIiLCJoYW5kbGVKc29uTGluZVN0cmVhbSIsInNjaGVtYSIsIm9uQ2h1bmsiLCJzdHJlYW0iLCJidWYiLCJkZWNvZGVUZXh0IiwibWFwRWZmZWN0IiwiY2h1bmsiLCJnZW4iLCJwYXJ0cyIsInNwbGl0IiwidmFsaWRDaHVua3MiLCJwYXJ0IiwicHVzaCIsIkpTT04iLCJwYXJzZSIsInNsaWNlIiwibGVuZ3RoIiwibG9nRGVidWciLCJhbm5vdGF0ZUxvZ3MiLCJkZWNvZGVVbmtub3duIiwiQXJyYXkiLCJmb3JFYWNoIiwicnVuRHJhaW4iLCJ3aXRoTG9nU3BhbiIsIkNvbmZpZ0xvZ0xldmVsIiwibmFtZSIsImNvbmZpZyIsIm1hcE9yRmFpbCIsImxldmVsIiwiYWxsTGV2ZWxzIiwibGV2ZWwkMSIsIl90YWciLCJsZWZ0IiwiSW52YWxpZERhdGEiLCJyaWdodCIsIndpdGhNaW5pbWFsTG9nTGV2ZWwiLCJJbmZvIiwiYW5kVGhlbiIsIm1pbmltdW1Mb2dMZXZlbCIsInRhcEVycm9yIiwibG9nRXJyb3IiLCJjYXRjaFRhZyIsInVud3JhcEVmZmVjdCIsIkxvZ0Zvcm1hdCIsIndpdGhMb2dGb3JtYXQiLCJpc0RldiIsImxvZ0Zvcm1hdCIsImxvZ0h0dHBDbGllbnRSZXNwb25zZSIsIm9wdHMiLCJtaXhpbiIsImZyb21MaXRlcmFsIiwicmVzcG9uc2UiLCJmbGF0TWFwIiwidm9pZCIsImxvZ1dpdGhMZXZlbCIsInN0YXR1cyIsImxvZ0h0dHBDbGllbnRFcnJvciIsImVyciIsIlBhcnNlckVycm9yIiwiVGFnZ2VkRXJyb3IiLCJnZXRQYXJzZUZuIiwicGFyc2VyIiwicGFyc2VBc3luYyIsImlzU2NoZW1hIiwidmFsdWUiLCJkZWNvZGVVbmtub3duUHJvbWlzZSIsImNhdGNoIiwic3F1YXNoIiwiRmliZXJGYWlsdXJlQ2F1c2VJZCIsInJlc3VsdCIsInZhbGlkYXRlIiwiaXNzdWVzIiwiRXJyb3IiLCJGaWxlU2l6ZU1pc21hdGNoIiwiY29uc3RydWN0b3IiLCJ0eXBlIiwibWF4IiwiYWN0dWFsIiwicmVhc29uIiwiRmlsZUNvdW50TWlzbWF0Y2giLCJib3VuZHR5cGUiLCJib3VuZCIsImFzc2VydEZpbGVzTWVldENvbmZpZyIsImZpbGVzIiwicm91dGVDb25maWciLCJjb3VudHMiLCJmaWxlIiwic2l6ZUxpbWl0IiwibWF4RmlsZVNpemUiLCJzaXplTGltaXRCeXRlcyIsInNpemUiLCJfa2V5Iiwia2V5IiwiY291bnQiLCJtaW4iLCJtaW5GaWxlQ291bnQiLCJtYXhGaWxlQ291bnQiLCJleHRyYWN0Um91dGVyQ29uZmlnIiwic2x1ZyIsInJvdXRlckNvbmZpZyIsIm1ha2VSdW50aW1lIiwiZmV0Y2giLCJmZXRjaEh0dHBDbGllbnQiLCJwcm92aWRlTWVyZ2UiLCJsYXllciIsIkZldGNoIiwid2l0aFJlZGFjdGVkSGVhZGVycyIsImVmZmVjdERpc2NhcmQiLCJ1cGRhdGUiLCJjdXJyZW50UmVkYWN0ZWROYW1lcyIsImNvbmNhdCIsInByb3ZpZGUiLCJtZXJnZUFsbCIsInNldENvbmZpZ1Byb3ZpZGVyIiwibWFrZSIsIlVUUmVnaW9uIiwiU3ltYm9sIiwiVVRGaWxlcyIsIkFkYXB0ZXJBcmd1bWVudHMiLCJUYWciLCJtYWtlQWRhcHRlckhhbmRsZXIiLCJtYWtlQWRhcHRlckFyZ3MiLCJ0b1JlcXVlc3QiLCJiZUFkYXB0ZXIiLCJtYW5hZ2VkIiwiaGFuZGxlIiwicHJvbWlzZSIsInJ1bnRpbWUiLCJ0aGVuIiwidG9XZWJIYW5kbGVyUnVudGltZSIsImFwcCIsImFyZ3MiLCJydW5Qcm9taXNlIiwiY3JlYXRlUmVxdWVzdEhhbmRsZXIiLCJwcm92aWRlU2VydmljZUVmZmVjdCIsImFwIiwiaXNEZXZlbG9wbWVudCIsImhhbmRsZURhZW1vbiIsImhhbmRsZURhZW1vblByb21pc2UiLCJHRVQiLCJqc29uIiwiUE9TVCIsInVwbG9hZHRoaW5nSG9vayIsImZlUGFja2FnZSIsImNsaWVudFZlcnNpb24iLCJzY2hlbWFIZWFkZXJzIiwiU3RydWN0Iiwib3B0aW9uYWwiLCJTdHJpbmciLCJvcHRpb25hbFdpdGgiLCJkZWZhdWx0Iiwic2VydmVyVmVyc2lvbiIsImxvZ1dhcm5pbmciLCJhY3Rpb25UeXBlIiwic2NoZW1hUGFyYW1zIiwidXBsb2FkYWJsZSIsIm1zZyIsImJvZHkiLCJmaWJlciIsIndoZW4iLCJoYW5kbGVVcGxvYWRBY3Rpb24iLCJoYW5kbGVDYWxsYmFja1JlcXVlc3QiLCJoYW5kbGVFcnJvclJlcXVlc3QiLCJhd2FpdCIsIlBhcnNlRXJyb3IiLCJhcHBlbmRSZXNwb25zZUhlYWRlcnMiLCJzZXRIZWFkZXIiLCJlbXB0eSIsImdldCIsInBvc3QiLCJ1c2UiLCJyZXF1ZXN0IiwiYXBpS2V5IiwidmVyaWZpZWQiLCJ0ZXh0IiwiaGVhZGVycyIsInJlcXVlc3RJbnB1dCIsInNjaGVtYUJvZHlKc29uIiwiZmlsZUtleSIsImFkYXB0ZXJBcmdzIiwidHJ5UHJvbWlzZSIsInRyeSIsIm9uVXBsb2FkRXJyb3IiLCJpZ25vcmVMb2dnZWQiLCJmb3JrRGFlbW9uIiwib3JpZ2luIiwibWV0YWRhdGEiLCJSZWNvcmQiLCJVbmtub3duIiwic2VydmVyRGF0YSIsIm9uVXBsb2FkQ29tcGxldGUiLCJhcHBVcmwiLCJwYXlsb2FkIiwiY2FsbGJhY2tEYXRhIiwiaHR0cENsaWVudCIsImZpbHRlclN0YXR1c09rIiwicHJlcGVuZFVybCIsInNldEhlYWRlcnMiLCJib2R5SnNvbiIsImV4ZWN1dGUiLCJ0YXAiLCJsb2ciLCJzY29wZWQiLCJydW5Sb3V0ZU1pZGRsZXdhcmUiLCJpbnB1dCIsIm1pZGRsZXdhcmUiLCJmaWxlc1dpdGhDdXN0b21JZHMiLCJpZHgiLCJ0aGVpcnMiLCJjdXN0b21JZCIsImxhc3RNb2RpZmllZCIsIkRhdGUiLCJub3ciLCJwYXJzZWRJbnB1dCIsImlucHV0UGFyc2VyIiwicGFyc2VkQ29uZmlnIiwibWFwRXJyb3IiLCJmaWxlVXBsb2FkUmVxdWVzdHMiLCJjb250ZW50RGlzcG9zaXRpb24iLCJhY2wiLCJJbnZhbGlkRmlsZVR5cGUiLCJkaWUiLCJVbmtub3duRmlsZVR5cGUiLCJyb3V0ZU9wdGlvbnMiLCJhcHBJZCIsImluZ2VzdFVybCIsInByZXNpZ25lZFVybHMiLCJnZXRGaWxlSGFzaFBhcnRzIiwidHRsSW5TZWNvbmRzIiwicHJlc2lnbmVkVVJMVFRMIiwiZGF0YSIsImNvbmN1cnJlbmN5Iiwic2VydmVyUmVxIiwicmVxdWVzdFVybCIsInRvVVJMIiwiZGV2SG9va1JlcXVlc3QiLCJwYXRobmFtZSIsImFwcGVuZFVybFBhcmFtIiwibWV0YWRhdGFSZXF1ZXN0IiwiZmlsZUtleXMiLCJjYWxsYmFja1VybCIsImNhbGxiYWNrU2x1ZyIsImF3YWl0U2VydmVyRGF0YSIsImhhbmRsZURldlN0cmVhbUVycm9yIiwicGFyc2VKc29uIiwicGFyc2VkQ2h1bmsiLCJodHRwUmVzcG9uc2UiLCJpZiIsIm9uVHJ1ZSIsInRhcEJvdGgiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJob29rIiwic2lnbmF0dXJlIiwic2V0Qm9keSIsImFzVm9pZCIsIm9uRmFsc2UiLCJwcmVzaWduZWRzIiwicCIsImkiLCJsb2dJbmZvIiwiaW50ZXJuYWxDcmVhdGVCdWlsZGVyIiwiaW5pdERlZiIsIl9kZWYiLCIkdHlwZXMiLCJpbWFnZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiX2lucHV0IiwiX291dHB1dCIsInVzZXJQYXJzZXIiLCJ1c2VyTWlkZGxld2FyZSIsInVzZXJVcGxvYWRDb21wbGV0ZSIsInVzZXJPblVwbG9hZEVycm9yIiwiY3JlYXRlQnVpbGRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/upload-builder-BlFOAnsv.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/next/index.js":
/*!************************************************!*\
  !*** ./node_modules/uploadthing/next/index.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UTFiles: () => (/* reexport safe */ _dist_upload_builder_BlFOAnsv_js__WEBPACK_IMPORTED_MODULE_0__.UTFiles),\n/* harmony export */   createRouteHandler: () => (/* binding */ createRouteHandler),\n/* harmony export */   createUploadthing: () => (/* binding */ createUploadthing),\n/* harmony export */   experimental_UTRegion: () => (/* reexport safe */ _dist_upload_builder_BlFOAnsv_js__WEBPACK_IMPORTED_MODULE_0__.UTRegion)\n/* harmony export */ });\n/* harmony import */ var _dist_upload_builder_BlFOAnsv_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dist/upload-builder-BlFOAnsv.js */ \"(rsc)/./node_modules/uploadthing/dist/upload-builder-BlFOAnsv.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/./node_modules/effect/dist/esm/Effect.js\");\n\n\n\n\n\n//#region src/next.ts\nconst createUploadthing = (opts)=>(0,_dist_upload_builder_BlFOAnsv_js__WEBPACK_IMPORTED_MODULE_0__.createBuilder)(opts);\nconst createRouteHandler = (opts)=>{\n    const handler = (0,_dist_upload_builder_BlFOAnsv_js__WEBPACK_IMPORTED_MODULE_0__.makeAdapterHandler)((req)=>effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed({\n            req\n        }), (req)=>effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed(req), opts, \"nextjs-app\");\n    return {\n        POST: handler,\n        GET: handler\n    };\n};\n//#endregion\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvbmV4dC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUM7QUFDSztBQUNFO0FBQzhEO0FBQ2xFO0FBRXhDLHFCQUFxQjtBQUNyQixNQUFNSyxvQkFBb0IsQ0FBQ0MsT0FBU0osK0VBQWFBLENBQUNJO0FBQ2xELE1BQU1DLHFCQUFxQixDQUFDRDtJQUMzQixNQUFNRSxVQUFVTCxvRkFBa0JBLENBQUMsQ0FBQ00sTUFBUUwsa0RBQWMsQ0FBQztZQUFFSztRQUFJLElBQUksQ0FBQ0EsTUFBUUwsa0RBQWMsQ0FBQ0ssTUFBTUgsTUFBTTtJQUN6RyxPQUFPO1FBQ05LLE1BQU1IO1FBQ05JLEtBQUtKO0lBQ047QUFDRDtBQUVBLFlBQVk7QUFDaUYsQ0FDN0YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veGlubGkvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvbmV4dC9pbmRleC5qcz9jNzA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4uL2Rpc3QvcGFja2FnZS1EcFNjcHZUQS5qc1wiO1xuaW1wb3J0IFwiLi4vZGlzdC9kZXByZWNhdGlvbnMtcExtdzZZdGQuanNcIjtcbmltcG9ydCBcIi4uL2Rpc3Qvc2hhcmVkLXNjaGVtYXMtQm1HNUFSb1guanNcIjtcbmltcG9ydCB7IFVURmlsZXMsIFVUUmVnaW9uLCBjcmVhdGVCdWlsZGVyLCBtYWtlQWRhcHRlckhhbmRsZXIgfSBmcm9tIFwiLi4vZGlzdC91cGxvYWQtYnVpbGRlci1CbEZPQW5zdi5qc1wiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5cbi8vI3JlZ2lvbiBzcmMvbmV4dC50c1xuY29uc3QgY3JlYXRlVXBsb2FkdGhpbmcgPSAob3B0cykgPT4gY3JlYXRlQnVpbGRlcihvcHRzKTtcbmNvbnN0IGNyZWF0ZVJvdXRlSGFuZGxlciA9IChvcHRzKSA9PiB7XG5cdGNvbnN0IGhhbmRsZXIgPSBtYWtlQWRhcHRlckhhbmRsZXIoKHJlcSkgPT4gRWZmZWN0LnN1Y2NlZWQoeyByZXEgfSksIChyZXEpID0+IEVmZmVjdC5zdWNjZWVkKHJlcSksIG9wdHMsIFwibmV4dGpzLWFwcFwiKTtcblx0cmV0dXJuIHtcblx0XHRQT1NUOiBoYW5kbGVyLFxuXHRcdEdFVDogaGFuZGxlclxuXHR9O1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBVVEZpbGVzLCBjcmVhdGVSb3V0ZUhhbmRsZXIsIGNyZWF0ZVVwbG9hZHRoaW5nLCBVVFJlZ2lvbiBhcyBleHBlcmltZW50YWxfVVRSZWdpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJVVEZpbGVzIiwiVVRSZWdpb24iLCJjcmVhdGVCdWlsZGVyIiwibWFrZUFkYXB0ZXJIYW5kbGVyIiwiRWZmZWN0IiwiY3JlYXRlVXBsb2FkdGhpbmciLCJvcHRzIiwiY3JlYXRlUm91dGVIYW5kbGVyIiwiaGFuZGxlciIsInJlcSIsInN1Y2NlZWQiLCJQT1NUIiwiR0VUIiwiZXhwZXJpbWVudGFsX1VUUmVnaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/next/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/client/index.js":
/*!**************************************************!*\
  !*** ./node_modules/uploadthing/client/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UploadAbortedError: () => (/* reexport safe */ _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadAbortedError),\n/* harmony export */   UploadPausedError: () => (/* reexport safe */ _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadPausedError),\n/* harmony export */   allowedContentTextLabelGenerator: () => (/* reexport safe */ _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.allowedContentTextLabelGenerator),\n/* harmony export */   bytesToFileSize: () => (/* reexport safe */ _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.bytesToFileSize),\n/* harmony export */   genUploader: () => (/* binding */ genUploader),\n/* harmony export */   generateClientDropzoneAccept: () => (/* reexport safe */ _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.generateClientDropzoneAccept),\n/* harmony export */   generateMimeTypes: () => (/* reexport safe */ _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.generateMimeTypes),\n/* harmony export */   generatePermittedFileTypes: () => (/* reexport safe */ _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.generatePermittedFileTypes),\n/* harmony export */   isValidFileSize: () => (/* binding */ isValidFileSize),\n/* harmony export */   isValidFileType: () => (/* binding */ isValidFileType),\n/* harmony export */   version: () => (/* binding */ version$1)\n/* harmony export */ });\n/* harmony import */ var _dist_package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dist/package-DpScpvTA.js */ \"(ssr)/./node_modules/uploadthing/dist/package-DpScpvTA.js\");\n/* harmony import */ var _dist_ut_reporter_Dlppchbx_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dist/ut-reporter-Dlppchbx.js */ \"(ssr)/./node_modules/uploadthing/dist/ut-reporter-Dlppchbx.js\");\n/* harmony import */ var _dist_deprecations_pLmw6Ytd_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dist/deprecations-pLmw6Ytd.js */ \"(ssr)/./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js\");\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Array */ \"(ssr)/./node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Micro */ \"(ssr)/./node_modules/effect/dist/esm/Micro.js\");\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uploadthing/shared */ \"(ssr)/./node_modules/@uploadthing/shared/dist/index.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Function */ \"(ssr)/./node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Predicate */ \"(ssr)/./node_modules/effect/dist/esm/Predicate.js\");\n\n\n\n\n\n\n\n\n\n//#region src/_internal/upload-browser.ts\nconst uploadWithProgress = (file, rangeStart, presigned, opts) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.async((resume) => {\n\tconst xhr = new XMLHttpRequest();\n\txhr.open(\"PUT\", presigned.url, true);\n\txhr.setRequestHeader(\"Range\", `bytes=${rangeStart}-`);\n\txhr.setRequestHeader(\"x-uploadthing-version\", _dist_package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_1__.version);\n\txhr.setRequestHeader(\"b3\", opts.traceHeaders.b3);\n\txhr.setRequestHeader(\"traceparent\", opts.traceHeaders.traceparent);\n\txhr.responseType = \"json\";\n\tlet previousLoaded = 0;\n\txhr.upload.addEventListener(\"progress\", ({ loaded }) => {\n\t\tconst delta = loaded - previousLoaded;\n\t\topts.onUploadProgress?.({\n\t\t\tloaded,\n\t\t\tdelta\n\t\t});\n\t\tpreviousLoaded = loaded;\n\t});\n\txhr.addEventListener(\"load\", () => {\n\t\tif (xhr.status >= 200 && xhr.status < 300 && (0,effect_Predicate__WEBPACK_IMPORTED_MODULE_2__.isRecord)(xhr.response)) if ((0,effect_Predicate__WEBPACK_IMPORTED_MODULE_2__.hasProperty)(xhr.response, \"error\")) resume(new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n\t\t\tcode: \"UPLOAD_FAILED\",\n\t\t\tmessage: String(xhr.response.error),\n\t\t\tdata: xhr.response\n\t\t}));\n\t\telse resume(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.succeed(xhr.response));\n\t\telse resume(new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n\t\t\tcode: \"UPLOAD_FAILED\",\n\t\t\tmessage: `XHR failed ${xhr.status} ${xhr.statusText}`,\n\t\t\tdata: xhr.response\n\t\t}));\n\t});\n\txhr.addEventListener(\"error\", () => {\n\t\tresume(new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({ code: \"UPLOAD_FAILED\" }));\n\t});\n\tconst formData = new FormData();\n\t/**\n\t* iOS/React Native FormData handling requires special attention:\n\t*\n\t* Issue: In React Native, iOS crashes with \"attempt to insert nil object\" when appending File directly\n\t* to FormData. This happens because iOS tries to create NSDictionary from the file object and expects\n\t* specific structure {uri, type, name}.\n\t*\n\t*\n\t* Note: Don't try to use Blob or modify File object - iOS specifically needs plain object\n\t* with these properties to create valid NSDictionary.\n\t*/\n\tif (\"uri\" in file) formData.append(\"file\", {\n\t\turi: file.uri,\n\t\ttype: file.type,\n\t\tname: file.name,\n\t\t...rangeStart > 0 && { range: rangeStart }\n\t});\n\telse formData.append(\"file\", rangeStart > 0 ? file.slice(rangeStart) : file);\n\txhr.send(formData);\n\treturn effect_Micro__WEBPACK_IMPORTED_MODULE_0__.sync(() => xhr.abort());\n});\nconst uploadFile = (file, presigned, opts) => (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.fetchEff)(presigned.url, {\n\tmethod: \"HEAD\",\n\theaders: opts.traceHeaders\n}).pipe(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.map(({ headers }) => parseInt(headers.get(\"x-ut-range-start\") ?? \"0\", 10)), effect_Micro__WEBPACK_IMPORTED_MODULE_0__.tap((start) => opts.onUploadProgress?.({\n\tdelta: start,\n\tloaded: start\n})), effect_Micro__WEBPACK_IMPORTED_MODULE_0__.flatMap((start) => uploadWithProgress(file, start, presigned, {\n\ttraceHeaders: opts.traceHeaders,\n\tonUploadProgress: (progressEvent) => opts.onUploadProgress?.({\n\t\tdelta: progressEvent.delta,\n\t\tloaded: progressEvent.loaded + start\n\t})\n})), effect_Micro__WEBPACK_IMPORTED_MODULE_0__.map(effect_Function__WEBPACK_IMPORTED_MODULE_4__.unsafeCoerce), effect_Micro__WEBPACK_IMPORTED_MODULE_0__.map((uploadResponse) => ({\n\tname: file.name,\n\tsize: file.size,\n\tkey: presigned.key,\n\tlastModified: file.lastModified,\n\tserverData: uploadResponse.serverData,\n\tget url() {\n\t\t(0,_dist_deprecations_pLmw6Ytd_js__WEBPACK_IMPORTED_MODULE_5__.logDeprecationWarning)(\"`file.url` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead.\");\n\t\treturn uploadResponse.url;\n\t},\n\tget appUrl() {\n\t\t(0,_dist_deprecations_pLmw6Ytd_js__WEBPACK_IMPORTED_MODULE_5__.logDeprecationWarning)(\"`file.appUrl` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead.\");\n\t\treturn uploadResponse.appUrl;\n\t},\n\tufsUrl: uploadResponse.ufsUrl,\n\tcustomId: presigned.customId,\n\ttype: file.type,\n\tfileHash: uploadResponse.fileHash\n})));\nconst uploadFilesInternal = (endpoint, opts) => {\n\tconst traceHeaders = (0,_dist_ut_reporter_Dlppchbx_js__WEBPACK_IMPORTED_MODULE_6__.generateTraceHeaders)();\n\tconst reportEventToUT = (0,_dist_ut_reporter_Dlppchbx_js__WEBPACK_IMPORTED_MODULE_6__.createUTReporter)({\n\t\tendpoint: String(endpoint),\n\t\tpackage: opts.package,\n\t\turl: opts.url,\n\t\theaders: opts.headers,\n\t\ttraceHeaders\n\t});\n\tconst totalSize = opts.files.reduce((acc, f) => acc + f.size, 0);\n\tlet totalLoaded = 0;\n\treturn effect_Micro__WEBPACK_IMPORTED_MODULE_0__.flatMap(reportEventToUT(\"upload\", {\n\t\tinput: \"input\" in opts ? opts.input : null,\n\t\tfiles: opts.files.map((f) => ({\n\t\t\tname: f.name,\n\t\t\tsize: f.size,\n\t\t\ttype: f.type,\n\t\t\tlastModified: f.lastModified\n\t\t}))\n\t}), (presigneds) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.forEach(presigneds, (presigned, i) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.flatMap(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.sync(() => opts.onUploadBegin?.({ file: opts.files[i].name })), () => uploadFile(opts.files[i], presigned, {\n\t\ttraceHeaders,\n\t\tonUploadProgress: (ev) => {\n\t\t\ttotalLoaded += ev.delta;\n\t\t\topts.onUploadProgress?.({\n\t\t\t\tfile: opts.files[i],\n\t\t\t\tprogress: ev.loaded / opts.files[i].size * 100,\n\t\t\t\tloaded: ev.loaded,\n\t\t\t\tdelta: ev.delta,\n\t\t\t\ttotalLoaded,\n\t\t\t\ttotalProgress: totalLoaded / totalSize\n\t\t\t});\n\t\t}\n\t})), { concurrency: 6 }));\n};\n\n//#endregion\n//#region src/client.ts\nconst version$1 = _dist_package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_1__.version;\n/**\n* Validate that a file is of a valid type given a route config\n* @public\n*/\nconst isValidFileType = (file, routeConfig) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.runSync((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.matchFileType)(file, (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.objectKeys)(routeConfig)).pipe(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.map((type) => file.type.includes(type)), effect_Micro__WEBPACK_IMPORTED_MODULE_0__.orElseSucceed(() => false)));\n/**\n* Validate that a file is of a valid size given a route config\n* @public\n*/\nconst isValidFileSize = (file, routeConfig) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.runSync((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.matchFileType)(file, (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.objectKeys)(routeConfig)).pipe(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.flatMap((type) => (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.fileSizeToBytes)(routeConfig[type].maxFileSize)), effect_Micro__WEBPACK_IMPORTED_MODULE_0__.map((maxFileSize) => file.size <= maxFileSize), effect_Micro__WEBPACK_IMPORTED_MODULE_0__.orElseSucceed(() => false)));\n/**\n* Generate a typed uploader for a given FileRouter\n* @public\n*/\nconst genUploader = (initOpts) => {\n\tconst routeRegistry = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.createIdentityProxy)();\n\tconst controllableUpload = async (slug, opts) => {\n\t\tconst uploads = /* @__PURE__ */ new Map();\n\t\tconst endpoint = typeof slug === \"function\" ? slug(routeRegistry) : slug;\n\t\tconst traceHeaders = (0,_dist_ut_reporter_Dlppchbx_js__WEBPACK_IMPORTED_MODULE_6__.generateTraceHeaders)();\n\t\tconst utReporter = (0,_dist_ut_reporter_Dlppchbx_js__WEBPACK_IMPORTED_MODULE_6__.createUTReporter)({\n\t\t\tendpoint: String(endpoint),\n\t\t\tpackage: initOpts?.package ?? \"uploadthing/client\",\n\t\t\turl: (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.resolveMaybeUrlArg)(initOpts?.url),\n\t\t\theaders: opts.headers,\n\t\t\ttraceHeaders\n\t\t});\n\t\tconst fetchFn = initOpts?.fetch ?? window.fetch;\n\t\tconst presigneds = await effect_Micro__WEBPACK_IMPORTED_MODULE_0__.runPromise(utReporter(\"upload\", {\n\t\t\tinput: \"input\" in opts ? opts.input : null,\n\t\t\tfiles: opts.files.map((f) => ({\n\t\t\t\tname: f.name,\n\t\t\t\tsize: f.size,\n\t\t\t\ttype: f.type,\n\t\t\t\tlastModified: f.lastModified\n\t\t\t}))\n\t\t}).pipe(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.provideService(_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.FetchContext, fetchFn)));\n\t\tconst totalSize = opts.files.reduce((acc, f) => acc + f.size, 0);\n\t\tlet totalLoaded = 0;\n\t\tconst uploadEffect = (file, presigned) => uploadFile(file, presigned, {\n\t\t\ttraceHeaders,\n\t\t\tonUploadProgress: (progressEvent) => {\n\t\t\t\ttotalLoaded += progressEvent.delta;\n\t\t\t\topts.onUploadProgress?.({\n\t\t\t\t\t...progressEvent,\n\t\t\t\t\tfile,\n\t\t\t\t\tprogress: Math.round(progressEvent.loaded / file.size * 100),\n\t\t\t\t\ttotalLoaded,\n\t\t\t\t\ttotalProgress: Math.round(totalLoaded / totalSize * 100)\n\t\t\t\t});\n\t\t\t}\n\t\t}).pipe(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.provideService(_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.FetchContext, fetchFn));\n\t\tfor (const [i, p] of presigneds.entries()) {\n\t\t\tconst file = opts.files[i];\n\t\t\tif (!file) continue;\n\t\t\tconst deferred = (0,_dist_ut_reporter_Dlppchbx_js__WEBPACK_IMPORTED_MODULE_6__.createDeferred)();\n\t\t\tuploads.set(file, {\n\t\t\t\tdeferred,\n\t\t\t\tpresigned: p\n\t\t\t});\n\t\t\teffect_Micro__WEBPACK_IMPORTED_MODULE_0__.runPromiseExit(uploadEffect(file, p), { signal: deferred.ac.signal }).then((result) => {\n\t\t\t\tif (result._tag === \"Success\") return deferred.resolve(result.value);\n\t\t\t\telse if (result.cause._tag === \"Interrupt\") throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadPausedError();\n\t\t\t\tthrow effect_Micro__WEBPACK_IMPORTED_MODULE_0__.causeSquash(result.cause);\n\t\t\t}).catch((err) => {\n\t\t\t\tif (err instanceof _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadPausedError) return;\n\t\t\t\tdeferred.reject(err);\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t* Pause an ongoing upload\n\t\t* @param file The file upload you want to pause. Can be omitted to pause all files\n\t\t*/\n\t\tconst pauseUpload = (file) => {\n\t\t\tconst files = effect_Array__WEBPACK_IMPORTED_MODULE_7__.ensure(file ?? opts.files);\n\t\t\tfor (const file$1 of files) {\n\t\t\t\tconst upload = uploads.get(file$1);\n\t\t\t\tif (!upload) return;\n\t\t\t\tif (upload.deferred.ac.signal.aborted) throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadAbortedError();\n\t\t\t\tupload.deferred.ac.abort();\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t* Resume a paused upload\n\t\t* @param file The file upload you want to resume. Can be omitted to resume all files\n\t\t*/\n\t\tconst resumeUpload = (file) => {\n\t\t\tconst files = effect_Array__WEBPACK_IMPORTED_MODULE_7__.ensure(file ?? opts.files);\n\t\t\tfor (const file$1 of files) {\n\t\t\t\tconst upload = uploads.get(file$1);\n\t\t\t\tif (!upload) throw \"No upload found\";\n\t\t\t\tupload.deferred.ac = new AbortController();\n\t\t\t\teffect_Micro__WEBPACK_IMPORTED_MODULE_0__.runPromiseExit(uploadEffect(file$1, upload.presigned), { signal: upload.deferred.ac.signal }).then((result) => {\n\t\t\t\t\tif (result._tag === \"Success\") return upload.deferred.resolve(result.value);\n\t\t\t\t\telse if (result.cause._tag === \"Interrupt\") throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadPausedError();\n\t\t\t\t\tthrow effect_Micro__WEBPACK_IMPORTED_MODULE_0__.causeSquash(result.cause);\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\tif (err instanceof _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadPausedError) return;\n\t\t\t\t\tupload.deferred.reject(err);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t* Wait for an upload to complete\n\t\t* @param file The file upload you want to wait for. Can be omitted to wait for all files\n\t\t*/\n\t\tconst done = async (file) => {\n\t\t\tconst promises = [];\n\t\t\tconst files = effect_Array__WEBPACK_IMPORTED_MODULE_7__.ensure(file ?? opts.files);\n\t\t\tfor (const file$1 of files) {\n\t\t\t\tconst upload = uploads.get(file$1);\n\t\t\t\tif (!upload) throw \"No upload found\";\n\t\t\t\tpromises.push(upload.deferred.promise);\n\t\t\t}\n\t\t\tconst results = await Promise.all(promises);\n\t\t\treturn file ? results[0] : results;\n\t\t};\n\t\treturn {\n\t\t\tpauseUpload,\n\t\t\tresumeUpload,\n\t\t\tdone\n\t\t};\n\t};\n\t/**\n\t* One step upload function that both requests presigned URLs\n\t* and then uploads the files to UploadThing\n\t*/\n\tconst typedUploadFiles = (slug, opts) => {\n\t\tconst endpoint = typeof slug === \"function\" ? slug(routeRegistry) : slug;\n\t\tconst fetchFn = initOpts?.fetch ?? window.fetch;\n\t\treturn uploadFilesInternal(endpoint, {\n\t\t\t...opts,\n\t\t\tskipPolling: {},\n\t\t\turl: (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.resolveMaybeUrlArg)(initOpts?.url),\n\t\t\tpackage: initOpts?.package ?? \"uploadthing/client\",\n\t\t\tinput: opts.input\n\t\t}).pipe(effect_Micro__WEBPACK_IMPORTED_MODULE_0__.provideService(_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.FetchContext, fetchFn), (effect) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.runPromiseExit(effect, opts.signal && { signal: opts.signal })).then((exit) => {\n\t\t\tif (exit._tag === \"Success\") return exit.value;\n\t\t\telse if (exit.cause._tag === \"Interrupt\") throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadAbortedError();\n\t\t\tthrow effect_Micro__WEBPACK_IMPORTED_MODULE_0__.causeSquash(exit.cause);\n\t\t});\n\t};\n\treturn {\n\t\tuploadFiles: typedUploadFiles,\n\t\tcreateUpload: controllableUpload,\n\t\trouteRegistry\n\t};\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvY2xpZW50L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0Q7QUFDbUQ7QUFDaEM7QUFDckM7QUFDRTtBQUMyWDtBQUNsWDtBQUNVOztBQUV6RDtBQUNBLGtFQUFrRSwrQ0FBVztBQUM3RTtBQUNBO0FBQ0Esd0NBQXdDLFdBQVc7QUFDbkQsK0NBQStDLDhEQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFO0FBQ0Y7QUFDQSwrQ0FBK0MsMERBQVEsb0JBQW9CLDZEQUFXLG9DQUFvQyxpRUFBZ0I7QUFDMUk7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGNBQWMsaURBQWE7QUFDM0Isa0JBQWtCLGlFQUFnQjtBQUNsQztBQUNBLDBCQUEwQixZQUFZLEVBQUUsZUFBZTtBQUN2RDtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQSxhQUFhLGlFQUFnQixHQUFHLHVCQUF1QjtBQUN2RCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsRUFBRTtBQUNGO0FBQ0E7QUFDQSxRQUFRLDhDQUFVO0FBQ2xCLENBQUM7QUFDRCw4Q0FBOEMsNkRBQVE7QUFDdEQ7QUFDQTtBQUNBLENBQUMsT0FBTyw2Q0FBUyxJQUFJLFNBQVMsNERBQTRELDZDQUFTO0FBQ25HO0FBQ0E7QUFDQSxDQUFDLElBQUksaURBQWE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsQ0FBQyxJQUFJLDZDQUFTLENBQUMseURBQVksR0FBRyw2Q0FBUztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHFG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QUNBOztBQUVBO0FBQ3NQO0FBQ3RQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veGlubGkvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvY2xpZW50L2luZGV4LmpzPzdhZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi9kaXN0L3BhY2thZ2UtRHBTY3B2VEEuanNcIjtcbmltcG9ydCB7IGNyZWF0ZURlZmVycmVkLCBjcmVhdGVVVFJlcG9ydGVyLCBnZW5lcmF0ZVRyYWNlSGVhZGVycyB9IGZyb20gXCIuLi9kaXN0L3V0LXJlcG9ydGVyLURscHBjaGJ4LmpzXCI7XG5pbXBvcnQgeyBsb2dEZXByZWNhdGlvbldhcm5pbmcgfSBmcm9tIFwiLi4vZGlzdC9kZXByZWNhdGlvbnMtcExtdzZZdGQuanNcIjtcbmltcG9ydCAqIGFzIEFyciBmcm9tIFwiZWZmZWN0L0FycmF5XCI7XG5pbXBvcnQgKiBhcyBNaWNybyBmcm9tIFwiZWZmZWN0L01pY3JvXCI7XG5pbXBvcnQgeyBGZXRjaENvbnRleHQsIFVwbG9hZEFib3J0ZWRFcnJvciwgVXBsb2FkQWJvcnRlZEVycm9yIGFzIFVwbG9hZEFib3J0ZWRFcnJvciQxLCBVcGxvYWRQYXVzZWRFcnJvciwgVXBsb2FkUGF1c2VkRXJyb3IgYXMgVXBsb2FkUGF1c2VkRXJyb3IkMSwgVXBsb2FkVGhpbmdFcnJvciwgYWxsb3dlZENvbnRlbnRUZXh0TGFiZWxHZW5lcmF0b3IsIGJ5dGVzVG9GaWxlU2l6ZSwgY3JlYXRlSWRlbnRpdHlQcm94eSwgZmV0Y2hFZmYsIGZpbGVTaXplVG9CeXRlcywgZ2VuZXJhdGVDbGllbnREcm9wem9uZUFjY2VwdCwgZ2VuZXJhdGVNaW1lVHlwZXMsIGdlbmVyYXRlUGVybWl0dGVkRmlsZVR5cGVzLCBtYXRjaEZpbGVUeXBlLCBvYmplY3RLZXlzLCByZXNvbHZlTWF5YmVVcmxBcmcgfSBmcm9tIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHsgdW5zYWZlQ29lcmNlIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0IHsgaGFzUHJvcGVydHksIGlzUmVjb3JkIH0gZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcblxuLy8jcmVnaW9uIHNyYy9faW50ZXJuYWwvdXBsb2FkLWJyb3dzZXIudHNcbmNvbnN0IHVwbG9hZFdpdGhQcm9ncmVzcyA9IChmaWxlLCByYW5nZVN0YXJ0LCBwcmVzaWduZWQsIG9wdHMpID0+IE1pY3JvLmFzeW5jKChyZXN1bWUpID0+IHtcblx0Y29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdHhoci5vcGVuKFwiUFVUXCIsIHByZXNpZ25lZC51cmwsIHRydWUpO1xuXHR4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsIGBieXRlcz0ke3JhbmdlU3RhcnR9LWApO1xuXHR4aHIuc2V0UmVxdWVzdEhlYWRlcihcIngtdXBsb2FkdGhpbmctdmVyc2lvblwiLCB2ZXJzaW9uKTtcblx0eGhyLnNldFJlcXVlc3RIZWFkZXIoXCJiM1wiLCBvcHRzLnRyYWNlSGVhZGVycy5iMyk7XG5cdHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwidHJhY2VwYXJlbnRcIiwgb3B0cy50cmFjZUhlYWRlcnMudHJhY2VwYXJlbnQpO1xuXHR4aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG5cdGxldCBwcmV2aW91c0xvYWRlZCA9IDA7XG5cdHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsICh7IGxvYWRlZCB9KSA9PiB7XG5cdFx0Y29uc3QgZGVsdGEgPSBsb2FkZWQgLSBwcmV2aW91c0xvYWRlZDtcblx0XHRvcHRzLm9uVXBsb2FkUHJvZ3Jlc3M/Lih7XG5cdFx0XHRsb2FkZWQsXG5cdFx0XHRkZWx0YVxuXHRcdH0pO1xuXHRcdHByZXZpb3VzTG9hZGVkID0gbG9hZGVkO1xuXHR9KTtcblx0eGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcblx0XHRpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCAmJiBpc1JlY29yZCh4aHIucmVzcG9uc2UpKSBpZiAoaGFzUHJvcGVydHkoeGhyLnJlc3BvbnNlLCBcImVycm9yXCIpKSByZXN1bWUobmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuXHRcdFx0Y29kZTogXCJVUExPQURfRkFJTEVEXCIsXG5cdFx0XHRtZXNzYWdlOiBTdHJpbmcoeGhyLnJlc3BvbnNlLmVycm9yKSxcblx0XHRcdGRhdGE6IHhoci5yZXNwb25zZVxuXHRcdH0pKTtcblx0XHRlbHNlIHJlc3VtZShNaWNyby5zdWNjZWVkKHhoci5yZXNwb25zZSkpO1xuXHRcdGVsc2UgcmVzdW1lKG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcblx0XHRcdGNvZGU6IFwiVVBMT0FEX0ZBSUxFRFwiLFxuXHRcdFx0bWVzc2FnZTogYFhIUiBmYWlsZWQgJHt4aHIuc3RhdHVzfSAke3hoci5zdGF0dXNUZXh0fWAsXG5cdFx0XHRkYXRhOiB4aHIucmVzcG9uc2Vcblx0XHR9KSk7XG5cdH0pO1xuXHR4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsICgpID0+IHtcblx0XHRyZXN1bWUobmV3IFVwbG9hZFRoaW5nRXJyb3IoeyBjb2RlOiBcIlVQTE9BRF9GQUlMRURcIiB9KSk7XG5cdH0pO1xuXHRjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXHQvKipcblx0KiBpT1MvUmVhY3QgTmF0aXZlIEZvcm1EYXRhIGhhbmRsaW5nIHJlcXVpcmVzIHNwZWNpYWwgYXR0ZW50aW9uOlxuXHQqXG5cdCogSXNzdWU6IEluIFJlYWN0IE5hdGl2ZSwgaU9TIGNyYXNoZXMgd2l0aCBcImF0dGVtcHQgdG8gaW5zZXJ0IG5pbCBvYmplY3RcIiB3aGVuIGFwcGVuZGluZyBGaWxlIGRpcmVjdGx5XG5cdCogdG8gRm9ybURhdGEuIFRoaXMgaGFwcGVucyBiZWNhdXNlIGlPUyB0cmllcyB0byBjcmVhdGUgTlNEaWN0aW9uYXJ5IGZyb20gdGhlIGZpbGUgb2JqZWN0IGFuZCBleHBlY3RzXG5cdCogc3BlY2lmaWMgc3RydWN0dXJlIHt1cmksIHR5cGUsIG5hbWV9LlxuXHQqXG5cdCpcblx0KiBOb3RlOiBEb24ndCB0cnkgdG8gdXNlIEJsb2Igb3IgbW9kaWZ5IEZpbGUgb2JqZWN0IC0gaU9TIHNwZWNpZmljYWxseSBuZWVkcyBwbGFpbiBvYmplY3Rcblx0KiB3aXRoIHRoZXNlIHByb3BlcnRpZXMgdG8gY3JlYXRlIHZhbGlkIE5TRGljdGlvbmFyeS5cblx0Ki9cblx0aWYgKFwidXJpXCIgaW4gZmlsZSkgZm9ybURhdGEuYXBwZW5kKFwiZmlsZVwiLCB7XG5cdFx0dXJpOiBmaWxlLnVyaSxcblx0XHR0eXBlOiBmaWxlLnR5cGUsXG5cdFx0bmFtZTogZmlsZS5uYW1lLFxuXHRcdC4uLnJhbmdlU3RhcnQgPiAwICYmIHsgcmFuZ2U6IHJhbmdlU3RhcnQgfVxuXHR9KTtcblx0ZWxzZSBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIHJhbmdlU3RhcnQgPiAwID8gZmlsZS5zbGljZShyYW5nZVN0YXJ0KSA6IGZpbGUpO1xuXHR4aHIuc2VuZChmb3JtRGF0YSk7XG5cdHJldHVybiBNaWNyby5zeW5jKCgpID0+IHhoci5hYm9ydCgpKTtcbn0pO1xuY29uc3QgdXBsb2FkRmlsZSA9IChmaWxlLCBwcmVzaWduZWQsIG9wdHMpID0+IGZldGNoRWZmKHByZXNpZ25lZC51cmwsIHtcblx0bWV0aG9kOiBcIkhFQURcIixcblx0aGVhZGVyczogb3B0cy50cmFjZUhlYWRlcnNcbn0pLnBpcGUoTWljcm8ubWFwKCh7IGhlYWRlcnMgfSkgPT4gcGFyc2VJbnQoaGVhZGVycy5nZXQoXCJ4LXV0LXJhbmdlLXN0YXJ0XCIpID8/IFwiMFwiLCAxMCkpLCBNaWNyby50YXAoKHN0YXJ0KSA9PiBvcHRzLm9uVXBsb2FkUHJvZ3Jlc3M/Lih7XG5cdGRlbHRhOiBzdGFydCxcblx0bG9hZGVkOiBzdGFydFxufSkpLCBNaWNyby5mbGF0TWFwKChzdGFydCkgPT4gdXBsb2FkV2l0aFByb2dyZXNzKGZpbGUsIHN0YXJ0LCBwcmVzaWduZWQsIHtcblx0dHJhY2VIZWFkZXJzOiBvcHRzLnRyYWNlSGVhZGVycyxcblx0b25VcGxvYWRQcm9ncmVzczogKHByb2dyZXNzRXZlbnQpID0+IG9wdHMub25VcGxvYWRQcm9ncmVzcz8uKHtcblx0XHRkZWx0YTogcHJvZ3Jlc3NFdmVudC5kZWx0YSxcblx0XHRsb2FkZWQ6IHByb2dyZXNzRXZlbnQubG9hZGVkICsgc3RhcnRcblx0fSlcbn0pKSwgTWljcm8ubWFwKHVuc2FmZUNvZXJjZSksIE1pY3JvLm1hcCgodXBsb2FkUmVzcG9uc2UpID0+ICh7XG5cdG5hbWU6IGZpbGUubmFtZSxcblx0c2l6ZTogZmlsZS5zaXplLFxuXHRrZXk6IHByZXNpZ25lZC5rZXksXG5cdGxhc3RNb2RpZmllZDogZmlsZS5sYXN0TW9kaWZpZWQsXG5cdHNlcnZlckRhdGE6IHVwbG9hZFJlc3BvbnNlLnNlcnZlckRhdGEsXG5cdGdldCB1cmwoKSB7XG5cdFx0bG9nRGVwcmVjYXRpb25XYXJuaW5nKFwiYGZpbGUudXJsYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdXBsb2FkdGhpbmcgdjkuIFVzZSBgZmlsZS51ZnNVcmxgIGluc3RlYWQuXCIpO1xuXHRcdHJldHVybiB1cGxvYWRSZXNwb25zZS51cmw7XG5cdH0sXG5cdGdldCBhcHBVcmwoKSB7XG5cdFx0bG9nRGVwcmVjYXRpb25XYXJuaW5nKFwiYGZpbGUuYXBwVXJsYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdXBsb2FkdGhpbmcgdjkuIFVzZSBgZmlsZS51ZnNVcmxgIGluc3RlYWQuXCIpO1xuXHRcdHJldHVybiB1cGxvYWRSZXNwb25zZS5hcHBVcmw7XG5cdH0sXG5cdHVmc1VybDogdXBsb2FkUmVzcG9uc2UudWZzVXJsLFxuXHRjdXN0b21JZDogcHJlc2lnbmVkLmN1c3RvbUlkLFxuXHR0eXBlOiBmaWxlLnR5cGUsXG5cdGZpbGVIYXNoOiB1cGxvYWRSZXNwb25zZS5maWxlSGFzaFxufSkpKTtcbmNvbnN0IHVwbG9hZEZpbGVzSW50ZXJuYWwgPSAoZW5kcG9pbnQsIG9wdHMpID0+IHtcblx0Y29uc3QgdHJhY2VIZWFkZXJzID0gZ2VuZXJhdGVUcmFjZUhlYWRlcnMoKTtcblx0Y29uc3QgcmVwb3J0RXZlbnRUb1VUID0gY3JlYXRlVVRSZXBvcnRlcih7XG5cdFx0ZW5kcG9pbnQ6IFN0cmluZyhlbmRwb2ludCksXG5cdFx0cGFja2FnZTogb3B0cy5wYWNrYWdlLFxuXHRcdHVybDogb3B0cy51cmwsXG5cdFx0aGVhZGVyczogb3B0cy5oZWFkZXJzLFxuXHRcdHRyYWNlSGVhZGVyc1xuXHR9KTtcblx0Y29uc3QgdG90YWxTaXplID0gb3B0cy5maWxlcy5yZWR1Y2UoKGFjYywgZikgPT4gYWNjICsgZi5zaXplLCAwKTtcblx0bGV0IHRvdGFsTG9hZGVkID0gMDtcblx0cmV0dXJuIE1pY3JvLmZsYXRNYXAocmVwb3J0RXZlbnRUb1VUKFwidXBsb2FkXCIsIHtcblx0XHRpbnB1dDogXCJpbnB1dFwiIGluIG9wdHMgPyBvcHRzLmlucHV0IDogbnVsbCxcblx0XHRmaWxlczogb3B0cy5maWxlcy5tYXAoKGYpID0+ICh7XG5cdFx0XHRuYW1lOiBmLm5hbWUsXG5cdFx0XHRzaXplOiBmLnNpemUsXG5cdFx0XHR0eXBlOiBmLnR5cGUsXG5cdFx0XHRsYXN0TW9kaWZpZWQ6IGYubGFzdE1vZGlmaWVkXG5cdFx0fSkpXG5cdH0pLCAocHJlc2lnbmVkcykgPT4gTWljcm8uZm9yRWFjaChwcmVzaWduZWRzLCAocHJlc2lnbmVkLCBpKSA9PiBNaWNyby5mbGF0TWFwKE1pY3JvLnN5bmMoKCkgPT4gb3B0cy5vblVwbG9hZEJlZ2luPy4oeyBmaWxlOiBvcHRzLmZpbGVzW2ldLm5hbWUgfSkpLCAoKSA9PiB1cGxvYWRGaWxlKG9wdHMuZmlsZXNbaV0sIHByZXNpZ25lZCwge1xuXHRcdHRyYWNlSGVhZGVycyxcblx0XHRvblVwbG9hZFByb2dyZXNzOiAoZXYpID0+IHtcblx0XHRcdHRvdGFsTG9hZGVkICs9IGV2LmRlbHRhO1xuXHRcdFx0b3B0cy5vblVwbG9hZFByb2dyZXNzPy4oe1xuXHRcdFx0XHRmaWxlOiBvcHRzLmZpbGVzW2ldLFxuXHRcdFx0XHRwcm9ncmVzczogZXYubG9hZGVkIC8gb3B0cy5maWxlc1tpXS5zaXplICogMTAwLFxuXHRcdFx0XHRsb2FkZWQ6IGV2LmxvYWRlZCxcblx0XHRcdFx0ZGVsdGE6IGV2LmRlbHRhLFxuXHRcdFx0XHR0b3RhbExvYWRlZCxcblx0XHRcdFx0dG90YWxQcm9ncmVzczogdG90YWxMb2FkZWQgLyB0b3RhbFNpemVcblx0XHRcdH0pO1xuXHRcdH1cblx0fSkpLCB7IGNvbmN1cnJlbmN5OiA2IH0pKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9jbGllbnQudHNcbmNvbnN0IHZlcnNpb24kMSA9IHZlcnNpb247XG4vKipcbiogVmFsaWRhdGUgdGhhdCBhIGZpbGUgaXMgb2YgYSB2YWxpZCB0eXBlIGdpdmVuIGEgcm91dGUgY29uZmlnXG4qIEBwdWJsaWNcbiovXG5jb25zdCBpc1ZhbGlkRmlsZVR5cGUgPSAoZmlsZSwgcm91dGVDb25maWcpID0+IE1pY3JvLnJ1blN5bmMobWF0Y2hGaWxlVHlwZShmaWxlLCBvYmplY3RLZXlzKHJvdXRlQ29uZmlnKSkucGlwZShNaWNyby5tYXAoKHR5cGUpID0+IGZpbGUudHlwZS5pbmNsdWRlcyh0eXBlKSksIE1pY3JvLm9yRWxzZVN1Y2NlZWQoKCkgPT4gZmFsc2UpKSk7XG4vKipcbiogVmFsaWRhdGUgdGhhdCBhIGZpbGUgaXMgb2YgYSB2YWxpZCBzaXplIGdpdmVuIGEgcm91dGUgY29uZmlnXG4qIEBwdWJsaWNcbiovXG5jb25zdCBpc1ZhbGlkRmlsZVNpemUgPSAoZmlsZSwgcm91dGVDb25maWcpID0+IE1pY3JvLnJ1blN5bmMobWF0Y2hGaWxlVHlwZShmaWxlLCBvYmplY3RLZXlzKHJvdXRlQ29uZmlnKSkucGlwZShNaWNyby5mbGF0TWFwKCh0eXBlKSA9PiBmaWxlU2l6ZVRvQnl0ZXMocm91dGVDb25maWdbdHlwZV0ubWF4RmlsZVNpemUpKSwgTWljcm8ubWFwKChtYXhGaWxlU2l6ZSkgPT4gZmlsZS5zaXplIDw9IG1heEZpbGVTaXplKSwgTWljcm8ub3JFbHNlU3VjY2VlZCgoKSA9PiBmYWxzZSkpKTtcbi8qKlxuKiBHZW5lcmF0ZSBhIHR5cGVkIHVwbG9hZGVyIGZvciBhIGdpdmVuIEZpbGVSb3V0ZXJcbiogQHB1YmxpY1xuKi9cbmNvbnN0IGdlblVwbG9hZGVyID0gKGluaXRPcHRzKSA9PiB7XG5cdGNvbnN0IHJvdXRlUmVnaXN0cnkgPSBjcmVhdGVJZGVudGl0eVByb3h5KCk7XG5cdGNvbnN0IGNvbnRyb2xsYWJsZVVwbG9hZCA9IGFzeW5jIChzbHVnLCBvcHRzKSA9PiB7XG5cdFx0Y29uc3QgdXBsb2FkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdFx0Y29uc3QgZW5kcG9pbnQgPSB0eXBlb2Ygc2x1ZyA9PT0gXCJmdW5jdGlvblwiID8gc2x1Zyhyb3V0ZVJlZ2lzdHJ5KSA6IHNsdWc7XG5cdFx0Y29uc3QgdHJhY2VIZWFkZXJzID0gZ2VuZXJhdGVUcmFjZUhlYWRlcnMoKTtcblx0XHRjb25zdCB1dFJlcG9ydGVyID0gY3JlYXRlVVRSZXBvcnRlcih7XG5cdFx0XHRlbmRwb2ludDogU3RyaW5nKGVuZHBvaW50KSxcblx0XHRcdHBhY2thZ2U6IGluaXRPcHRzPy5wYWNrYWdlID8/IFwidXBsb2FkdGhpbmcvY2xpZW50XCIsXG5cdFx0XHR1cmw6IHJlc29sdmVNYXliZVVybEFyZyhpbml0T3B0cz8udXJsKSxcblx0XHRcdGhlYWRlcnM6IG9wdHMuaGVhZGVycyxcblx0XHRcdHRyYWNlSGVhZGVyc1xuXHRcdH0pO1xuXHRcdGNvbnN0IGZldGNoRm4gPSBpbml0T3B0cz8uZmV0Y2ggPz8gd2luZG93LmZldGNoO1xuXHRcdGNvbnN0IHByZXNpZ25lZHMgPSBhd2FpdCBNaWNyby5ydW5Qcm9taXNlKHV0UmVwb3J0ZXIoXCJ1cGxvYWRcIiwge1xuXHRcdFx0aW5wdXQ6IFwiaW5wdXRcIiBpbiBvcHRzID8gb3B0cy5pbnB1dCA6IG51bGwsXG5cdFx0XHRmaWxlczogb3B0cy5maWxlcy5tYXAoKGYpID0+ICh7XG5cdFx0XHRcdG5hbWU6IGYubmFtZSxcblx0XHRcdFx0c2l6ZTogZi5zaXplLFxuXHRcdFx0XHR0eXBlOiBmLnR5cGUsXG5cdFx0XHRcdGxhc3RNb2RpZmllZDogZi5sYXN0TW9kaWZpZWRcblx0XHRcdH0pKVxuXHRcdH0pLnBpcGUoTWljcm8ucHJvdmlkZVNlcnZpY2UoRmV0Y2hDb250ZXh0LCBmZXRjaEZuKSkpO1xuXHRcdGNvbnN0IHRvdGFsU2l6ZSA9IG9wdHMuZmlsZXMucmVkdWNlKChhY2MsIGYpID0+IGFjYyArIGYuc2l6ZSwgMCk7XG5cdFx0bGV0IHRvdGFsTG9hZGVkID0gMDtcblx0XHRjb25zdCB1cGxvYWRFZmZlY3QgPSAoZmlsZSwgcHJlc2lnbmVkKSA9PiB1cGxvYWRGaWxlKGZpbGUsIHByZXNpZ25lZCwge1xuXHRcdFx0dHJhY2VIZWFkZXJzLFxuXHRcdFx0b25VcGxvYWRQcm9ncmVzczogKHByb2dyZXNzRXZlbnQpID0+IHtcblx0XHRcdFx0dG90YWxMb2FkZWQgKz0gcHJvZ3Jlc3NFdmVudC5kZWx0YTtcblx0XHRcdFx0b3B0cy5vblVwbG9hZFByb2dyZXNzPy4oe1xuXHRcdFx0XHRcdC4uLnByb2dyZXNzRXZlbnQsXG5cdFx0XHRcdFx0ZmlsZSxcblx0XHRcdFx0XHRwcm9ncmVzczogTWF0aC5yb3VuZChwcm9ncmVzc0V2ZW50LmxvYWRlZCAvIGZpbGUuc2l6ZSAqIDEwMCksXG5cdFx0XHRcdFx0dG90YWxMb2FkZWQsXG5cdFx0XHRcdFx0dG90YWxQcm9ncmVzczogTWF0aC5yb3VuZCh0b3RhbExvYWRlZCAvIHRvdGFsU2l6ZSAqIDEwMClcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSkucGlwZShNaWNyby5wcm92aWRlU2VydmljZShGZXRjaENvbnRleHQsIGZldGNoRm4pKTtcblx0XHRmb3IgKGNvbnN0IFtpLCBwXSBvZiBwcmVzaWduZWRzLmVudHJpZXMoKSkge1xuXHRcdFx0Y29uc3QgZmlsZSA9IG9wdHMuZmlsZXNbaV07XG5cdFx0XHRpZiAoIWZpbGUpIGNvbnRpbnVlO1xuXHRcdFx0Y29uc3QgZGVmZXJyZWQgPSBjcmVhdGVEZWZlcnJlZCgpO1xuXHRcdFx0dXBsb2Fkcy5zZXQoZmlsZSwge1xuXHRcdFx0XHRkZWZlcnJlZCxcblx0XHRcdFx0cHJlc2lnbmVkOiBwXG5cdFx0XHR9KTtcblx0XHRcdE1pY3JvLnJ1blByb21pc2VFeGl0KHVwbG9hZEVmZmVjdChmaWxlLCBwKSwgeyBzaWduYWw6IGRlZmVycmVkLmFjLnNpZ25hbCB9KS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0aWYgKHJlc3VsdC5fdGFnID09PSBcIlN1Y2Nlc3NcIikgcmV0dXJuIGRlZmVycmVkLnJlc29sdmUocmVzdWx0LnZhbHVlKTtcblx0XHRcdFx0ZWxzZSBpZiAocmVzdWx0LmNhdXNlLl90YWcgPT09IFwiSW50ZXJydXB0XCIpIHRocm93IG5ldyBVcGxvYWRQYXVzZWRFcnJvciQxKCk7XG5cdFx0XHRcdHRocm93IE1pY3JvLmNhdXNlU3F1YXNoKHJlc3VsdC5jYXVzZSk7XG5cdFx0XHR9KS5jYXRjaCgoZXJyKSA9PiB7XG5cdFx0XHRcdGlmIChlcnIgaW5zdGFuY2VvZiBVcGxvYWRQYXVzZWRFcnJvciQxKSByZXR1cm47XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8qKlxuXHRcdCogUGF1c2UgYW4gb25nb2luZyB1cGxvYWRcblx0XHQqIEBwYXJhbSBmaWxlIFRoZSBmaWxlIHVwbG9hZCB5b3Ugd2FudCB0byBwYXVzZS4gQ2FuIGJlIG9taXR0ZWQgdG8gcGF1c2UgYWxsIGZpbGVzXG5cdFx0Ki9cblx0XHRjb25zdCBwYXVzZVVwbG9hZCA9IChmaWxlKSA9PiB7XG5cdFx0XHRjb25zdCBmaWxlcyA9IEFyci5lbnN1cmUoZmlsZSA/PyBvcHRzLmZpbGVzKTtcblx0XHRcdGZvciAoY29uc3QgZmlsZSQxIG9mIGZpbGVzKSB7XG5cdFx0XHRcdGNvbnN0IHVwbG9hZCA9IHVwbG9hZHMuZ2V0KGZpbGUkMSk7XG5cdFx0XHRcdGlmICghdXBsb2FkKSByZXR1cm47XG5cdFx0XHRcdGlmICh1cGxvYWQuZGVmZXJyZWQuYWMuc2lnbmFsLmFib3J0ZWQpIHRocm93IG5ldyBVcGxvYWRBYm9ydGVkRXJyb3IkMSgpO1xuXHRcdFx0XHR1cGxvYWQuZGVmZXJyZWQuYWMuYWJvcnQoKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdC8qKlxuXHRcdCogUmVzdW1lIGEgcGF1c2VkIHVwbG9hZFxuXHRcdCogQHBhcmFtIGZpbGUgVGhlIGZpbGUgdXBsb2FkIHlvdSB3YW50IHRvIHJlc3VtZS4gQ2FuIGJlIG9taXR0ZWQgdG8gcmVzdW1lIGFsbCBmaWxlc1xuXHRcdCovXG5cdFx0Y29uc3QgcmVzdW1lVXBsb2FkID0gKGZpbGUpID0+IHtcblx0XHRcdGNvbnN0IGZpbGVzID0gQXJyLmVuc3VyZShmaWxlID8/IG9wdHMuZmlsZXMpO1xuXHRcdFx0Zm9yIChjb25zdCBmaWxlJDEgb2YgZmlsZXMpIHtcblx0XHRcdFx0Y29uc3QgdXBsb2FkID0gdXBsb2Fkcy5nZXQoZmlsZSQxKTtcblx0XHRcdFx0aWYgKCF1cGxvYWQpIHRocm93IFwiTm8gdXBsb2FkIGZvdW5kXCI7XG5cdFx0XHRcdHVwbG9hZC5kZWZlcnJlZC5hYyA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblx0XHRcdFx0TWljcm8ucnVuUHJvbWlzZUV4aXQodXBsb2FkRWZmZWN0KGZpbGUkMSwgdXBsb2FkLnByZXNpZ25lZCksIHsgc2lnbmFsOiB1cGxvYWQuZGVmZXJyZWQuYWMuc2lnbmFsIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuXHRcdFx0XHRcdGlmIChyZXN1bHQuX3RhZyA9PT0gXCJTdWNjZXNzXCIpIHJldHVybiB1cGxvYWQuZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQudmFsdWUpO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHJlc3VsdC5jYXVzZS5fdGFnID09PSBcIkludGVycnVwdFwiKSB0aHJvdyBuZXcgVXBsb2FkUGF1c2VkRXJyb3IkMSgpO1xuXHRcdFx0XHRcdHRocm93IE1pY3JvLmNhdXNlU3F1YXNoKHJlc3VsdC5jYXVzZSk7XG5cdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0XHRpZiAoZXJyIGluc3RhbmNlb2YgVXBsb2FkUGF1c2VkRXJyb3IkMSkgcmV0dXJuO1xuXHRcdFx0XHRcdHVwbG9hZC5kZWZlcnJlZC5yZWplY3QoZXJyKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHQvKipcblx0XHQqIFdhaXQgZm9yIGFuIHVwbG9hZCB0byBjb21wbGV0ZVxuXHRcdCogQHBhcmFtIGZpbGUgVGhlIGZpbGUgdXBsb2FkIHlvdSB3YW50IHRvIHdhaXQgZm9yLiBDYW4gYmUgb21pdHRlZCB0byB3YWl0IGZvciBhbGwgZmlsZXNcblx0XHQqL1xuXHRcdGNvbnN0IGRvbmUgPSBhc3luYyAoZmlsZSkgPT4ge1xuXHRcdFx0Y29uc3QgcHJvbWlzZXMgPSBbXTtcblx0XHRcdGNvbnN0IGZpbGVzID0gQXJyLmVuc3VyZShmaWxlID8/IG9wdHMuZmlsZXMpO1xuXHRcdFx0Zm9yIChjb25zdCBmaWxlJDEgb2YgZmlsZXMpIHtcblx0XHRcdFx0Y29uc3QgdXBsb2FkID0gdXBsb2Fkcy5nZXQoZmlsZSQxKTtcblx0XHRcdFx0aWYgKCF1cGxvYWQpIHRocm93IFwiTm8gdXBsb2FkIGZvdW5kXCI7XG5cdFx0XHRcdHByb21pc2VzLnB1c2godXBsb2FkLmRlZmVycmVkLnByb21pc2UpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblx0XHRcdHJldHVybiBmaWxlID8gcmVzdWx0c1swXSA6IHJlc3VsdHM7XG5cdFx0fTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cGF1c2VVcGxvYWQsXG5cdFx0XHRyZXN1bWVVcGxvYWQsXG5cdFx0XHRkb25lXG5cdFx0fTtcblx0fTtcblx0LyoqXG5cdCogT25lIHN0ZXAgdXBsb2FkIGZ1bmN0aW9uIHRoYXQgYm90aCByZXF1ZXN0cyBwcmVzaWduZWQgVVJMc1xuXHQqIGFuZCB0aGVuIHVwbG9hZHMgdGhlIGZpbGVzIHRvIFVwbG9hZFRoaW5nXG5cdCovXG5cdGNvbnN0IHR5cGVkVXBsb2FkRmlsZXMgPSAoc2x1Zywgb3B0cykgPT4ge1xuXHRcdGNvbnN0IGVuZHBvaW50ID0gdHlwZW9mIHNsdWcgPT09IFwiZnVuY3Rpb25cIiA/IHNsdWcocm91dGVSZWdpc3RyeSkgOiBzbHVnO1xuXHRcdGNvbnN0IGZldGNoRm4gPSBpbml0T3B0cz8uZmV0Y2ggPz8gd2luZG93LmZldGNoO1xuXHRcdHJldHVybiB1cGxvYWRGaWxlc0ludGVybmFsKGVuZHBvaW50LCB7XG5cdFx0XHQuLi5vcHRzLFxuXHRcdFx0c2tpcFBvbGxpbmc6IHt9LFxuXHRcdFx0dXJsOiByZXNvbHZlTWF5YmVVcmxBcmcoaW5pdE9wdHM/LnVybCksXG5cdFx0XHRwYWNrYWdlOiBpbml0T3B0cz8ucGFja2FnZSA/PyBcInVwbG9hZHRoaW5nL2NsaWVudFwiLFxuXHRcdFx0aW5wdXQ6IG9wdHMuaW5wdXRcblx0XHR9KS5waXBlKE1pY3JvLnByb3ZpZGVTZXJ2aWNlKEZldGNoQ29udGV4dCwgZmV0Y2hGbiksIChlZmZlY3QpID0+IE1pY3JvLnJ1blByb21pc2VFeGl0KGVmZmVjdCwgb3B0cy5zaWduYWwgJiYgeyBzaWduYWw6IG9wdHMuc2lnbmFsIH0pKS50aGVuKChleGl0KSA9PiB7XG5cdFx0XHRpZiAoZXhpdC5fdGFnID09PSBcIlN1Y2Nlc3NcIikgcmV0dXJuIGV4aXQudmFsdWU7XG5cdFx0XHRlbHNlIGlmIChleGl0LmNhdXNlLl90YWcgPT09IFwiSW50ZXJydXB0XCIpIHRocm93IG5ldyBVcGxvYWRBYm9ydGVkRXJyb3IkMSgpO1xuXHRcdFx0dGhyb3cgTWljcm8uY2F1c2VTcXVhc2goZXhpdC5jYXVzZSk7XG5cdFx0fSk7XG5cdH07XG5cdHJldHVybiB7XG5cdFx0dXBsb2FkRmlsZXM6IHR5cGVkVXBsb2FkRmlsZXMsXG5cdFx0Y3JlYXRlVXBsb2FkOiBjb250cm9sbGFibGVVcGxvYWQsXG5cdFx0cm91dGVSZWdpc3RyeVxuXHR9O1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBVcGxvYWRBYm9ydGVkRXJyb3IsIFVwbG9hZFBhdXNlZEVycm9yLCBhbGxvd2VkQ29udGVudFRleHRMYWJlbEdlbmVyYXRvciwgYnl0ZXNUb0ZpbGVTaXplLCBnZW5VcGxvYWRlciwgZ2VuZXJhdGVDbGllbnREcm9wem9uZUFjY2VwdCwgZ2VuZXJhdGVNaW1lVHlwZXMsIGdlbmVyYXRlUGVybWl0dGVkRmlsZVR5cGVzLCBpc1ZhbGlkRmlsZVNpemUsIGlzVmFsaWRGaWxlVHlwZSwgdmVyc2lvbiQxIGFzIHZlcnNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/client/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js":
/*!****************************************************************!*\
  !*** ./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logDeprecationWarning: () => (/* binding */ logDeprecationWarning)\n/* harmony export */ });\n//#region src/_internal/deprecations.ts\nconst logDeprecationWarning = (message) => {\n\tconsole.warn(`⚠️ [uploadthing][deprecated] ${message}`);\n};\n\n//#endregion\n\n//# sourceMappingURL=deprecations-pLmw6Ytd.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9kZXByZWNhdGlvbnMtcExtdzZZdGQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDs7QUFFQTtBQUNpQztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL3hpbmxpLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvZGVwcmVjYXRpb25zLXBMbXc2WXRkLmpzPzIxZDIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9faW50ZXJuYWwvZGVwcmVjYXRpb25zLnRzXG5jb25zdCBsb2dEZXByZWNhdGlvbldhcm5pbmcgPSAobWVzc2FnZSkgPT4ge1xuXHRjb25zb2xlLndhcm4oYOKaoO+4jyBbdXBsb2FkdGhpbmddW2RlcHJlY2F0ZWRdICR7bWVzc2FnZX1gKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgbG9nRGVwcmVjYXRpb25XYXJuaW5nIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXByZWNhdGlvbnMtcExtdzZZdGQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/dist/deprecations-pLmw6Ytd.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/dist/package-DpScpvTA.js":
/*!***********************************************************!*\
  !*** ./node_modules/uploadthing/dist/package-DpScpvTA.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n//#region package.json\nvar version = \"7.7.4\";\n\n//#endregion\n\n//# sourceMappingURL=package-DpScpvTA.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9wYWNrYWdlLURwU2NwdlRBLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBOztBQUVBO0FBQ21CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veGlubGkvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9wYWNrYWdlLURwU2NwdlRBLmpzP2NhZGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHBhY2thZ2UuanNvblxudmFyIHZlcnNpb24gPSBcIjcuNy40XCI7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgdmVyc2lvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFja2FnZS1EcFNjcHZUQS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/dist/package-DpScpvTA.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/dist/ut-reporter-Dlppchbx.js":
/*!***************************************************************!*\
  !*** ./node_modules/uploadthing/dist/ut-reporter-Dlppchbx.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDeferred: () => (/* binding */ createDeferred),\n/* harmony export */   createUTReporter: () => (/* binding */ createUTReporter),\n/* harmony export */   generateTraceHeaders: () => (/* binding */ generateTraceHeaders)\n/* harmony export */ });\n/* harmony import */ var _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./package-DpScpvTA.js */ \"(ssr)/./node_modules/uploadthing/dist/package-DpScpvTA.js\");\n/* harmony import */ var effect_Micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Micro */ \"(ssr)/./node_modules/effect/dist/esm/Micro.js\");\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uploadthing/shared */ \"(ssr)/./node_modules/@uploadthing/shared/dist/index.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Function */ \"(ssr)/./node_modules/effect/dist/esm/Function.js\");\n\n\n\n\n\n//#region src/_internal/deferred.ts\nconst createDeferred = () => {\n\tlet resolve;\n\tlet reject;\n\tconst ac = new AbortController();\n\tconst promise = new Promise((res, rej) => {\n\t\tresolve = res;\n\t\treject = rej;\n\t});\n\treturn {\n\t\tpromise,\n\t\tac,\n\t\tresolve,\n\t\treject\n\t};\n};\n\n//#endregion\n//#region src/_internal/random-hex.ts\nconst randomHexString = (function() {\n\tconst characters = \"abcdef0123456789\";\n\tconst charactersLength = 16;\n\treturn function(length) {\n\t\tlet result = \"\";\n\t\tfor (let i = 0; i < length; i++) result += characters.charAt(Math.floor(Math.random() * charactersLength));\n\t\treturn result;\n\t};\n})();\nconst generateTraceHeaders = () => {\n\tconst traceId = randomHexString(32);\n\tconst spanId = randomHexString(16);\n\tconst sampled = \"01\";\n\treturn {\n\t\tb3: `${traceId}-${spanId}-${sampled}`,\n\t\ttraceparent: `00-${traceId}-${spanId}-${sampled}`\n\t};\n};\n\n//#endregion\n//#region src/_internal/ut-reporter.ts\nconst createAPIRequestUrl = (config) => {\n\tconst url = new URL(config.url);\n\tconst queryParams = new URLSearchParams(url.search);\n\tqueryParams.set(\"actionType\", config.actionType);\n\tqueryParams.set(\"slug\", config.slug);\n\turl.search = queryParams.toString();\n\treturn url;\n};\n/**\n* Creates a \"client\" for reporting events to the UploadThing server via the user's API endpoint.\n* Events are handled in \"./handler.ts starting at L112\"\n*/\nconst createUTReporter = (cfg) => (type, payload) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.gen(function* () {\n\tconst url = createAPIRequestUrl({\n\t\turl: cfg.url,\n\t\tslug: cfg.endpoint,\n\t\tactionType: type\n\t});\n\tconst headers = new Headers(yield* effect_Micro__WEBPACK_IMPORTED_MODULE_0__.promise(async () => typeof cfg.headers === \"function\" ? await cfg.headers() : cfg.headers));\n\tif (cfg.package) headers.set(\"x-uploadthing-package\", cfg.package);\n\theaders.set(\"x-uploadthing-version\", _package_DpScpvTA_js__WEBPACK_IMPORTED_MODULE_1__.version);\n\theaders.set(\"Content-Type\", \"application/json\");\n\theaders.set(\"b3\", cfg.traceHeaders.b3);\n\theaders.set(\"traceparent\", cfg.traceHeaders.traceparent);\n\tconst response = yield* (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.fetchEff)(url, {\n\t\tmethod: \"POST\",\n\t\tbody: JSON.stringify(payload),\n\t\theaders\n\t}).pipe(\n\t\teffect_Micro__WEBPACK_IMPORTED_MODULE_0__.andThen(_uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.parseResponseJson),\n\t\t/**\n\t\t* We don't _need_ to validate the response here, just cast it for now.\n\t\t* As of now, @effect/schema includes quite a few bytes we cut out by this...\n\t\t* We have \"strong typing\" on the backend that ensures the shape should match.\n\t\t*/\n\t\teffect_Micro__WEBPACK_IMPORTED_MODULE_0__.map(effect_Function__WEBPACK_IMPORTED_MODULE_3__.unsafeCoerce),\n\t\teffect_Micro__WEBPACK_IMPORTED_MODULE_0__.catchTag(\"FetchError\", (e) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.fail(new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n\t\t\tcode: \"INTERNAL_CLIENT_ERROR\",\n\t\t\tmessage: `Failed to report event \"${type}\" to UploadThing server`,\n\t\t\tcause: e\n\t\t}))),\n\t\teffect_Micro__WEBPACK_IMPORTED_MODULE_0__.catchTag(\"BadRequestError\", (e) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.fail(new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n\t\t\tcode: (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.getErrorTypeFromStatusCode)(e.status),\n\t\t\tmessage: e.getMessage(),\n\t\t\tcause: e.json\n\t\t}))),\n\t\teffect_Micro__WEBPACK_IMPORTED_MODULE_0__.catchTag(\"InvalidJson\", (e) => effect_Micro__WEBPACK_IMPORTED_MODULE_0__.fail(new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n\t\t\tcode: \"INTERNAL_CLIENT_ERROR\",\n\t\t\tmessage: \"Failed to parse response from UploadThing server\",\n\t\t\tcause: e\n\t\t})))\n\t);\n\treturn response;\n});\n\n//#endregion\n\n//# sourceMappingURL=ut-reporter-Dlppchbx.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC91dC1yZXBvcnRlci1EbHBwY2hieC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdEO0FBQ1Y7QUFDMEU7QUFDakU7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFFBQVEsR0FBRyxPQUFPLEdBQUcsUUFBUTtBQUN0QyxxQkFBcUIsUUFBUSxHQUFHLE9BQU8sR0FBRyxRQUFRO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw2Q0FBUztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixvQ0FBb0MsaURBQWE7QUFDakQ7QUFDQSxzQ0FBc0MseURBQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixFQUFFLGlEQUFhLENBQUMsa0VBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDZDQUFTLENBQUMseURBQVk7QUFDeEIsRUFBRSxrREFBYyxzQkFBc0IsOENBQVUsS0FBSyxpRUFBZ0I7QUFDckU7QUFDQSx1Q0FBdUMsS0FBSztBQUM1QztBQUNBLEdBQUc7QUFDSCxFQUFFLGtEQUFjLDJCQUEyQiw4Q0FBVSxLQUFLLGlFQUFnQjtBQUMxRSxTQUFTLCtFQUEwQjtBQUNuQztBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsa0RBQWMsdUJBQXVCLDhDQUFVLEtBQUssaUVBQWdCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNrRTtBQUNsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3hpbmxpLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvdXQtcmVwb3J0ZXItRGxwcGNoYnguanM/ZmJkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vcGFja2FnZS1EcFNjcHZUQS5qc1wiO1xuaW1wb3J0ICogYXMgTWljcm8gZnJvbSBcImVmZmVjdC9NaWNyb1wiO1xuaW1wb3J0IHsgVXBsb2FkVGhpbmdFcnJvciwgZmV0Y2hFZmYsIGdldEVycm9yVHlwZUZyb21TdGF0dXNDb2RlLCBwYXJzZVJlc3BvbnNlSnNvbiB9IGZyb20gXCJAdXBsb2FkdGhpbmcvc2hhcmVkXCI7XG5pbXBvcnQgeyB1bnNhZmVDb2VyY2UgfSBmcm9tIFwiZWZmZWN0L0Z1bmN0aW9uXCI7XG5cbi8vI3JlZ2lvbiBzcmMvX2ludGVybmFsL2RlZmVycmVkLnRzXG5jb25zdCBjcmVhdGVEZWZlcnJlZCA9ICgpID0+IHtcblx0bGV0IHJlc29sdmU7XG5cdGxldCByZWplY3Q7XG5cdGNvbnN0IGFjID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXHRjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG5cdFx0cmVzb2x2ZSA9IHJlcztcblx0XHRyZWplY3QgPSByZWo7XG5cdH0pO1xuXHRyZXR1cm4ge1xuXHRcdHByb21pc2UsXG5cdFx0YWMsXG5cdFx0cmVzb2x2ZSxcblx0XHRyZWplY3Rcblx0fTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9faW50ZXJuYWwvcmFuZG9tLWhleC50c1xuY29uc3QgcmFuZG9tSGV4U3RyaW5nID0gKGZ1bmN0aW9uKCkge1xuXHRjb25zdCBjaGFyYWN0ZXJzID0gXCJhYmNkZWYwMTIzNDU2Nzg5XCI7XG5cdGNvbnN0IGNoYXJhY3RlcnNMZW5ndGggPSAxNjtcblx0cmV0dXJuIGZ1bmN0aW9uKGxlbmd0aCkge1xuXHRcdGxldCByZXN1bHQgPSBcIlwiO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcbn0pKCk7XG5jb25zdCBnZW5lcmF0ZVRyYWNlSGVhZGVycyA9ICgpID0+IHtcblx0Y29uc3QgdHJhY2VJZCA9IHJhbmRvbUhleFN0cmluZygzMik7XG5cdGNvbnN0IHNwYW5JZCA9IHJhbmRvbUhleFN0cmluZygxNik7XG5cdGNvbnN0IHNhbXBsZWQgPSBcIjAxXCI7XG5cdHJldHVybiB7XG5cdFx0YjM6IGAke3RyYWNlSWR9LSR7c3BhbklkfS0ke3NhbXBsZWR9YCxcblx0XHR0cmFjZXBhcmVudDogYDAwLSR7dHJhY2VJZH0tJHtzcGFuSWR9LSR7c2FtcGxlZH1gXG5cdH07XG59O1xuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvX2ludGVybmFsL3V0LXJlcG9ydGVyLnRzXG5jb25zdCBjcmVhdGVBUElSZXF1ZXN0VXJsID0gKGNvbmZpZykgPT4ge1xuXHRjb25zdCB1cmwgPSBuZXcgVVJMKGNvbmZpZy51cmwpO1xuXHRjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXJsLnNlYXJjaCk7XG5cdHF1ZXJ5UGFyYW1zLnNldChcImFjdGlvblR5cGVcIiwgY29uZmlnLmFjdGlvblR5cGUpO1xuXHRxdWVyeVBhcmFtcy5zZXQoXCJzbHVnXCIsIGNvbmZpZy5zbHVnKTtcblx0dXJsLnNlYXJjaCA9IHF1ZXJ5UGFyYW1zLnRvU3RyaW5nKCk7XG5cdHJldHVybiB1cmw7XG59O1xuLyoqXG4qIENyZWF0ZXMgYSBcImNsaWVudFwiIGZvciByZXBvcnRpbmcgZXZlbnRzIHRvIHRoZSBVcGxvYWRUaGluZyBzZXJ2ZXIgdmlhIHRoZSB1c2VyJ3MgQVBJIGVuZHBvaW50LlxuKiBFdmVudHMgYXJlIGhhbmRsZWQgaW4gXCIuL2hhbmRsZXIudHMgc3RhcnRpbmcgYXQgTDExMlwiXG4qL1xuY29uc3QgY3JlYXRlVVRSZXBvcnRlciA9IChjZmcpID0+ICh0eXBlLCBwYXlsb2FkKSA9PiBNaWNyby5nZW4oZnVuY3Rpb24qICgpIHtcblx0Y29uc3QgdXJsID0gY3JlYXRlQVBJUmVxdWVzdFVybCh7XG5cdFx0dXJsOiBjZmcudXJsLFxuXHRcdHNsdWc6IGNmZy5lbmRwb2ludCxcblx0XHRhY3Rpb25UeXBlOiB0eXBlXG5cdH0pO1xuXHRjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoeWllbGQqIE1pY3JvLnByb21pc2UoYXN5bmMgKCkgPT4gdHlwZW9mIGNmZy5oZWFkZXJzID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBjZmcuaGVhZGVycygpIDogY2ZnLmhlYWRlcnMpKTtcblx0aWYgKGNmZy5wYWNrYWdlKSBoZWFkZXJzLnNldChcIngtdXBsb2FkdGhpbmctcGFja2FnZVwiLCBjZmcucGFja2FnZSk7XG5cdGhlYWRlcnMuc2V0KFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCIsIHZlcnNpb24pO1xuXHRoZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cdGhlYWRlcnMuc2V0KFwiYjNcIiwgY2ZnLnRyYWNlSGVhZGVycy5iMyk7XG5cdGhlYWRlcnMuc2V0KFwidHJhY2VwYXJlbnRcIiwgY2ZnLnRyYWNlSGVhZGVycy50cmFjZXBhcmVudCk7XG5cdGNvbnN0IHJlc3BvbnNlID0geWllbGQqIGZldGNoRWZmKHVybCwge1xuXHRcdG1ldGhvZDogXCJQT1NUXCIsXG5cdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG5cdFx0aGVhZGVyc1xuXHR9KS5waXBlKFxuXHRcdE1pY3JvLmFuZFRoZW4ocGFyc2VSZXNwb25zZUpzb24pLFxuXHRcdC8qKlxuXHRcdCogV2UgZG9uJ3QgX25lZWRfIHRvIHZhbGlkYXRlIHRoZSByZXNwb25zZSBoZXJlLCBqdXN0IGNhc3QgaXQgZm9yIG5vdy5cblx0XHQqIEFzIG9mIG5vdywgQGVmZmVjdC9zY2hlbWEgaW5jbHVkZXMgcXVpdGUgYSBmZXcgYnl0ZXMgd2UgY3V0IG91dCBieSB0aGlzLi4uXG5cdFx0KiBXZSBoYXZlIFwic3Ryb25nIHR5cGluZ1wiIG9uIHRoZSBiYWNrZW5kIHRoYXQgZW5zdXJlcyB0aGUgc2hhcGUgc2hvdWxkIG1hdGNoLlxuXHRcdCovXG5cdFx0TWljcm8ubWFwKHVuc2FmZUNvZXJjZSksXG5cdFx0TWljcm8uY2F0Y2hUYWcoXCJGZXRjaEVycm9yXCIsIChlKSA9PiBNaWNyby5mYWlsKG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcblx0XHRcdGNvZGU6IFwiSU5URVJOQUxfQ0xJRU5UX0VSUk9SXCIsXG5cdFx0XHRtZXNzYWdlOiBgRmFpbGVkIHRvIHJlcG9ydCBldmVudCBcIiR7dHlwZX1cIiB0byBVcGxvYWRUaGluZyBzZXJ2ZXJgLFxuXHRcdFx0Y2F1c2U6IGVcblx0XHR9KSkpLFxuXHRcdE1pY3JvLmNhdGNoVGFnKFwiQmFkUmVxdWVzdEVycm9yXCIsIChlKSA9PiBNaWNyby5mYWlsKG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcblx0XHRcdGNvZGU6IGdldEVycm9yVHlwZUZyb21TdGF0dXNDb2RlKGUuc3RhdHVzKSxcblx0XHRcdG1lc3NhZ2U6IGUuZ2V0TWVzc2FnZSgpLFxuXHRcdFx0Y2F1c2U6IGUuanNvblxuXHRcdH0pKSksXG5cdFx0TWljcm8uY2F0Y2hUYWcoXCJJbnZhbGlkSnNvblwiLCAoZSkgPT4gTWljcm8uZmFpbChuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG5cdFx0XHRjb2RlOiBcIklOVEVSTkFMX0NMSUVOVF9FUlJPUlwiLFxuXHRcdFx0bWVzc2FnZTogXCJGYWlsZWQgdG8gcGFyc2UgcmVzcG9uc2UgZnJvbSBVcGxvYWRUaGluZyBzZXJ2ZXJcIixcblx0XHRcdGNhdXNlOiBlXG5cdFx0fSkpKVxuXHQpO1xuXHRyZXR1cm4gcmVzcG9uc2U7XG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBjcmVhdGVEZWZlcnJlZCwgY3JlYXRlVVRSZXBvcnRlciwgZ2VuZXJhdGVUcmFjZUhlYWRlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0LXJlcG9ydGVyLURscHBjaGJ4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/dist/ut-reporter-Dlppchbx.js\n");

/***/ })

};
;