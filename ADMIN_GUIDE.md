# 心晴驿站 - 管理员功能说明

## 管理员账户

### 默认管理员账户
- **用户名**: `admin`
- **密码**: `admin123`

### 管理员功能

#### 1. 用户管理
- 查看所有注册用户
- 提升普通用户为咨询师
- 将咨询师降为普通用户
- 无法修改其他管理员的权限

#### 2. 系统设置
- **注册开关**: 管理员可以开启或关闭用户注册功能
- 当注册关闭时，新用户将无法注册账户
- 现有用户仍可正常登录和使用系 统

### 访问管理面板

1. 使用管理员账户登录系统
2. 在左侧导航栏中会出现"管理员功能"分组
3. 点击"管理员面板"进入管理界面

### 功能详情

#### 用户角色
- **USER**: 普通用户，可使用所有基础功能
- **COUNSELOR**: 咨询师，具有额外的咨询功能
- **ADMIN**: 管理员，可管理用户和系统设置

#### 系统设置
- 设置使用文件存储（`.settings.json`）
- 管理员可通过界面切换注册开关
- 设置立即生效，无需重启服务

### 安全说明

1. 请在生产环境中修改默认管理员密码
2. 管理员无法禁用自己的账户
3. 管理员无法修改其他管理员的权限
4. 系统设置会持久保存到文件系统

### 开发说明

如需添加新的系统设置：

1. 在 `src/lib/settings.ts` 中更新 `Settings` 接口
2. 在 `getDefaultSettings()` 中添加默认值
3. 在管理界面中添加相应的控制组件

### API端点

- `GET /api/admin/users` - 获取所有用户
- `PATCH /api/admin/users` - 更新用户角色
- `GET /api/admin/settings` - 获取系统设置
- `POST /api/admin/settings` - 更新系统设置